"use strict";(self.webpackChunkactividad_24=self.webpackChunkactividad_24||[]).push([[179],{596:()=>{function De(t){return"function"==typeof t}function ru(t){const n=t(r=>{Error.call(r),r.stack=(new Error).stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}const Vl=ru(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:\n${n.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=n});function oo(t,e){if(t){const n=t.indexOf(e);0<=n&&t.splice(n,1)}}class In{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(const s of n)s.remove(this);else n.remove(this);const{initialTeardown:r}=this;if(De(r))try{r()}catch(s){e=s instanceof Vl?s.errors:[s]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const s of i)try{MT(s)}catch(o){e=e??[],o instanceof Vl?e=[...e,...o.errors]:e.push(o)}}if(e)throw new Vl(e)}}add(e){var n;if(e&&e!==this)if(this.closed)MT(e);else{if(e instanceof In){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(e)}}_hasParent(e){const{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){const{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){const{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&oo(n,e)}remove(e){const{_finalizers:n}=this;n&&oo(n,e),e instanceof In&&e._removeParent(this)}}In.EMPTY=(()=>{const t=new In;return t.closed=!0,t})();const AT=In.EMPTY;function xT(t){return t instanceof In||t&&"closed"in t&&De(t.remove)&&De(t.add)&&De(t.unsubscribe)}function MT(t){De(t)?t():t.unsubscribe()}const zi={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Ul={setTimeout(t,e,...n){const{delegate:r}=Ul;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){const{delegate:e}=Ul;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function kT(t){Ul.setTimeout(()=>{const{onUnhandledError:e}=zi;if(!e)throw t;e(t)})}function RT(){}const b2=tg("C",void 0,void 0);function tg(t,e,n){return{kind:t,value:e,error:n}}let Wi=null;function Bl(t){if(zi.useDeprecatedSynchronousErrorHandling){const e=!Wi;if(e&&(Wi={errorThrown:!1,error:null}),t(),e){const{errorThrown:n,error:r}=Wi;if(Wi=null,n)throw r}}else t()}class ng extends In{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,xT(e)&&e.add(this)):this.destination=k2}static create(e,n,r){return new iu(e,n,r)}next(e){this.isStopped?ig(function T2(t){return tg("N",t,void 0)}(e),this):this._next(e)}error(e){this.isStopped?ig(function C2(t){return tg("E",void 0,t)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?ig(b2,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const A2=Function.prototype.bind;function rg(t,e){return A2.call(t,e)}class x2{constructor(e){this.partialObserver=e}next(e){const{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){$l(r)}}error(e){const{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){$l(r)}else $l(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){$l(n)}}}class iu extends ng{constructor(e,n,r){let i;if(super(),De(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let s;this&&zi.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&rg(e.next,s),error:e.error&&rg(e.error,s),complete:e.complete&&rg(e.complete,s)}):i=e}this.destination=new x2(i)}}function $l(t){zi.useDeprecatedSynchronousErrorHandling?function S2(t){zi.useDeprecatedSynchronousErrorHandling&&Wi&&(Wi.errorThrown=!0,Wi.error=t)}(t):kT(t)}function ig(t,e){const{onStoppedNotification:n}=zi;n&&Ul.setTimeout(()=>n(t,e))}const k2={closed:!0,next:RT,error:function M2(t){throw t},complete:RT},sg="function"==typeof Symbol&&Symbol.observable||"@@observable";function Ki(t){return t}function NT(t){return 0===t.length?Ki:1===t.length?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}let Oe=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){const r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){const s=function O2(t){return t&&t instanceof ng||function N2(t){return t&&De(t.next)&&De(t.error)&&De(t.complete)}(t)&&xT(t)}(n)?n:new iu(n,r,i);return Bl(()=>{const{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return new(r=OT(r))((i,s)=>{const o=new iu({next:a=>{try{n(a)}catch(u){s(u),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(n){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(n)}[sg](){return this}pipe(...n){return NT(n)(this)}toPromise(n){return new(n=OT(n))((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return t.create=e=>new t(e),t})();function OT(t){var e;return null!==(e=t??zi.Promise)&&void 0!==e?e:Promise}const P2=ru(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let Rr=(()=>{class t extends Oe{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){const r=new PT(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new P2}next(n){Bl(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(n)}})}error(n){Bl(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;const{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){Bl(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return(null===(n=this.observers)||void 0===n?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){const{hasError:r,isStopped:i,observers:s}=this;return r||i?AT:(this.currentObservers=null,s.push(n),new In(()=>{this.currentObservers=null,oo(s,n)}))}_checkFinalizedStatuses(n){const{hasError:r,thrownError:i,isStopped:s}=this;r?n.error(i):s&&n.complete()}asObservable(){const n=new Oe;return n.source=this,n}}return t.create=(e,n)=>new PT(e,n),t})();class PT extends Rr{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.next)||void 0===r||r.call(n,e)}error(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.error)||void 0===r||r.call(n,e)}complete(){var e,n;null===(n=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===n||n.call(e)}_subscribe(e){var n,r;return null!==(r=null===(n=this.source)||void 0===n?void 0:n.subscribe(e))&&void 0!==r?r:AT}}function FT(t){return De(t?.lift)}function mt(t){return e=>{if(FT(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function at(t,e,n,r,i){return new F2(t,e,n,r,i)}class F2 extends ng{constructor(e,n,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=n?function(a){try{n(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:n}=this;super.unsubscribe(),!n&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function se(t,e){return mt((n,r)=>{let i=0;n.subscribe(at(r,s=>{r.next(t.call(e,s,i++))}))})}function VT(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}function Qi(t){return this instanceof Qi?(this.v=t,this):new Qi(t)}function U2(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=n.apply(t,e||[]),s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(h){r[h]&&(i[h]=function(f){return new Promise(function(p,g){s.push([h,f,p,g])>1||a(h,f)})})}function a(h,f){try{!function u(h){h.value instanceof Qi?Promise.resolve(h.value.v).then(c,l):d(s[0][2],h)}(r[h](f))}catch(p){d(s[0][3],p)}}function c(h){a("next",h)}function l(h){a("throw",h)}function d(h,f){h(f),s.shift(),s.length&&a(s[0][0],s[0][1])}}function B2(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,e=t[Symbol.asyncIterator];return e?e.call(t):(t=function BT(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(t),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(a,u){!function i(s,o,a,u){Promise.resolve(u).then(function(c){s({value:c,done:a})},o)}(a,u,(o=t[s](o)).done,o.value)})}}}const $T=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function jT(t){return De(t?.then)}function GT(t){return De(t[sg])}function HT(t){return Symbol.asyncIterator&&De(t?.[Symbol.asyncIterator])}function qT(t){return new TypeError(`You provided ${null!==t&&"object"==typeof t?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const zT=function j2(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function WT(t){return De(t?.[zT])}function KT(t){return U2(this,arguments,function*(){const n=t.getReader();try{for(;;){const{value:r,done:i}=yield Qi(n.read());if(i)return yield Qi(void 0);yield yield Qi(r)}}finally{n.releaseLock()}})}function QT(t){return De(t?.getReader)}function Wn(t){if(t instanceof Oe)return t;if(null!=t){if(GT(t))return function G2(t){return new Oe(e=>{const n=t[sg]();if(De(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(t);if($T(t))return function H2(t){return new Oe(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}(t);if(jT(t))return function q2(t){return new Oe(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,kT)})}(t);if(HT(t))return YT(t);if(WT(t))return function z2(t){return new Oe(e=>{for(const n of t)if(e.next(n),e.closed)return;e.complete()})}(t);if(QT(t))return function W2(t){return YT(KT(t))}(t)}throw qT(t)}function YT(t){return new Oe(e=>{(function K2(t,e){var n,r,i,s;return function L2(t,e,n,r){return new(n||(n=Promise))(function(s,o){function a(l){try{c(r.next(l))}catch(d){o(d)}}function u(l){try{c(r.throw(l))}catch(d){o(d)}}function c(l){l.done?s(l.value):function i(s){return s instanceof n?s:new n(function(o){o(s)})}(l.value).then(a,u)}c((r=r.apply(t,e||[])).next())})}(this,void 0,void 0,function*(){try{for(n=B2(t);!(r=yield n.next()).done;)if(e.next(r.value),e.closed)return}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(i)throw i.error}}e.complete()})})(t,e).catch(n=>e.error(n))})}function Nr(t,e,n,r=0,i=!1){const s=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(s),!i)return s}function Et(t,e,n=1/0){return De(e)?Et((r,i)=>se((s,o)=>e(r,s,i,o))(Wn(t(r,i))),n):("number"==typeof e&&(n=e),mt((r,i)=>function Q2(t,e,n,r,i,s,o,a){const u=[];let c=0,l=0,d=!1;const h=()=>{d&&!u.length&&!c&&e.complete()},f=g=>c<r?p(g):u.push(g),p=g=>{s&&e.next(g),c++;let y=!1;Wn(n(g,l++)).subscribe(at(e,I=>{i?.(I),s?f(I):e.next(I)},()=>{y=!0},void 0,()=>{if(y)try{for(c--;u.length&&c<r;){const I=u.shift();o?Nr(e,o,()=>p(I)):p(I)}h()}catch(I){e.error(I)}}))};return t.subscribe(at(e,f,()=>{d=!0,h()})),()=>{a?.()}}(r,i,t,n)))}function ao(t=1/0){return Et(Ki,t)}const ur=new Oe(t=>t.complete());function ag(t){return t[t.length-1]}function ZT(t){return De(ag(t))?t.pop():void 0}function su(t){return function Z2(t){return t&&De(t.schedule)}(ag(t))?t.pop():void 0}function jl(t,e=0){return mt((n,r)=>{n.subscribe(at(r,i=>Nr(r,t,()=>r.next(i),e),()=>Nr(r,t,()=>r.complete(),e),i=>Nr(r,t,()=>r.error(i),e)))})}function Gl(t,e=0){return mt((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function XT(t,e){if(!t)throw new Error("Iterable cannot be null");return new Oe(n=>{Nr(n,e,()=>{const r=t[Symbol.asyncIterator]();Nr(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function tt(t,e){return e?function i$(t,e){if(null!=t){if(GT(t))return function J2(t,e){return Wn(t).pipe(Gl(e),jl(e))}(t,e);if($T(t))return function t$(t,e){return new Oe(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}(t,e);if(jT(t))return function e$(t,e){return Wn(t).pipe(Gl(e),jl(e))}(t,e);if(HT(t))return XT(t,e);if(WT(t))return function n$(t,e){return new Oe(n=>{let r;return Nr(n,e,()=>{r=t[zT](),Nr(n,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){return void n.error(o)}s?n.complete():n.next(i)},0,!0)}),()=>De(r?.return)&&r.return()})}(t,e);if(QT(t))return function r$(t,e){return XT(KT(t),e)}(t,e)}throw qT(t)}(t,e):Wn(t)}function ug(t,e,...n){if(!0===e)return void t();if(!1===e)return;const r=new iu({next:()=>{r.unsubscribe(),t()}});return e(...n).subscribe(r)}function Ee(t){for(let e in t)if(t[e]===Ee)return e;throw Error("Could not find renamed property on target object.")}function cg(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function be(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(be).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function lg(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const a$=Ee({__forward_ref__:Ee});function Ce(t){return t.__forward_ref__=Ce,t.toString=function(){return be(this())},t}function H(t){return dg(t)?t():t}function dg(t){return"function"==typeof t&&t.hasOwnProperty(a$)&&t.__forward_ref__===Ce}function hg(t){return t&&!!t.\u0275providers}const JT="https://g.co/ng/security#xss";class S extends Error{constructor(e,n){super(function Hl(t,e){return`NG0${Math.abs(t)}${e?": "+e.trim():""}`}(e,n)),this.code=e}}function Z(t){return"string"==typeof t?t:null==t?"":String(t)}function ql(t,e){throw new S(-201,!1)}function Fn(t,e){null==t&&function ye(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t}`+(null==r?"":` [Expected=> ${n} ${r} ${e} <=Actual]`))}(e,t,null,"!=")}function q(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Ft(t){return{providers:t.providers||[],imports:t.imports||[]}}function zl(t){return e0(t,Wl)||e0(t,n0)}function e0(t,e){return t.hasOwnProperty(e)?t[e]:null}function t0(t){return t&&(t.hasOwnProperty(fg)||t.hasOwnProperty(m$))?t[fg]:null}const Wl=Ee({\u0275prov:Ee}),fg=Ee({\u0275inj:Ee}),n0=Ee({ngInjectableDef:Ee}),m$=Ee({ngInjectorDef:Ee});var z=(()=>((z=z||{})[z.Default=0]="Default",z[z.Host=1]="Host",z[z.Self=2]="Self",z[z.SkipSelf=4]="SkipSelf",z[z.Optional=8]="Optional",z))();let pg;function Ln(t){const e=pg;return pg=t,e}function r0(t,e,n){const r=zl(t);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&z.Optional?null:void 0!==e?e:void ql(be(t))}const Te=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),ou={},gg="__NG_DI_FLAG__",Kl="ngTempTokenPath",v$=/\n/gm,s0="__source";let au;function uo(t){const e=au;return au=t,e}function I$(t,e=z.Default){if(void 0===au)throw new S(-203,!1);return null===au?r0(t,void 0,e):au.get(t,e&z.Optional?null:void 0,e)}function $(t,e=z.Default){return(function y$(){return pg}()||I$)(H(t),e)}function le(t,e=z.Default){return $(t,Ql(e))}function Ql(t){return typeof t>"u"||"number"==typeof t?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function mg(t){const e=[];for(let n=0;n<t.length;n++){const r=H(t[n]);if(Array.isArray(r)){if(0===r.length)throw new S(900,!1);let i,s=z.Default;for(let o=0;o<r.length;o++){const a=r[o],u=E$(a);"number"==typeof u?-1===u?i=a.token:s|=u:i=a}e.push($(i,s))}else e.push($(r))}return e}function uu(t,e){return t[gg]=e,t.prototype[gg]=e,t}function E$(t){return t[gg]}function gi(t){return{toString:t}.toString()}var Kn=(()=>((Kn=Kn||{})[Kn.OnPush=0]="OnPush",Kn[Kn.Default=1]="Default",Kn))(),cr=(()=>{return(t=cr||(cr={}))[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",cr;var t})();const Or={},ge=[],Yl=Ee({\u0275cmp:Ee}),yg=Ee({\u0275dir:Ee}),_g=Ee({\u0275pipe:Ee}),a0=Ee({\u0275mod:Ee}),Pr=Ee({\u0275fac:Ee}),cu=Ee({__NG_ELEMENT_ID__:Ee});let C$=0;function Yi(t){return gi(()=>{const n=!0===t.standalone,r={},i={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:r,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===Kn.OnPush,directiveDefs:null,pipeDefs:null,standalone:n,dependencies:n&&t.dependencies||null,getStandaloneInjector:null,selectors:t.selectors||ge,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||cr.Emulated,id:"c"+C$++,styles:t.styles||ge,_:null,setInput:null,schemas:t.schemas||null,tView:null,findHostDirectiveDefs:null,hostDirectives:null},s=t.dependencies,o=t.features;return i.inputs=l0(t.inputs,r),i.outputs=l0(t.outputs),o&&o.forEach(a=>a(i)),i.directiveDefs=s?()=>("function"==typeof s?s():s).map(u0).filter(c0):null,i.pipeDefs=s?()=>("function"==typeof s?s():s).map(Wt).filter(c0):null,i})}function u0(t){return _e(t)||Lt(t)}function c0(t){return null!==t}function zt(t){return gi(()=>({type:t.type,bootstrap:t.bootstrap||ge,declarations:t.declarations||ge,imports:t.imports||ge,exports:t.exports||ge,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function l0(t,e){if(null==t)return Or;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),n[i]=r,e&&(e[i]=s)}return n}const K=Yi;function _e(t){return t[Yl]||null}function Lt(t){return t[yg]||null}function Wt(t){return t[_g]||null}function Dn(t,e){const n=t[a0]||null;if(!n&&!0===e)throw new Error(`Type ${be(t)} does not have '\u0275mod' property.`);return n}function bn(t){return Array.isArray(t)&&"object"==typeof t[1]}function Yn(t){return Array.isArray(t)&&!0===t[1]}function Ig(t){return 0!=(4&t.flags)}function fu(t){return t.componentOffset>-1}function td(t){return 1==(1&t.flags)}function Zn(t){return null!==t.template}function A$(t){return 0!=(256&t[2])}function Xi(t,e){return t.hasOwnProperty(Pr)?t[Pr]:null}class k${constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function Vn(){return m0}function m0(t){return t.type.prototype.ngOnChanges&&(t.setInput=N$),R$}function R$(){const t=_0(this),e=t?.current;if(e){const n=t.previous;if(n===Or)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function N$(t,e,n,r){const i=this.declaredInputs[n],s=_0(t)||function O$(t,e){return t[y0]=e}(t,{previous:Or,current:null}),o=s.current||(s.current={}),a=s.previous,u=a[i];o[i]=new k$(u&&u.currentValue,e,a===Or),t[r]=e}Vn.ngInherit=!0;const y0="__ngSimpleChanges__";function _0(t){return t[y0]||null}function Dt(t){for(;Array.isArray(t);)t=t[0];return t}function nd(t,e){return Dt(e[t])}function Cn(t,e){return Dt(e[t.index])}function I0(t,e){return t.data[e]}function Tn(t,e){const n=e[t];return bn(n)?n:n[0]}function rd(t){return 64==(64&t[2])}function mi(t,e){return null==e?null:t[e]}function E0(t){t[18]=0}function Dg(t,e){t[5]+=e;let n=t,r=t[3];for(;null!==r&&(1===e&&1===n[5]||-1===e&&0===n[5]);)r[5]+=e,n=r,r=r[3]}const X={lFrame:O0(null),bindingsEnabled:!0};function b0(){return X.bindingsEnabled}function E(){return X.lFrame.lView}function de(){return X.lFrame.tView}function bt(){let t=S0();for(;null!==t&&64===t.type;)t=t.parent;return t}function S0(){return X.lFrame.currentTNode}function dr(t,e){const n=X.lFrame;n.currentTNode=t,n.isParent=e}function bg(){return X.lFrame.isParent}function mo(){return X.lFrame.bindingIndex++}function W$(t,e){const n=X.lFrame;n.bindingIndex=n.bindingRootIndex=t,Tg(e)}function Tg(t){X.lFrame.currentDirectiveIndex=t}function Ag(t){X.lFrame.currentQueryIndex=t}function Q$(t){const e=t[1];return 2===e.type?e.declTNode:1===e.type?t[6]:null}function R0(t,e,n){if(n&z.SkipSelf){let i=e,s=t;for(;!(i=i.parent,null!==i||n&z.Host||(i=Q$(s),null===i||(s=s[15],10&i.type))););if(null===i)return!1;e=i,t=s}const r=X.lFrame=N0();return r.currentTNode=e,r.lView=t,!0}function xg(t){const e=N0(),n=t[1];X.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function N0(){const t=X.lFrame,e=null===t?null:t.child;return null===e?O0(t):e}function O0(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function P0(){const t=X.lFrame;return X.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const F0=P0;function Mg(){const t=P0();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Yt(){return X.lFrame.selectedIndex}function Ji(t){X.lFrame.selectedIndex=t}function Pe(){const t=X.lFrame;return I0(t.tView,t.selectedIndex)}function id(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const s=t.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:c,ngOnDestroy:l}=s;o&&(t.contentHooks||(t.contentHooks=[])).push(-n,o),a&&((t.contentHooks||(t.contentHooks=[])).push(n,a),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,a)),u&&(t.viewHooks||(t.viewHooks=[])).push(-n,u),c&&((t.viewHooks||(t.viewHooks=[])).push(n,c),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,c)),null!=l&&(t.destroyHooks||(t.destroyHooks=[])).push(n,l)}}function sd(t,e,n){L0(t,e,3,n)}function od(t,e,n,r){(3&t[2])===n&&L0(t,e,n,r)}function kg(t,e){let n=t[2];(3&n)===e&&(n&=2047,n+=1,t[2]=n)}function L0(t,e,n,r){const s=r??-1,o=e.length-1;let a=0;for(let u=void 0!==r?65535&t[18]:0;u<o;u++)if("number"==typeof e[u+1]){if(a=e[u],null!=r&&a>=r)break}else e[u]<0&&(t[18]+=65536),(a<s||-1==s)&&(ij(t,n,e,u),t[18]=(4294901760&t[18])+u+2),u++}function ij(t,e,n,r){const i=n[r]<0,s=n[r+1],a=t[i?-n[r]:n[r]];if(i){if(t[2]>>11<t[18]>>16&&(3&t[2])===e){t[2]+=2048;try{s.call(a)}finally{}}}else try{s.call(a)}finally{}}class gu{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}}function Ng(t,e,n){let r=0;for(;r<n.length;){const i=n[r];if("number"==typeof i){if(0!==i)break;r++;const s=n[r++],o=n[r++],a=n[r++];t.setAttribute(e,o,a,s)}else{const s=i,o=n[++r];U0(s)?t.setProperty(e,s,o):t.setAttribute(e,s,o),r++}}return r}function V0(t){return 3===t||4===t||6===t}function U0(t){return 64===t.charCodeAt(0)}function mu(t,e){if(null!==e&&0!==e.length)if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||B0(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function B0(t,e,n,r,i){let s=0,o=t.length;if(-1===e)o=-1;else for(;s<t.length;){const a=t[s++];if("number"==typeof a){if(a===e){o=-1;break}if(a>e){o=s-1;break}}}for(;s<t.length;){const a=t[s];if("number"==typeof a)break;if(a===n){if(null===r)return void(null!==i&&(t[s+1]=i));if(r===t[s+1])return void(t[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),null!==r&&t.splice(s++,0,r),null!==i&&t.splice(s++,0,i)}function $0(t){return-1!==t}function ad(t){return 32767&t}function ud(t,e){let n=function uj(t){return t>>16}(t),r=e;for(;n>0;)r=r[15],n--;return r}let Og=!0;function cd(t){const e=Og;return Og=t,e}let cj=0;const hr={};function ld(t,e){const n=H0(t,e);if(-1!==n)return n;const r=e[1];r.firstCreatePass&&(t.injectorIndex=e.length,Pg(r.data,t),Pg(e,null),Pg(r.blueprint,null));const i=Fg(t,e),s=t.injectorIndex;if($0(i)){const o=ad(i),a=ud(i,e),u=a[1].data;for(let c=0;c<8;c++)e[s+c]=a[o+c]|u[o+c]}return e[s+8]=i,s}function Pg(t,e){t.push(0,0,0,0,0,0,0,0,e)}function H0(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function Fg(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){if(r=Z0(i),null===r)return-1;if(n++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return-1}function Lg(t,e,n){!function lj(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(cu)&&(r=n[cu]),null==r&&(r=n[cu]=cj++);const i=255&r;e.data[t+(i>>5)]|=1<<i}(t,e,n)}function q0(t,e,n){if(n&z.Optional||void 0!==t)return t;ql()}function z0(t,e,n,r){if(n&z.Optional&&void 0===r&&(r=null),!(n&(z.Self|z.Host))){const i=t[9],s=Ln(void 0);try{return i?i.get(e,r,n&z.Optional):r0(e,r,n&z.Optional)}finally{Ln(s)}}return q0(r,0,n)}function W0(t,e,n,r=z.Default,i){if(null!==t){if(1024&e[2]){const o=function gj(t,e,n,r,i){let s=t,o=e;for(;null!==s&&null!==o&&1024&o[2]&&!(256&o[2]);){const a=K0(s,o,n,r|z.Self,hr);if(a!==hr)return a;let u=s.parent;if(!u){const c=o[21];if(c){const l=c.get(n,hr,r);if(l!==hr)return l}u=Z0(o),o=o[15]}s=u}return i}(t,e,n,r,hr);if(o!==hr)return o}const s=K0(t,e,n,r,hr);if(s!==hr)return s}return z0(e,n,r,i)}function K0(t,e,n,r,i){const s=function fj(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(cu)?t[cu]:void 0;return"number"==typeof e?e>=0?255&e:pj:e}(n);if("function"==typeof s){if(!R0(e,t,r))return r&z.Host?q0(i,0,r):z0(e,n,r,i);try{const o=s(r);if(null!=o||r&z.Optional)return o;ql()}finally{F0()}}else if("number"==typeof s){let o=null,a=H0(t,e),u=-1,c=r&z.Host?e[16][6]:null;for((-1===a||r&z.SkipSelf)&&(u=-1===a?Fg(t,e):e[a+8],-1!==u&&Y0(r,!1)?(o=e[1],a=ad(u),e=ud(u,e)):a=-1);-1!==a;){const l=e[1];if(Q0(s,a,l.data)){const d=hj(a,e,n,o,r,c);if(d!==hr)return d}u=e[a+8],-1!==u&&Y0(r,e[1].data[a+8]===c)&&Q0(s,a,e)?(o=l,a=ad(u),e=ud(u,e)):a=-1}}return i}function hj(t,e,n,r,i,s){const o=e[1],a=o.data[t+8],l=function dd(t,e,n,r,i){const s=t.providerIndexes,o=e.data,a=1048575&s,u=t.directiveStart,l=s>>20,h=i?a+l:t.directiveEnd;for(let f=r?a:a+l;f<h;f++){const p=o[f];if(f<u&&n===p||f>=u&&p.type===n)return f}if(i){const f=o[u];if(f&&Zn(f)&&f.type===n)return u}return null}(a,o,n,null==r?fu(a)&&Og:r!=o&&0!=(3&a.type),i&z.Host&&s===a);return null!==l?es(e,o,l,a):hr}function es(t,e,n,r){let i=t[n];const s=e.data;if(function sj(t){return t instanceof gu}(i)){const o=i;o.resolving&&function u$(t,e){const n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new S(-200,`Circular dependency in DI detected for ${t}${n}`)}(function me(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():Z(t)}(s[n]));const a=cd(o.canSeeViewProviders);o.resolving=!0;const u=o.injectImpl?Ln(o.injectImpl):null;R0(t,r,z.Default);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&function rj(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){const o=m0(e);(n.preOrderHooks||(n.preOrderHooks=[])).push(t,o),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,o)}i&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-t,i),s&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,s),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,s))}(n,s[n],e)}finally{null!==u&&Ln(u),cd(a),o.resolving=!1,F0()}}return i}function Q0(t,e,n){return!!(n[e+(t>>5)]&1<<t)}function Y0(t,e){return!(t&z.Self||t&z.Host&&e)}class _o{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return W0(this._tNode,this._lView,e,Ql(r),n)}}function pj(){return new _o(bt(),E())}function Ct(t){return gi(()=>{const e=t.prototype.constructor,n=e[Pr]||Vg(e),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const s=i[Pr]||Vg(i);if(s&&s!==n)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function Vg(t){return dg(t)?()=>{const e=Vg(H(t));return e&&e()}:Xi(t)}function Z0(t){const e=t[1],n=e.type;return 2===n?e.declTNode:1===n?t[6]:null}const wo="__parameters__";function Eo(t,e,n){return gi(()=>{const r=function Ug(t){return function(...n){if(t){const r=t(...n);for(const i in r)this[i]=r[i]}}}(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;const o=new i(...s);return a.annotation=o,a;function a(u,c,l){const d=u.hasOwnProperty(wo)?u[wo]:Object.defineProperty(u,wo,{value:[]})[wo];for(;d.length<=l;)d.push(null);return(d[l]=d[l]||[]).push(o),u}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}class L{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=q({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function ts(t,e){t.forEach(n=>Array.isArray(n)?ts(n,e):e(n))}function J0(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function fd(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function Sn(t,e,n){let r=Do(t,e);return r>=0?t[1|r]=n:(r=~r,function vj(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function $g(t,e){const n=Do(t,e);if(n>=0)return t[1|n]}function Do(t,e){return function eS(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){const s=r+(i-r>>1),o=t[s<<n];if(e===o)return s<<n;o>e?i=s:r=s+1}return~(i<<n)}(t,e,1)}const Zt=uu(Eo("Optional"),8),wu=uu(Eo("SkipSelf"),4);var dn=(()=>((dn=dn||{})[dn.Important=1]="Important",dn[dn.DashCase=2]="DashCase",dn))();const Wg=new Map;let $j=0;const Qg="__ngContext__";function Bt(t,e){bn(e)?(t[Qg]=e[20],function Gj(t){Wg.set(t[20],t)}(e)):t[Qg]=e}function Zg(t,e){return undefined(t,e)}function bu(t){const e=t[3];return Yn(e)?e[3]:e}function Xg(t){return wS(t[13])}function Jg(t){return wS(t[4])}function wS(t){for(;null!==t&&!Yn(t);)t=t[4];return t}function Co(t,e,n,r,i){if(null!=r){let s,o=!1;Yn(r)?s=r:bn(r)&&(o=!0,r=r[0]);const a=Dt(r);0===t&&null!==n?null==i?TS(e,n,a):ns(e,n,a,i||null,!0):1===t&&null!==n?ns(e,n,a,i||null,!0):2===t?function om(t,e,n){const r=yd(t,e);r&&function cG(t,e,n,r){t.removeChild(e,n,r)}(t,r,e,n)}(e,a,o):3===t&&e.destroyNode(a),null!=s&&function hG(t,e,n,r,i){const s=n[7];s!==Dt(n)&&Co(e,t,r,s,i);for(let a=10;a<n.length;a++){const u=n[a];Cu(u[1],u,t,e,r,s)}}(e,t,s,n,i)}}function tm(t,e,n){return t.createElement(e,n)}function ES(t,e){const n=t[9],r=n.indexOf(e),i=e[3];512&e[2]&&(e[2]&=-513,Dg(i,-1)),n.splice(r,1)}function nm(t,e){if(t.length<=10)return;const n=10+e,r=t[n];if(r){const i=r[17];null!==i&&i!==t&&ES(i,r),e>0&&(t[n-1][4]=r[4]);const s=fd(t,10+e);!function tG(t,e){Cu(t,e,e[11],2,null,null),e[0]=null,e[6]=null}(r[1],r);const o=s[19];null!==o&&o.detachView(s[1]),r[3]=null,r[4]=null,r[2]&=-65}return r}function DS(t,e){if(!(128&e[2])){const n=e[11];n.destroyNode&&Cu(t,e,n,3,null,null),function iG(t){let e=t[13];if(!e)return rm(t[1],t);for(;e;){let n=null;if(bn(e))n=e[13];else{const r=e[10];r&&(n=r)}if(!n){for(;e&&!e[4]&&e!==t;)bn(e)&&rm(e[1],e),e=e[3];null===e&&(e=t),bn(e)&&rm(e[1],e),n=e&&e[4]}e=n}}(e)}}function rm(t,e){if(!(128&e[2])){e[2]&=-65,e[2]|=128,function uG(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const i=e[n[r]];if(!(i instanceof gu)){const s=n[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){const a=i[s[o]],u=s[o+1];try{u.call(a)}finally{}}else try{s.call(i)}finally{}}}}(t,e),function aG(t,e){const n=t.cleanup,r=e[7];let i=-1;if(null!==n)for(let s=0;s<n.length-1;s+=2)if("string"==typeof n[s]){const o=n[s+3];o>=0?r[i=o]():r[i=-o].unsubscribe(),s+=2}else{const o=r[i=n[s+1]];n[s].call(o)}if(null!==r){for(let s=i+1;s<r.length;s++)(0,r[s])();e[7]=null}}(t,e),1===e[1].type&&e[11].destroy();const n=e[17];if(null!==n&&Yn(e[3])){n!==e[3]&&ES(n,e);const r=e[19];null!==r&&r.detachView(t)}!function Hj(t){Wg.delete(t[20])}(e)}}function bS(t,e,n){return function CS(t,e,n){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[0];{const{componentOffset:i}=r;if(i>-1){const{encapsulation:s}=t.data[r.directiveStart+i];if(s===cr.None||s===cr.Emulated)return null}return Cn(r,n)}}(t,e.parent,n)}function ns(t,e,n,r,i){t.insertBefore(e,n,r,i)}function TS(t,e,n){t.appendChild(e,n)}function SS(t,e,n,r,i){null!==r?ns(t,e,n,r,i):TS(t,e,n)}function yd(t,e){return t.parentNode(e)}let cm,MS=function xS(t,e,n){return 40&t.type?Cn(t,n):null};function _d(t,e,n,r){const i=bS(t,r,e),s=e[11],a=function AS(t,e,n){return MS(t,e,n)}(r.parent||e[6],r,e);if(null!=i)if(Array.isArray(n))for(let u=0;u<n.length;u++)SS(s,i,n[u],a,!1);else SS(s,i,n,a,!1)}function vd(t,e){if(null!==e){const n=e.type;if(3&n)return Cn(e,t);if(4&n)return sm(-1,t[e.index]);if(8&n){const r=e.child;if(null!==r)return vd(t,r);{const i=t[e.index];return Yn(i)?sm(-1,i):Dt(i)}}if(32&n)return Zg(e,t)()||Dt(t[e.index]);{const r=RS(t,e);return null!==r?Array.isArray(r)?r[0]:vd(bu(t[16]),r):vd(t,e.next)}}return null}function RS(t,e){return null!==e?t[16][6].projection[e.projection]:null}function sm(t,e){const n=10+t+1;if(n<e.length){const r=e[n],i=r[1].firstChild;if(null!==i)return vd(r,i)}return e[7]}function am(t,e,n,r,i,s,o){for(;null!=n;){const a=r[n.index],u=n.type;if(o&&0===e&&(a&&Bt(Dt(a),r),n.flags|=2),32!=(32&n.flags))if(8&u)am(t,e,n.child,r,i,s,!1),Co(e,t,i,a,s);else if(32&u){const c=Zg(n,r);let l;for(;l=c();)Co(e,t,i,l,s);Co(e,t,i,a,s)}else 16&u?NS(t,e,r,n,i,s):Co(e,t,i,a,s);n=o?n.projectionNext:n.next}}function Cu(t,e,n,r,i,s){am(n,r,t.firstChild,e,i,s,!1)}function NS(t,e,n,r,i,s){const o=n[16],u=o[6].projection[r.projection];if(Array.isArray(u))for(let c=0;c<u.length;c++)Co(e,t,i,u[c],s);else am(t,e,u,o[3],i,s,!0)}function OS(t,e,n){""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function PS(t,e,n){const{mergedAttrs:r,classes:i,styles:s}=n;null!==r&&Ng(t,e,r),null!==i&&OS(t,e,i),null!==s&&function pG(t,e,n){t.setAttribute(e,"style",n)}(t,e,s)}class BS{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${JT})`}}function yi(t){return t instanceof BS?t.changingThisBreaksApplicationSecurity:t}const AG=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;var nt=(()=>((nt=nt||{})[nt.NONE=0]="NONE",nt[nt.HTML=1]="HTML",nt[nt.STYLE=2]="STYLE",nt[nt.SCRIPT=3]="SCRIPT",nt[nt.URL=4]="URL",nt[nt.RESOURCE_URL=5]="RESOURCE_URL",nt))();function gm(t){const e=function Au(){const t=E();return t&&t[12]}();return e?e.sanitize(nt.URL,t)||"":function Tu(t,e){const n=function bG(t){return t instanceof BS&&t.getTypeName()||null}(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${JT})`)}return n===e}(t,"URL")?yi(t):function dm(t){return(t=String(t)).match(AG)?t:"unsafe:"+t}(Z(t))}const Dd=new L("ENVIRONMENT_INITIALIZER"),QS=new L("INJECTOR",-1),YS=new L("INJECTOR_DEF_TYPES");class ZS{get(e,n=ou){if(n===ou){const r=new Error(`NullInjectorError: No provider for ${be(e)}!`);throw r.name="NullInjectorError",r}return n}}function $G(...t){return{\u0275providers:XS(0,t),\u0275fromNgModule:!0}}function XS(t,...e){const n=[],r=new Set;let i;return ts(e,s=>{const o=s;mm(o,n,[],r)&&(i||(i=[]),i.push(o))}),void 0!==i&&JS(i,n),n}function JS(t,e){for(let n=0;n<t.length;n++){const{providers:i}=t[n];ym(i,s=>{e.push(s)})}}function mm(t,e,n,r){if(!(t=H(t)))return!1;let i=null,s=t0(t);const o=!s&&_e(t);if(s||o){if(o&&!o.standalone)return!1;i=t}else{const u=t.ngModule;if(s=t0(u),!s)return!1;i=u}const a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){const u="function"==typeof o.dependencies?o.dependencies():o.dependencies;for(const c of u)mm(c,e,n,r)}}else{if(!s)return!1;{if(null!=s.imports&&!a){let c;r.add(i);try{ts(s.imports,l=>{mm(l,e,n,r)&&(c||(c=[]),c.push(l))})}finally{}void 0!==c&&JS(c,e)}if(!a){const c=Xi(i)||(()=>new i);e.push({provide:i,useFactory:c,deps:ge},{provide:YS,useValue:i,multi:!0},{provide:Dd,useValue:()=>$(i),multi:!0})}const u=s.providers;null==u||a||ym(u,l=>{e.push(l)})}}return i!==t&&void 0!==t.providers}function ym(t,e){for(let n of t)hg(n)&&(n=n.\u0275providers),Array.isArray(n)?ym(n,e):e(n)}const jG=Ee({provide:String,useValue:Ee});function _m(t){return null!==t&&"object"==typeof t&&jG in t}function is(t){return"function"==typeof t}const vm=new L("Set Injector scope."),bd={},HG={};let wm;function Cd(){return void 0===wm&&(wm=new ZS),wm}class Br{}class nA extends Br{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Em(e,o=>this.processProvider(o)),this.records.set(QS,To(void 0,this)),i.has("environment")&&this.records.set(Br,To(void 0,this));const s=this.records.get(vm);null!=s&&"string"==typeof s.value&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(YS.multi,ge,z.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const e of this._ngOnDestroyHooks)e.ngOnDestroy();for(const e of this._onDestroyHooks)e()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(e){this._onDestroyHooks.push(e)}runInContext(e){this.assertNotDestroyed();const n=uo(this),r=Ln(void 0);try{return e()}finally{uo(n),Ln(r)}}get(e,n=ou,r=z.Default){this.assertNotDestroyed(),r=Ql(r);const i=uo(this),s=Ln(void 0);try{if(!(r&z.SkipSelf)){let a=this.records.get(e);if(void 0===a){const u=function QG(t){return"function"==typeof t||"object"==typeof t&&t instanceof L}(e)&&zl(e);a=u&&this.injectableDefInScope(u)?To(Im(e),bd):null,this.records.set(e,a)}if(null!=a)return this.hydrate(e,a)}return(r&z.Self?Cd():this.parent).get(e,n=r&z.Optional&&n===ou?null:n)}catch(o){if("NullInjectorError"===o.name){if((o[Kl]=o[Kl]||[]).unshift(be(e)),i)throw o;return function D$(t,e,n,r){const i=t[Kl];throw e[s0]&&i.unshift(e[s0]),t.message=function b$(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let i=be(e);if(Array.isArray(e))i=e.map(be).join(" -> ");else if("object"==typeof e){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+("string"==typeof a?JSON.stringify(a):be(a)))}i=`{${s.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(v$,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t[Kl]=null,t}(o,e,"R3InjectorError",this.source)}throw o}finally{Ln(s),uo(i)}}resolveInjectorInitializers(){const e=uo(this),n=Ln(void 0);try{const r=this.get(Dd.multi,ge,z.Self);for(const i of r)i()}finally{uo(e),Ln(n)}}toString(){const e=[],n=this.records;for(const r of n.keys())e.push(be(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new S(205,!1)}processProvider(e){let n=is(e=H(e))?e:H(e&&e.provide);const r=function zG(t){return _m(t)?To(void 0,t.useValue):To(rA(t),bd)}(e);if(is(e)||!0!==e.multi)this.records.get(n);else{let i=this.records.get(n);i||(i=To(void 0,bd,!0),i.factory=()=>mg(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){return n.value===bd&&(n.value=HG,n.value=n.factory()),"object"==typeof n.value&&n.value&&function KG(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}injectableDefInScope(e){if(!e.providedIn)return!1;const n=H(e.providedIn);return"string"==typeof n?"any"===n||this.scopes.has(n):this.injectorDefTypes.has(n)}}function Im(t){const e=zl(t),n=null!==e?e.factory:Xi(t);if(null!==n)return n;if(t instanceof L)throw new S(204,!1);if(t instanceof Function)return function qG(t){const e=t.length;if(e>0)throw function vu(t,e){const n=[];for(let r=0;r<t;r++)n.push(e);return n}(e,"?"),new S(204,!1);const n=function p$(t){const e=t&&(t[Wl]||t[n0]);if(e){const n=function g$(t){if(t.hasOwnProperty("name"))return t.name;const e=(""+t).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),e}return null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new S(204,!1)}function rA(t,e,n){let r;if(is(t)){const i=H(t);return Xi(i)||Im(i)}if(_m(t))r=()=>H(t.useValue);else if(function tA(t){return!(!t||!t.useFactory)}(t))r=()=>t.useFactory(...mg(t.deps||[]));else if(function eA(t){return!(!t||!t.useExisting)}(t))r=()=>$(H(t.useExisting));else{const i=H(t&&(t.useClass||t.provide));if(!function WG(t){return!!t.deps}(t))return Xi(i)||Im(i);r=()=>new i(...mg(t.deps))}return r}function To(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function Em(t,e){for(const n of t)Array.isArray(n)?Em(n,e):n&&hg(n)?Em(n.\u0275providers,e):e(n)}class YG{}class iA{}class XG{resolveComponentFactory(e){throw function ZG(t){const e=Error(`No component factory found for ${be(t)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=t,e}(e)}}let xu=(()=>{class t{}return t.NULL=new XG,t})();function JG(){return So(bt(),E())}function So(t,e){return new An(Cn(t,e))}let An=(()=>{class t{constructor(n){this.nativeElement=n}}return t.__NG_ELEMENT_ID__=JG,t})();class oA{}let $r=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>function tH(){const t=E(),n=Tn(bt().index,t);return(bn(n)?n:t)[11]}(),t})(),nH=(()=>{class t{}return t.\u0275prov=q({token:t,providedIn:"root",factory:()=>null}),t})();class Ao{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const aA=new Ao("15.1.1"),Dm={};function Cm(t){return t.ngOriginalError}class xo{constructor(){this._console=console}handleError(e){const n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&Cm(e);for(;n&&Cm(n);)n=Cm(n);return n||null}}function jr(t){return t instanceof Function?t():t}function cA(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const s=e.length;if(i+s===r||t.charCodeAt(i+s)<=32)return i}n=i+1}}const lA="ng-template";function fH(t,e,n){let r=0;for(;r<t.length;){let i=t[r++];if(n&&"class"===i){if(i=t[r],-1!==cA(i.toLowerCase(),e,0))return!0}else if(1===i){for(;r<t.length&&"string"==typeof(i=t[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function dA(t){return 4===t.type&&t.value!==lA}function pH(t,e,n){return e===(4!==t.type||n?t.value:lA)}function gH(t,e,n){let r=4;const i=t.attrs||[],s=function _H(t){for(let e=0;e<t.length;e++)if(V0(t[e]))return e;return t.length}(i);let o=!1;for(let a=0;a<e.length;a++){const u=e[a];if("number"!=typeof u){if(!o)if(4&r){if(r=2|1&r,""!==u&&!pH(t,u,n)||""===u&&1===e.length){if(Xn(r))return!1;o=!0}}else{const c=8&r?u:e[++a];if(8&r&&null!==t.attrs){if(!fH(t.attrs,c,n)){if(Xn(r))return!1;o=!0}continue}const d=mH(8&r?"class":u,i,dA(t),n);if(-1===d){if(Xn(r))return!1;o=!0;continue}if(""!==c){let h;h=d>s?"":i[d+1].toLowerCase();const f=8&r?h:null;if(f&&-1!==cA(f,c,0)||2&r&&c!==h){if(Xn(r))return!1;o=!0}}}}else{if(!o&&!Xn(r)&&!Xn(u))return!1;if(o&&Xn(u))continue;o=!1,r=u|1&r}}return Xn(r)||o}function Xn(t){return 0==(1&t)}function mH(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let s=!1;for(;i<e.length;){const o=e[i];if(o===t)return i;if(3===o||6===o)s=!0;else{if(1===o||2===o){let a=e[++i];for(;"string"==typeof a;)a=e[++i];continue}if(4===o)break;if(0===o){i+=4;continue}}i+=s?1:2}return-1}return function vH(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function hA(t,e,n=!1){for(let r=0;r<e.length;r++)if(gH(t,e[r],n))return!0;return!1}function fA(t,e){return t?":not("+e.trim()+")":e}function IH(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if("string"==typeof o)if(2&r){const a=t[++n];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""!==i&&!Xn(o)&&(e+=fA(s,i),i=""),r=o,s=s||!Xn(r);n++}return""!==i&&(e+=fA(s,i)),e}const J={};function ko(t){pA(de(),E(),Yt()+t,!1)}function pA(t,e,n,r){if(!r)if(3==(3&e[2])){const s=t.preOrderCheckHooks;null!==s&&sd(e,s,n)}else{const s=t.preOrderHooks;null!==s&&od(e,s,0,n)}Ji(n)}function _A(t,e=null,n=null,r){const i=vA(t,e,n,r);return i.resolveInjectorInitializers(),i}function vA(t,e=null,n=null,r,i=new Set){const s=[n||ge,$G(t)];return r=r||("object"==typeof t?void 0:be(t)),new nA(s,e||Cd(),r||null,i)}let xn=(()=>{class t{static create(n,r){if(Array.isArray(n))return _A({name:""},r,n,"");{const i=n.name??"";return _A({name:i},n.parent,n.providers,i)}}}return t.THROW_IF_NOT_FOUND=ou,t.NULL=new ZS,t.\u0275prov=q({token:t,providedIn:"any",factory:()=>$(QS)}),t.__NG_ELEMENT_ID__=-1,t})();function C(t,e=z.Default){const n=E();return null===n?$(t,e):W0(bt(),n,H(t),e)}function SA(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const s=n[r+1];if(-1!==s){const o=t.data[s];Ag(n[r]),o.contentQueries(2,e[s],s)}}}function Sd(t,e,n,r,i,s,o,a,u,c,l){const d=e.blueprint.slice();return d[0]=i,d[2]=76|r,(null!==l||t&&1024&t[2])&&(d[2]|=1024),E0(d),d[3]=d[15]=t,d[8]=n,d[10]=o||t&&t[10],d[11]=a||t&&t[11],d[12]=u||t&&t[12]||null,d[9]=c||t&&t[9]||null,d[6]=s,d[20]=function jj(){return $j++}(),d[21]=l,d[16]=2==e.type?t[16]:d,d}function No(t,e,n,r,i){let s=t.data[e];if(null===s)s=function Mm(t,e,n,r,i){const s=S0(),o=bg(),u=t.data[e]=function WH(t,e,n,r,i,s){return{type:n,index:r,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=u),null!==s&&(o?null==s.child&&null!==u.parent&&(s.child=u):null===s.next&&(s.next=u)),u}(t,e,n,r,i),function z$(){return X.lFrame.inI18n}()&&(s.flags|=32);else if(64&s.type){s.type=n,s.value=r,s.attrs=i;const o=function pu(){const t=X.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();s.injectorIndex=null===o?-1:o.injectorIndex}return dr(s,!0),s}function Mu(t,e,n,r){if(0===n)return-1;const i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function km(t,e,n){xg(e);try{const r=t.viewQuery;null!==r&&$m(1,r,n);const i=t.template;null!==i&&AA(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&SA(t,e),t.staticViewQueries&&$m(2,t.viewQuery,n);const s=t.components;null!==s&&function HH(t,e){for(let n=0;n<e.length;n++)hq(t,e[n])}(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[2]&=-5,Mg()}}function Ad(t,e,n,r){const i=e[2];if(128!=(128&i)){xg(e);try{E0(e),function x0(t){return X.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==n&&AA(t,e,n,2,r);const o=3==(3&i);if(o){const c=t.preOrderCheckHooks;null!==c&&sd(e,c,null)}else{const c=t.preOrderHooks;null!==c&&od(e,c,0,null),kg(e,0)}if(function lq(t){for(let e=Xg(t);null!==e;e=Jg(e)){if(!e[2])continue;const n=e[9];for(let r=0;r<n.length;r++){const i=n[r];512&i[2]||Dg(i[3],1),i[2]|=512}}}(e),function cq(t){for(let e=Xg(t);null!==e;e=Jg(e))for(let n=10;n<e.length;n++){const r=e[n],i=r[1];rd(r)&&Ad(i,r,i.template,r[8])}}(e),null!==t.contentQueries&&SA(t,e),o){const c=t.contentCheckHooks;null!==c&&sd(e,c)}else{const c=t.contentHooks;null!==c&&od(e,c,1),kg(e,1)}!function jH(t,e){const n=t.hostBindingOpCodes;if(null!==n)try{for(let r=0;r<n.length;r++){const i=n[r];if(i<0)Ji(~i);else{const s=i,o=n[++r],a=n[++r];W$(o,s),a(2,e[s])}}}finally{Ji(-1)}}(t,e);const a=t.components;null!==a&&function GH(t,e){for(let n=0;n<e.length;n++)dq(t,e[n])}(e,a);const u=t.viewQuery;if(null!==u&&$m(2,u,r),o){const c=t.viewCheckHooks;null!==c&&sd(e,c)}else{const c=t.viewHooks;null!==c&&od(e,c,2),kg(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),e[2]&=-41,512&e[2]&&(e[2]&=-513,Dg(e[3],-1))}finally{Mg()}}}function AA(t,e,n,r,i){const s=Yt(),o=2&r;try{Ji(-1),o&&e.length>22&&pA(t,e,22,!1),n(r,i)}finally{Ji(s)}}function Rm(t,e,n){if(Ig(e)){const i=e.directiveEnd;for(let s=e.directiveStart;s<i;s++){const o=t.data[s];o.contentQueries&&o.contentQueries(1,n[s],s)}}}function Nm(t,e,n){b0()&&(function JH(t,e,n,r){const i=n.directiveStart,s=n.directiveEnd;fu(n)&&function oq(t,e,n){const r=Cn(e,t),i=xA(n),s=t[10],o=xd(t,Sd(t,i,null,n.onPush?32:16,r,e,s,s.createRenderer(r,n),null,null,null));t[e.index]=o}(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||ld(n,e),Bt(r,e);const o=n.initialInputs;for(let a=i;a<s;a++){const u=t.data[a],c=es(e,t,a,n);Bt(c,e),null!==o&&aq(0,a-i,c,u,0,o),Zn(u)&&(Tn(n.index,e)[8]=es(e,t,a,n))}}(t,e,n,Cn(n,e)),64==(64&n.flags)&&PA(t,e,n))}function Om(t,e,n=Cn){const r=e.localNames;if(null!==r){let i=e.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?n(e,t):t[o];t[i++]=a}}}function xA(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=Pm(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):e}function Pm(t,e,n,r,i,s,o,a,u,c){const l=22+r,d=l+i,h=function qH(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:J);return n}(l,d),f="function"==typeof c?c():c;return h[1]={type:t,blueprint:h,template:n,queries:null,viewQuery:a,declTNode:e,data:h.slice().fill(null,l),bindingStartIndex:l,expandoStartIndex:d,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:u,consts:f,incompleteFirstPass:!1}}function kA(t,e,n,r){for(let i in t)if(t.hasOwnProperty(i)){n=null===n?{}:n;const s=t[i];null===r?RA(n,e,i,s):r.hasOwnProperty(i)&&RA(n,e,r[i],s)}return n}function RA(t,e,n,r){t.hasOwnProperty(n)?t[n].push(e,r):t[n]=[e,r]}function Mn(t,e,n,r,i,s,o,a){const u=Cn(e,n);let l,c=e.inputs;!a&&null!=c&&(l=c[r])?(jm(t,n,l,r,i),fu(e)&&NA(n,e.index)):3&e.type&&(r=function QH(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(r),i=null!=o?o(i,e.value||"",r):i,s.setProperty(u,r,i))}function NA(t,e){const n=Tn(e,t);16&n[2]||(n[2]|=32)}function Fm(t,e,n,r){let i=!1;if(b0()){const s=null===r?null:{"":-1},o=function tq(t,e){const n=t.directiveRegistry;let r=null,i=null;if(n)for(let s=0;s<n.length;s++){const o=n[s];if(hA(e,o.selectors,!1))if(r||(r=[]),Zn(o))if(null!==o.findHostDirectiveDefs){const a=[];i=i||new Map,o.findHostDirectiveDefs(o,a,i),r.unshift(...a,o),Lm(t,e,a.length)}else r.unshift(o),Lm(t,e,0);else i=i||new Map,o.findHostDirectiveDefs?.(o,r,i),r.push(o)}return null===r?null:[r,i]}(t,n);let a,u;null===o?a=u=null:[a,u]=o,null!==a&&(i=!0,OA(t,e,n,a,s,u)),s&&function nq(t,e,n){if(e){const r=t.localNames=[];for(let i=0;i<e.length;i+=2){const s=n[e[i+1]];if(null==s)throw new S(-301,!1);r.push(e[i],s)}}}(n,r,s)}return n.mergedAttrs=mu(n.mergedAttrs,n.attrs),i}function OA(t,e,n,r,i,s){for(let c=0;c<r.length;c++)Lg(ld(n,e),t,r[c].type);!function iq(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}(n,t.data.length,r.length);for(let c=0;c<r.length;c++){const l=r[c];l.providersResolver&&l.providersResolver(l)}let o=!1,a=!1,u=Mu(t,e,r.length,null);for(let c=0;c<r.length;c++){const l=r[c];n.mergedAttrs=mu(n.mergedAttrs,l.hostAttrs),sq(t,n,e,u,l),rq(u,l,i),null!==l.contentQueries&&(n.flags|=4),(null!==l.hostBindings||null!==l.hostAttrs||0!==l.hostVars)&&(n.flags|=64);const d=l.type.prototype;!o&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n.index),o=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n.index),a=!0),u++}!function KH(t,e,n){const i=e.directiveEnd,s=t.data,o=e.attrs,a=[];let u=null,c=null;for(let l=e.directiveStart;l<i;l++){const d=s[l],h=n?n.get(d):null,p=h?h.outputs:null;u=kA(d.inputs,l,u,h?h.inputs:null),c=kA(d.outputs,l,c,p);const g=null===u||null===o||dA(e)?null:uq(u,l,o);a.push(g)}null!==u&&(u.hasOwnProperty("class")&&(e.flags|=8),u.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=u,e.outputs=c}(t,n,s)}function PA(t,e,n){const r=n.directiveStart,i=n.directiveEnd,s=n.index,o=function K$(){return X.lFrame.currentDirectiveIndex}();try{Ji(s);for(let a=r;a<i;a++){const u=t.data[a],c=e[a];Tg(a),(null!==u.hostBindings||0!==u.hostVars||null!==u.hostAttrs)&&eq(u,c)}}finally{Ji(-1),Tg(o)}}function eq(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function Lm(t,e,n){e.componentOffset=n,(t.components||(t.components=[])).push(e.index)}function rq(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Zn(e)&&(n[""]=t)}}function sq(t,e,n,r,i){t.data[r]=i;const s=i.factory||(i.factory=Xi(i.type)),o=new gu(s,Zn(i),C);t.blueprint[r]=o,n[r]=o,function ZH(t,e,n,r,i){const s=i.hostBindings;if(s){let o=t.hostBindingOpCodes;null===o&&(o=t.hostBindingOpCodes=[]);const a=~e.index;(function XH(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(o)!=a&&o.push(a),o.push(n,r,s)}}(t,e,r,Mu(t,n,i.hostVars,J),i)}function aq(t,e,n,r,i,s){const o=s[e];if(null!==o){const a=r.setInput;for(let u=0;u<o.length;){const c=o[u++],l=o[u++],d=o[u++];null!==a?r.setInput(n,d,c,l):n[l]=d}}}function uq(t,e,n){let r=null,i=0;for(;i<n.length;){const s=n[i];if(0!==s)if(5!==s){if("number"==typeof s)break;if(t.hasOwnProperty(s)){null===r&&(r=[]);const o=t[s];for(let a=0;a<o.length;a+=2)if(o[a]===e){r.push(s,o[a+1],n[i+1]);break}}i+=2}else i+=2;else i+=4}return r}function FA(t,e,n,r){return[t,!0,!1,e,null,0,r,n,null,null]}function dq(t,e){const n=Tn(e,t);if(rd(n)){const r=n[1];48&n[2]?Ad(r,n,r.template,n[8]):n[5]>0&&Um(n)}}function Um(t){for(let r=Xg(t);null!==r;r=Jg(r))for(let i=10;i<r.length;i++){const s=r[i];if(rd(s))if(512&s[2]){const o=s[1];Ad(o,s,o.template,s[8])}else s[5]>0&&Um(s)}const n=t[1].components;if(null!==n)for(let r=0;r<n.length;r++){const i=Tn(n[r],t);rd(i)&&i[5]>0&&Um(i)}}function hq(t,e){const n=Tn(e,t),r=n[1];(function fq(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])})(r,n),km(r,n,n[8])}function xd(t,e){return t[13]?t[14][4]=e:t[13]=e,t[14]=e,e}function Bm(t){for(;t;){t[2]|=32;const e=bu(t);if(A$(t)&&!e)return t;t=e}return null}function Md(t,e,n,r=!0){const i=e[10];i.begin&&i.begin();try{Ad(t,e,t.template,n)}catch(o){throw r&&BA(e,o),o}finally{i.end&&i.end()}}function $m(t,e,n){Ag(0),e(t,n)}function LA(t){return t[7]||(t[7]=[])}function VA(t){return t.cleanup||(t.cleanup=[])}function BA(t,e){const n=t[9],r=n?n.get(xo,null):null;r&&r.handleError(e)}function jm(t,e,n,r,i){for(let s=0;s<n.length;){const o=n[s++],a=n[s++],u=e[o],c=t.data[o];null!==c.setInput?c.setInput(u,i,r,a):u[a]=i}}function kd(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const a=e[o];"number"==typeof a?s=a:1==s?i=lg(i,a):2==s&&(r=lg(r,a+": "+e[++o]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}function Rd(t,e,n,r,i=!1){for(;null!==n;){const s=e[n.index];if(null!==s&&r.push(Dt(s)),Yn(s))for(let a=10;a<s.length;a++){const u=s[a],c=u[1].firstChild;null!==c&&Rd(u[1],u,c,r)}const o=n.type;if(8&o)Rd(t,e,n.child,r);else if(32&o){const a=Zg(n,e);let u;for(;u=a();)r.push(u)}else if(16&o){const a=RS(e,n);if(Array.isArray(a))r.push(...a);else{const u=bu(e[16]);Rd(u[1],u,a,r,!0)}}n=i?n.projectionNext:n.next}return r}class ku{get rootNodes(){const e=this._lView,n=e[1];return Rd(n,e,n.firstChild,[])}constructor(e,n){this._lView=e,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[8]}set context(e){this._lView[8]=e}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[3];if(Yn(e)){const n=e[8],r=n?n.indexOf(this):-1;r>-1&&(nm(e,r),fd(n,r))}this._attachedToViewContainer=!1}DS(this._lView[1],this._lView)}onDestroy(e){!function MA(t,e,n,r){const i=LA(e);null===n?i.push(r):(i.push(n),t.firstCreatePass&&VA(t).push(r,i.length-1))}(this._lView[1],this._lView,null,e)}markForCheck(){Bm(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){Md(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new S(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function rG(t,e){Cu(t,e,e[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new S(902,!1);this._appRef=e}}class pq extends ku{constructor(e){super(e),this._view=e}detectChanges(){const e=this._view;Md(e[1],e,e[8],!1)}checkNoChanges(){}get context(){return null}}class $A extends xu{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const n=_e(e);return new Ru(n,this.ngModule)}}function jA(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}class mq{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=Ql(r);const i=this.injector.get(e,Dm,r);return i!==Dm||n===Dm?i:this.parentInjector.get(e,n,r)}}class Ru extends iA{get inputs(){return jA(this.componentDef.inputs)}get outputs(){return jA(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=function EH(t){return t.map(IH).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let s=(i=i||this.ngModule)instanceof Br?i:i?.injector;s&&null!==this.componentDef.getStandaloneInjector&&(s=this.componentDef.getStandaloneInjector(s)||s);const o=s?new mq(e,s):e,a=o.get(oA,null);if(null===a)throw new S(407,!1);const u=o.get(nH,null),c=a.createRenderer(null,this.componentDef),l=this.componentDef.selectors[0][0]||"div",d=r?function zH(t,e,n){return t.selectRootElement(e,n===cr.ShadowDom)}(c,r,this.componentDef.encapsulation):tm(c,l,function gq(t){const e=t.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(l)),h=this.componentDef.onPush?288:272,f=Pm(0,null,null,1,0,null,null,null,null,null),p=Sd(null,f,null,h,null,null,a,c,u,o,null);let g,y;xg(p);try{const I=this.componentDef;let D,v=null;I.findHostDirectiveDefs?(D=[],v=new Map,I.findHostDirectiveDefs(I,D,v),D.push(I)):D=[I];const R=function _q(t,e){const n=t[1];return t[22]=e,No(n,22,2,"#host",null)}(p,d),V=function vq(t,e,n,r,i,s,o,a){const u=i[1];!function wq(t,e,n,r){for(const i of t)e.mergedAttrs=mu(e.mergedAttrs,i.hostAttrs);null!==e.mergedAttrs&&(kd(e,e.mergedAttrs,!0),null!==n&&PS(r,n,e))}(r,t,e,o);const c=s.createRenderer(e,n),l=Sd(i,xA(n),null,n.onPush?32:16,i[t.index],t,s,c,a||null,null,null);return u.firstCreatePass&&Lm(u,t,r.length-1),xd(i,l),i[t.index]=l}(R,d,I,D,p,a,c);y=I0(f,22),d&&function Eq(t,e,n,r){if(r)Ng(t,n,["ng-version",aA.full]);else{const{attrs:i,classes:s}=function DH(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let s=t[r];if("string"==typeof s)2===i?""!==s&&e.push(s,t[++r]):8===i&&n.push(s);else{if(!Xn(i))break;i=s}r++}return{attrs:e,classes:n}}(e.selectors[0]);i&&Ng(t,n,i),s&&s.length>0&&OS(t,n,s.join(" "))}}(c,I,d,r),void 0!==n&&function Dq(t,e,n){const r=t.projection=[];for(let i=0;i<e.length;i++){const s=n[i];r.push(null!=s?Array.from(s):null)}}(y,this.ngContentSelectors,n),g=function Iq(t,e,n,r,i,s){const o=bt(),a=i[1],u=Cn(o,i);OA(a,i,o,n,null,r);for(let l=0;l<n.length;l++)Bt(es(i,a,o.directiveStart+l,o),i);PA(a,i,o),u&&Bt(u,i);const c=es(i,a,o.directiveStart+o.componentOffset,o);if(t[8]=i[8]=c,null!==s)for(const l of s)l(c,e);return Rm(a,o,t),c}(V,I,D,v,p,[bq]),km(f,p,null)}finally{Mg()}return new yq(this.componentType,g,So(y,p),p,y)}}class yq extends YG{constructor(e,n,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.instance=n,this.hostView=this.changeDetectorRef=new pq(i),this.componentType=e}setInput(e,n){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[e])){const s=this._rootLView;jm(s[1],s,i,e,n),NA(s,this._tNode.index)}}get injector(){return new _o(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function bq(){const t=bt();id(E()[1],t)}function ve(t){let e=function GA(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),n=!0;const r=[t];for(;e;){let i;if(Zn(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new S(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);const o=t;o.inputs=Gm(t.inputs),o.declaredInputs=Gm(t.declaredInputs),o.outputs=Gm(t.outputs);const a=i.hostBindings;a&&Aq(t,a);const u=i.viewQuery,c=i.contentQueries;if(u&&Tq(t,u),c&&Sq(t,c),cg(t.inputs,i.inputs),cg(t.declaredInputs,i.declaredInputs),cg(t.outputs,i.outputs),Zn(i)&&i.data.animation){const l=t.data;l.animation=(l.animation||[]).concat(i.data.animation)}}const s=i.features;if(s)for(let o=0;o<s.length;o++){const a=s[o];a&&a.ngInherit&&a(t),a===ve&&(n=!1)}}e=Object.getPrototypeOf(e)}!function Cq(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=mu(i.hostAttrs,n=mu(n,i.hostAttrs))}}(r)}function Gm(t){return t===Or?{}:t===ge?[]:t}function Tq(t,e){const n=t.viewQuery;t.viewQuery=n?(r,i)=>{e(r,i),n(r,i)}:e}function Sq(t,e){const n=t.contentQueries;t.contentQueries=n?(r,i,s)=>{e(r,i,s),n(r,i,s)}:e}function Aq(t,e){const n=t.hostBindings;t.hostBindings=n?(r,i)=>{e(r,i),n(r,i)}:e}let Nd=null;function ss(){if(!Nd){const t=Te.Symbol;if(t&&t.iterator)Nd=t.iterator;else{const e=Object.getOwnPropertyNames(Map.prototype);for(let n=0;n<e.length;++n){const r=e[n];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&(Nd=r)}}}return Nd}function Od(t){return!!function Hm(t){return null!==t&&("function"==typeof t||"object"==typeof t)}(t)&&(Array.isArray(t)||!(t instanceof Map)&&ss()in t)}function $t(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function Po(t,e,n,r){return $t(t,mo(),n)?e+Z(n)+r:J}function Fd(t,e,n){const r=E();return $t(r,mo(),e)&&Mn(de(),Pe(),r,t,e,r[11],n,!1),Fd}function qm(t,e,n,r,i){const o=i?"class":"style";jm(t,n,e.inputs[o],o,r)}function Be(t,e,n,r){const i=E(),s=de(),o=22+t,a=i[11],u=i[o]=tm(a,e,function nj(){return X.lFrame.currentNamespace}()),c=s.firstCreatePass?function $q(t,e,n,r,i,s,o){const a=e.consts,c=No(e,t,2,i,mi(a,s));return Fm(e,n,c,mi(a,o)),null!==c.attrs&&kd(c,c.attrs,!1),null!==c.mergedAttrs&&kd(c,c.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,c),c}(o,s,i,0,e,n,r):s.data[o];return dr(c,!0),PS(a,u,c),32!=(32&c.flags)&&_d(s,i,u,c),0===function B$(){return X.lFrame.elementDepthCount}()&&Bt(u,i),function $$(){X.lFrame.elementDepthCount++}(),td(c)&&(Nm(s,i,c),Rm(s,c,i)),null!==r&&Om(i,c),Be}function $e(){let t=bt();bg()?function Cg(){X.lFrame.isParent=!1}():(t=t.parent,dr(t,!1));const e=t;!function j$(){X.lFrame.elementDepthCount--}();const n=de();return n.firstCreatePass&&(id(n,t),Ig(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function oj(t){return 0!=(8&t.flags)}(e)&&qm(n,e,E(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function aj(t){return 0!=(16&t.flags)}(e)&&qm(n,e,E(),e.stylesWithoutHost,!1),$e}function Hr(t,e,n,r){return Be(t,e,n,r),$e(),Hr}function Ou(t){return!!t&&"function"==typeof t.then}const Km=function sx(t){return!!t&&"function"==typeof t.subscribe};function Xt(t,e,n,r){const i=E(),s=de(),o=bt();return function ax(t,e,n,r,i,s,o){const a=td(r),c=t.firstCreatePass&&VA(t),l=e[8],d=LA(e);let h=!0;if(3&r.type||o){const g=Cn(r,e),y=o?o(g):g,I=d.length,D=o?R=>o(Dt(R[r.index])):r.index;let v=null;if(!o&&a&&(v=function Gq(t,e,n,r){const i=t.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const o=i[s];if(o===n&&i[s+1]===r){const a=e[7],u=i[s+2];return a.length>u?a[u]:null}"string"==typeof o&&(s+=2)}return null}(t,e,i,r.index)),null!==v)(v.__ngLastListenerFn__||v).__ngNextListenerFn__=s,v.__ngLastListenerFn__=s,h=!1;else{s=cx(r,e,l,s,!1);const R=n.listen(y,i,s);d.push(s,R),c&&c.push(i,D,I,I+1)}}else s=cx(r,e,l,s,!1);const f=r.outputs;let p;if(h&&null!==f&&(p=f[i])){const g=p.length;if(g)for(let y=0;y<g;y+=2){const V=e[p[y]][p[y+1]].subscribe(s),B=d.length;d.push(s,V),c&&c.push(i,r.index,B,-(B+1))}}}(s,i,i[11],o,t,e,r),Xt}function ux(t,e,n,r){try{return!1!==n(r)}catch(i){return BA(t,i),!1}}function cx(t,e,n,r,i){return function s(o){if(o===Function)return r;Bm(t.componentOffset>-1?Tn(t.index,e):e);let u=ux(e,0,r,o),c=s.__ngNextListenerFn__;for(;c;)u=ux(e,0,c,o)&&u,c=c.__ngNextListenerFn__;return i&&!1===u&&(o.preventDefault(),o.returnValue=!1),u}}function lx(t=1){return function Y$(t){return(X.lFrame.contextLView=function Z$(t,e){for(;t>0;)e=e[15],t--;return e}(t,X.lFrame.contextLView))[8]}(t)}function Qm(t,e,n){return Ym(t,"",e,"",n),Qm}function Ym(t,e,n,r,i){const s=E(),o=Po(s,e,n,r);return o!==J&&Mn(de(),Pe(),s,t,o,s[11],i,!1),Ym}function Ld(t,e){return t<<17|e<<2}function _i(t){return t>>17&32767}function Zm(t){return 2|t}function as(t){return(131068&t)>>2}function Xm(t,e){return-131069&t|e<<2}function Jm(t){return 1|t}function vx(t,e,n,r,i){const s=t[n+1],o=null===e;let a=r?_i(s):as(s),u=!1;for(;0!==a&&(!1===u||o);){const l=t[a+1];Xq(t[a],e)&&(u=!0,t[a+1]=r?Jm(l):Zm(l)),a=r?_i(l):as(l)}u&&(t[n+1]=r?Zm(s):Jm(s))}function Xq(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&Do(t,e)>=0}function Vd(t,e){return function Jn(t,e,n,r){const i=E(),s=de(),o=function Vr(t){const e=X.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}(2);s.firstUpdatePass&&function Ax(t,e,n,r){const i=t.data;if(null===i[n+1]){const s=i[Yt()],o=function Sx(t,e){return e>=t.expandoStartIndex}(t,n);(function Rx(t,e){return 0!=(t.flags&(e?8:16))})(s,r)&&null===e&&!o&&(e=!1),e=function az(t,e,n,r){const i=function Sg(t){const e=X.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}(t);let s=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(n=Pu(n=ey(null,t,e,n,r),e.attrs,r),s=null);else{const o=e.directiveStylingLast;if(-1===o||t[o]!==i)if(n=ey(i,t,e,n,r),null===s){let u=function uz(t,e,n){const r=n?e.classBindings:e.styleBindings;if(0!==as(r))return t[_i(r)]}(t,e,r);void 0!==u&&Array.isArray(u)&&(u=ey(null,t,e,u[1],r),u=Pu(u,e.attrs,r),function cz(t,e,n,r){t[_i(n?e.classBindings:e.styleBindings)]=r}(t,e,r,u))}else s=function lz(t,e,n){let r;const i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++)r=Pu(r,t[s].hostAttrs,n);return Pu(r,e.attrs,n)}(t,e,r)}return void 0!==s&&(r?e.residualClasses=s:e.residualStyles=s),n}(i,s,e,r),function Yq(t,e,n,r,i,s){let o=s?e.classBindings:e.styleBindings,a=_i(o),u=as(o);t[r]=n;let l,c=!1;if(Array.isArray(n)?(l=n[1],(null===l||Do(n,l)>0)&&(c=!0)):l=n,i)if(0!==u){const h=_i(t[a+1]);t[r+1]=Ld(h,a),0!==h&&(t[h+1]=Xm(t[h+1],r)),t[a+1]=function Kq(t,e){return 131071&t|e<<17}(t[a+1],r)}else t[r+1]=Ld(a,0),0!==a&&(t[a+1]=Xm(t[a+1],r)),a=r;else t[r+1]=Ld(u,0),0===a?a=r:t[u+1]=Xm(t[u+1],r),u=r;c&&(t[r+1]=Zm(t[r+1])),vx(t,l,r,!0),vx(t,l,r,!1),function Zq(t,e,n,r,i){const s=i?t.residualClasses:t.residualStyles;null!=s&&"string"==typeof e&&Do(s,e)>=0&&(n[r+1]=Jm(n[r+1]))}(e,l,t,r,s),o=Ld(a,u),s?e.classBindings=o:e.styleBindings=o}(i,s,e,n,o,r)}}(s,t,o,r),e!==J&&$t(i,o,e)&&function Mx(t,e,n,r,i,s,o,a){if(!(3&e.type))return;const u=t.data,c=u[a+1],l=function Qq(t){return 1==(1&t)}(c)?kx(u,e,n,i,as(c),o):void 0;Ud(l)||(Ud(s)||function Wq(t){return 2==(2&t)}(c)&&(s=kx(u,null,n,i,a,o)),function fG(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let s=-1===r.indexOf("-")?void 0:dn.DashCase;null==i?t.removeStyle(n,r,s):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=dn.Important),t.setStyle(n,r,i,s))}}(r,o,nd(Yt(),n),i,s))}(s,s.data[Yt()],i,i[11],t,i[o+1]=function fz(t,e){return null==t||("string"==typeof e?t+=e:"object"==typeof t&&(t=be(yi(t)))),t}(e,n),r,o)}(t,e,null,!0),Vd}function ey(t,e,n,r,i){let s=null;const o=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<o&&(s=e[a],r=Pu(r,s.hostAttrs,i),s!==t);)a++;return null!==t&&(n.directiveStylingLast=a),r}function Pu(t,e,n){const r=n?1:2;let i=-1;if(null!==e)for(let s=0;s<e.length;s++){const o=e[s];"number"==typeof o?i=o:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),Sn(t,o,!!n||e[++s]))}return void 0===t?null:t}function kx(t,e,n,r,i,s){const o=null===e;let a;for(;i>0;){const u=t[i],c=Array.isArray(u),l=c?u[1]:u,d=null===l;let h=n[i+1];h===J&&(h=d?ge:void 0);let f=d?$g(h,r):l===r?h:void 0;if(c&&!Ud(f)&&(f=$g(u,r)),Ud(f)&&(a=f,o))return a;const p=t[i+1];i=o?_i(p):as(p)}if(null!==e){let u=s?e.residualClasses:e.residualStyles;null!=u&&(a=$g(u,r))}return a}function Ud(t){return void 0!==t}function Jt(t,e=""){const n=E(),r=de(),i=t+22,s=r.firstCreatePass?No(r,i,1,e,null):r.data[i],o=n[i]=function em(t,e){return t.createText(e)}(n[11],e);_d(r,n,o,s),dr(s,!1)}function ty(t){return Bd("",t,""),ty}function Bd(t,e,n){const r=E(),i=Po(r,t,e,n);return i!==J&&function Gr(t,e,n){const r=nd(e,t);!function IS(t,e,n){t.setValue(e,n)}(t[11],r,n)}(r,Yt(),i),Bd}const qo="en-US";let eM=qo;function iy(t,e,n,r,i){if(t=H(t),Array.isArray(t))for(let s=0;s<t.length;s++)iy(t[s],e,n,r,i);else{const s=de(),o=E();let a=is(t)?t:H(t.provide),u=rA(t);const c=bt(),l=1048575&c.providerIndexes,d=c.directiveStart,h=c.providerIndexes>>20;if(is(t)||!t.multi){const f=new gu(u,i,C),p=oy(a,e,i?l:l+h,d);-1===p?(Lg(ld(c,o),s,a),sy(s,t,e.length),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(f),o.push(f)):(n[p]=f,o[p]=f)}else{const f=oy(a,e,l+h,d),p=oy(a,e,l,l+h),y=p>=0&&n[p];if(i&&!y||!i&&!(f>=0&&n[f])){Lg(ld(c,o),s,a);const I=function kW(t,e,n,r,i){const s=new gu(t,n,C);return s.multi=[],s.index=e,s.componentProviders=0,CM(s,i,r&&!n),s}(i?MW:xW,n.length,i,r,u);!i&&y&&(n[p].providerFactory=I),sy(s,t,e.length,0),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(I),o.push(I)}else sy(s,t,f>-1?f:p,CM(n[i?p:f],u,!i&&r));!i&&r&&y&&n[p].componentProviders++}}}function sy(t,e,n,r){const i=is(e),s=function GG(t){return!!t.useClass}(e);if(i||s){const u=(s?H(e.useClass):e).prototype.ngOnDestroy;if(u){const c=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){const l=c.indexOf(n);-1===l?c.push(n,[r,u]):c[l+1].push(r,u)}else c.push(n,u)}}}function CM(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function oy(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function xW(t,e,n,r){return ay(this.multi,[])}function MW(t,e,n,r){const i=this.multi;let s;if(this.providerFactory){const o=this.providerFactory.componentProviders,a=es(n,n[1],this.providerFactory.index,r);s=a.slice(0,o),ay(i,s);for(let u=o;u<a.length;u++)s.push(a[u])}else s=[],ay(i,s);return s}function ay(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function ke(t,e=[]){return n=>{n.providersResolver=(r,i)=>function AW(t,e,n){const r=de();if(r.firstCreatePass){const i=Zn(t);iy(n,r.data,r.blueprint,i,!0),iy(e,r.data,r.blueprint,i,!1)}}(r,i?i(t):t,e)}}class zo{}class TM{}class SM extends zo{constructor(e,n){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new $A(this);const r=Dn(e);this._bootstrapComponents=jr(r.bootstrap),this._r3Injector=vA(e,n,[{provide:zo,useValue:this},{provide:xu,useValue:this.componentFactoryResolver}],be(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class uy extends TM{constructor(e){super(),this.moduleType=e}create(e){return new SM(this.moduleType,e)}}class NW extends zo{constructor(e,n,r){super(),this.componentFactoryResolver=new $A(this),this.instance=null;const i=new nA([...e,{provide:zo,useValue:this},{provide:xu,useValue:this.componentFactoryResolver}],n||Cd(),r,new Set(["environment"]));this.injector=i,i.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function qd(t,e,n=null){return new NW(t,e,n).injector}let OW=(()=>{class t{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n.id)){const r=XS(0,n.type),i=r.length>0?qd([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n.id,i)}return this.cachedInjectors.get(n.id)}ngOnDestroy(){try{for(const n of this.cachedInjectors.values())null!==n&&n.destroy()}finally{this.cachedInjectors.clear()}}}return t.\u0275prov=q({token:t,providedIn:"environment",factory:()=>new t($(Br))}),t})();function AM(t){t.getStandaloneInjector=e=>e.get(OW).getOrCreateStandaloneInjector(t)}function ly(t){return e=>{setTimeout(t,void 0,e)}}const Ge=class o3 extends Rr{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,n,r){let i=e,s=n||(()=>null),o=r;if(e&&"object"==typeof e){const u=e;i=u.next?.bind(u),s=u.error?.bind(u),o=u.complete?.bind(u)}this.__isAsync&&(s=ly(s),i&&(i=ly(i)),o&&(o=ly(o)));const a=super.subscribe({next:i,error:s,complete:o});return e instanceof In&&e.add(a),a}};let qr=(()=>{class t{}return t.__NG_ELEMENT_ID__=l3,t})();const u3=qr,c3=class extends u3{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}createEmbeddedView(e,n){const r=this._declarationTContainer.tViews,i=Sd(this._declarationLView,r,e,16,null,r.declTNode,null,null,null,null,n||null);i[17]=this._declarationLView[this._declarationTContainer.index];const o=this._declarationLView[19];return null!==o&&(i[19]=o.createEmbeddedView(r)),km(r,i,e),new ku(i)}};function l3(){return function zd(t,e){return 4&t.type?new c3(e,t,So(t,e)):null}(bt(),E())}let tr=(()=>{class t{}return t.__NG_ELEMENT_ID__=d3,t})();function d3(){return function jM(t,e){let n;const r=e[t.index];if(Yn(r))n=r;else{let i;if(8&t.type)i=Dt(r);else{const s=e[11];i=s.createComment("");const o=Cn(t,e);ns(s,yd(s,o),i,function lG(t,e){return t.nextSibling(e)}(s,o),!1)}e[t.index]=n=FA(r,e,i,t),xd(e,n)}return new BM(n,t,e)}(bt(),E())}const h3=tr,BM=class extends h3{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return So(this._hostTNode,this._hostLView)}get injector(){return new _o(this._hostTNode,this._hostLView)}get parentInjector(){const e=Fg(this._hostTNode,this._hostLView);if($0(e)){const n=ud(e,this._hostLView),r=ad(e);return new _o(n[1].data[r+8],n)}return new _o(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const n=$M(this._lContainer);return null!==n&&n[e]||null}get length(){return this._lContainer.length-10}createEmbeddedView(e,n,r){let i,s;"number"==typeof r?i=r:null!=r&&(i=r.index,s=r.injector);const o=e.createEmbeddedView(n||{},s);return this.insert(o,i),o}createComponent(e,n,r,i,s){const o=e&&!function _u(t){return"function"==typeof t}(e);let a;if(o)a=n;else{const d=n||{};a=d.index,r=d.injector,i=d.projectableNodes,s=d.environmentInjector||d.ngModuleRef}const u=o?e:new Ru(_e(e)),c=r||this.parentInjector;if(!s&&null==u.ngModule){const h=(o?c:this.parentInjector).get(Br,null);h&&(s=h)}const l=u.create(c,i,void 0,s);return this.insert(l.hostView,a),l}insert(e,n){const r=e._lView,i=r[1];if(function U$(t){return Yn(t[3])}(r)){const l=this.indexOf(e);if(-1!==l)this.detach(l);else{const d=r[3],h=new BM(d,d[6],d[3]);h.detach(h.indexOf(e))}}const s=this._adjustIndex(n),o=this._lContainer;!function sG(t,e,n,r){const i=10+r,s=n.length;r>0&&(n[i-1][4]=e),r<s-10?(e[4]=n[i],J0(n,10+r,e)):(n.push(e),e[4]=null),e[3]=n;const o=e[17];null!==o&&n!==o&&function oG(t,e){const n=t[9];e[16]!==e[3][3][16]&&(t[2]=!0),null===n?t[9]=[e]:n.push(e)}(o,e);const a=e[19];null!==a&&a.insertView(t),e[2]|=64}(i,r,o,s);const a=sm(s,o),u=r[11],c=yd(u,o[7]);return null!==c&&function nG(t,e,n,r,i,s){r[0]=i,r[6]=e,Cu(t,r,n,1,i,s)}(i,o[6],u,r,c,a),e.attachToViewContainerRef(),J0(hy(o),s,e),e}move(e,n){return this.insert(e,n)}indexOf(e){const n=$M(this._lContainer);return null!==n?n.indexOf(e):-1}remove(e){const n=this._adjustIndex(e,-1),r=nm(this._lContainer,n);r&&(fd(hy(this._lContainer),n),DS(r[1],r))}detach(e){const n=this._adjustIndex(e,-1),r=nm(this._lContainer,n);return r&&null!=fd(hy(this._lContainer),n)?new ku(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function $M(t){return t[8]}function hy(t){return t[8]||(t[8]=[])}function Kd(...t){}const Qd=new L("Application Initializer");let Yd=(()=>{class t{constructor(n){this.appInits=n,this.resolve=Kd,this.reject=Kd,this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i})}runInitializers(){if(this.initialized)return;const n=[],r=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let i=0;i<this.appInits.length;i++){const s=this.appInits[i]();if(Ou(s))n.push(s);else if(Km(s)){const o=new Promise((a,u)=>{s.subscribe({complete:a,error:u})});n.push(o)}}Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),0===n.length&&r(),this.initialized=!0}}return t.\u0275fac=function(n){return new(n||t)($(Qd,8))},t.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const Hu=new L("AppId",{providedIn:"root",factory:function gk(){return`${Ey()}${Ey()}${Ey()}`}});function Ey(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const mk=new L("Platform Initializer"),Zd=new L("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),yk=new L("appBootstrapListener");let B3=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})();const zr=new L("LocaleId",{providedIn:"root",factory:()=>le(zr,z.Optional|z.SkipSelf)||function $3(){return typeof $localize<"u"&&$localize.locale||qo}()});class G3{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}}let _k=(()=>{class t{compileModuleSync(n){return new uy(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){const r=this.compileModuleSync(n),s=jr(Dn(n).declarations).reduce((o,a)=>{const u=_e(a);return u&&o.push(new Ru(u)),o},[]);return new G3(r,s)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const z3=(()=>Promise.resolve(0))();function Dy(t){typeof Zone>"u"?z3.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class Fe{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ge(!1),this.onMicrotaskEmpty=new Ge(!1),this.onStable=new Ge(!1),this.onError=new Ge(!1),typeof Zone>"u")throw new S(908,!1);Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function W3(){let t=Te.requestAnimationFrame,e=Te.cancelAnimationFrame;if(typeof Zone<"u"&&t&&e){const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function Y3(t){const e=()=>{!function Q3(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Te,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,Cy(t),t.isCheckStableRunning=!0,by(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),Cy(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,s,o,a)=>{try{return Ik(t),n.invokeTask(i,s,o,a)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||t.shouldCoalesceRunChangeDetection)&&e(),Ek(t)}},onInvoke:(n,r,i,s,o,a,u)=>{try{return Ik(t),n.invoke(i,s,o,a,u)}finally{t.shouldCoalesceRunChangeDetection&&e(),Ek(t)}},onHasTask:(n,r,i,s)=>{n.hasTask(i,s),r===i&&("microTask"==s.change?(t._hasPendingMicrotasks=s.microTask,Cy(t),by(t)):"macroTask"==s.change&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(n,r,i,s)=>(n.handleError(i,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Fe.isInAngularZone())throw new S(909,!1)}static assertNotInAngularZone(){if(Fe.isInAngularZone())throw new S(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){const s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,K3,Kd,Kd);try{return s.runTask(o,n,r)}finally{s.cancelTask(o)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}}const K3={};function by(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Cy(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function Ik(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Ek(t){t._nesting--,by(t)}class Z3{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ge,this.onMicrotaskEmpty=new Ge,this.onStable=new Ge,this.onError=new Ge}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}}const Dk=new L(""),Xd=new L("");let Ay,Ty=(()=>{class t{constructor(n,r,i){this._ngZone=n,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Ay||(function X3(t){Ay=t}(i),i.addToWindow(r)),this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Fe.assertNotInAngularZone(),Dy(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Dy(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb(this._didWork)}this._didWork=!1});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(n)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,r,i){let s=-1;r&&r>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==s),n(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:n,timeoutId:s,updateCb:i})}whenStable(n,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(n){this.registry.registerApplication(n,this)}unregisterApplication(n){this.registry.unregisterApplication(n)}findProviders(n,r,i){return[]}}return t.\u0275fac=function(n){return new(n||t)($(Fe),$(Sy),$(Xd))},t.\u0275prov=q({token:t,factory:t.\u0275fac}),t})(),Sy=(()=>{class t{constructor(){this._applications=new Map}registerApplication(n,r){this._applications.set(n,r)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,r=!0){return Ay?.findTestabilityInTree(this,n,r)??null}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})(),vi=null;const bk=new L("AllowMultipleToken"),xy=new L("PlatformDestroyListeners");class Ck{constructor(e,n){this.name=e,this.token=n}}function Sk(t,e,n=[]){const r=`Platform: ${e}`,i=new L(r);return(s=[])=>{let o=My();if(!o||o.injector.get(bk,!1)){const a=[...n,...s,{provide:i,useValue:!0}];t?t(a):function t4(t){if(vi&&!vi.get(bk,!1))throw new S(400,!1);vi=t;const e=t.get(xk);(function Tk(t){const e=t.get(mk,null);e&&e.forEach(n=>n())})(t)}(function Ak(t=[],e){return xn.create({name:e,providers:[{provide:vm,useValue:"platform"},{provide:xy,useValue:new Set([()=>vi=null])},...t]})}(a,r))}return function r4(t){const e=My();if(!e)throw new S(401,!1);return e}()}}function My(){return vi?.get(xk)??null}let xk=(()=>{class t{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,r){const i=function kk(t,e){let n;return n="noop"===t?new Z3:("zone.js"===t?void 0:t)||new Fe(e),n}(r?.ngZone,function Mk(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!t||!t.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!t||!t.ngZoneRunCoalescing)||!1}}(r)),s=[{provide:Fe,useValue:i}];return i.run(()=>{const o=xn.create({providers:s,parent:this.injector,name:n.moduleType.name}),a=n.create(o),u=a.injector.get(xo,null);if(!u)throw new S(402,!1);return i.runOutsideAngular(()=>{const c=i.onError.subscribe({next:l=>{u.handleError(l)}});a.onDestroy(()=>{eh(this._modules,a),c.unsubscribe()})}),function Rk(t,e,n){try{const r=n();return Ou(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(u,i,()=>{const c=a.injector.get(Yd);return c.runInitializers(),c.donePromise.then(()=>(function tM(t){Fn(t,"Expected localeId to be defined"),"string"==typeof t&&(eM=t.toLowerCase().replace(/_/g,"-"))}(a.injector.get(zr,qo)||qo),this._moduleDoBootstrap(a),a))})})}bootstrapModule(n,r=[]){const i=Nk({},r);return function J3(t,e,n){const r=new uy(n);return Promise.resolve(r)}(0,0,n).then(s=>this.bootstrapModuleFactory(s,i))}_moduleDoBootstrap(n){const r=n.injector.get(Jd);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!n.instance.ngDoBootstrap)throw new S(-403,!1);n.instance.ngDoBootstrap(r)}this._modules.push(n)}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new S(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const n=this._injector.get(xy,null);n&&(n.forEach(r=>r()),n.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(n){return new(n||t)($(xn))},t.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})();function Nk(t,e){return Array.isArray(e)?e.reduce(Nk,t):{...t,...e}}let Jd=(()=>{class t{get destroyed(){return this._destroyed}get injector(){return this._injector}constructor(n,r,i){this._zone=n,this._injector=r,this._exceptionHandler=i,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const s=new Oe(a=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{a.next(this._stable),a.complete()})}),o=new Oe(a=>{let u;this._zone.runOutsideAngular(()=>{u=this._zone.onStable.subscribe(()=>{Fe.assertNotInAngularZone(),Dy(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,a.next(!0))})})});const c=this._zone.onUnstable.subscribe(()=>{Fe.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{a.next(!1)}))});return()=>{u.unsubscribe(),c.unsubscribe()}});this.isStable=function s$(...t){const e=su(t),n=function X2(t,e){return"number"==typeof ag(t)?t.pop():e}(t,1/0),r=t;return r.length?1===r.length?Wn(r[0]):ao(n)(tt(r,e)):ur}(s,o.pipe(function o$(t={}){const{connector:e=(()=>new Rr),resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=t;return s=>{let o,a,u,c=0,l=!1,d=!1;const h=()=>{a?.unsubscribe(),a=void 0},f=()=>{h(),o=u=void 0,l=d=!1},p=()=>{const g=o;f(),g?.unsubscribe()};return mt((g,y)=>{c++,!d&&!l&&h();const I=u=u??e();y.add(()=>{c--,0===c&&!d&&!l&&(a=ug(p,i))}),I.subscribe(y),!o&&c>0&&(o=new iu({next:D=>I.next(D),error:D=>{d=!0,h(),a=ug(f,n,D),I.error(D)},complete:()=>{l=!0,h(),a=ug(f,r),I.complete()}}),Wn(g).subscribe(o))})(s)}}()))}bootstrap(n,r){const i=n instanceof iA;if(!this._injector.get(Yd).done)throw!i&&function co(t){const e=_e(t)||Lt(t)||Wt(t);return null!==e&&e.standalone}(n),new S(405,false);let o;o=i?n:this._injector.get(xu).resolveComponentFactory(n),this.componentTypes.push(o.componentType);const a=function e4(t){return t.isBoundToModule}(o)?void 0:this._injector.get(zo),c=o.create(xn.NULL,[],r||o.selector,a),l=c.location.nativeElement,d=c.injector.get(Dk,null);return d?.registerApplication(l),c.onDestroy(()=>{this.detachView(c.hostView),eh(this.components,c),d?.unregisterApplication(l)}),this._loadComponent(c),c}tick(){if(this._runningTick)throw new S(101,!1);try{this._runningTick=!0;for(let n of this._views)n.detectChanges()}catch(n){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(n))}finally{this._runningTick=!1}}attachView(n){const r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){const r=n;eh(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);const r=this._injector.get(yk,[]);r.push(...this._bootstrapListeners),r.forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>eh(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new S(406,!1);const n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return t.\u0275fac=function(n){return new(n||t)($(Fe),$(Br),$(xo))},t.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function eh(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}let th=(()=>{class t{}return t.__NG_ELEMENT_ID__=s4,t})();function s4(t){return function o4(t,e,n){if(fu(t)&&!n){const r=Tn(t.index,e);return new ku(r,r)}return 47&t.type?new ku(e[16],e):null}(bt(),E(),16==(16&t))}class Vk{constructor(){}supports(e){return Od(e)}create(e){return new h4(e)}}const d4=(t,e)=>e;class h4{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||d4}forEachItem(e){let n;for(n=this._itHead;null!==n;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,s=null;for(;n||r;){const o=!r||n&&n.currentIndex<Bk(r,i,s)?n:r,a=Bk(o,i,s),u=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(n=n._next,null==o.previousIndex)i++;else{s||(s=[]);const c=a-i,l=u-i;if(c!=l){for(let h=0;h<c;h++){const f=h<s.length?s[h]:s[h]=0,p=f+h;l<=p&&p<c&&(s[h]=f+1)}s[o.previousIndex]=l-c}}a!==u&&e(o,a,u)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;null!==n;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;null!==n;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;null!==n;n=n._nextIdentityChange)e(n)}diff(e){if(null==e&&(e=[]),!Od(e))throw new S(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let i,s,o,n=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),null!==n&&Object.is(n.trackById,o)?(r&&(n=this._verifyReinsertion(n,s,o,a)),Object.is(n.item,s)||this._addIdentityChange(n,s)):(n=this._mismatch(n,s,o,a),r=!0),n=n._next}else i=0,function Pq(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[ss()]();let r;for(;!(r=n.next()).done;)e(r.value)}}(e,a=>{o=this._trackByFn(i,a),null!==n&&Object.is(n.trackById,o)?(r&&(n=this._verifyReinsertion(n,a,o,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)):(n=this._mismatch(n,a,o,i),r=!0),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let s;return null===e?s=this._itTail:(s=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,s,i)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,s,i)):e=this._addAfter(new f4(n,r),s,i),e}_verifyReinsertion(e,n,r,i){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==s?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;null!==e;){const n=e._next;this._addToRemovals(this._unlink(e)),e=n}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const i=e._prevRemoved,s=e._nextRemoved;return null===i?this._removalsHead=s:i._nextRemoved=s,null===s?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){const i=null===n?this._itHead:n._next;return e._next=i,e._prev=n,null===i?this._itTail=e:i._prev=e,null===n?this._itHead=e:n._next=e,null===this._linkedRecords&&(this._linkedRecords=new Uk),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const n=e._prev,r=e._next;return null===n?this._itHead=r:n._next=r,null===r?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Uk),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class f4{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class p4{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===n||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){const n=e._prevDup,r=e._nextDup;return null===n?this._head=r:n._nextDup=r,null===r?this._tail=n:r._prevDup=n,null===this._head}}class Uk{constructor(){this.map=new Map}put(e){const n=e.trackById;let r=this.map.get(n);r||(r=new p4,this.map.set(n,r)),r.add(e)}get(e,n){const i=this.map.get(e);return i?i.get(e,n):null}remove(e){const n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Bk(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}function jk(){return new ih([new Vk])}let ih=(()=>{class t{constructor(n){this.factories=n}static create(n,r){if(null!=r){const i=r.factories.slice();n=n.concat(i)}return new t(n)}static extend(n){return{provide:t,useFactory:r=>t.create(n,r||jk()),deps:[[t,new wu,new Zt]]}}find(n){const r=this.factories.find(i=>i.supports(n));if(null!=r)return r;throw new S(901,!1)}}return t.\u0275prov=q({token:t,providedIn:"root",factory:jk}),t})();const v4=Sk(null,"core",[]);let w4=(()=>{class t{constructor(n){}}return t.\u0275fac=function(n){return new(n||t)($(Jd))},t.\u0275mod=zt({type:t}),t.\u0275inj=Ft({}),t})(),Py=null;function _r(){return Py}class D4{}const fn=new L("DocumentToken");let Fy=(()=>{class t{historyGo(n){throw new Error("Not implemented")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=q({token:t,factory:function(){return function b4(){return $(Hk)}()},providedIn:"platform"}),t})();const C4=new L("Location Initialized");let Hk=(()=>{class t extends Fy{constructor(n){super(),this._doc=n,this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return _r().getBaseHref(this._doc)}onPopState(n){const r=_r().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){const r=_r().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){qk()?this._history.pushState(n,r,i):this._location.hash=i}replaceState(n,r,i){qk()?this._history.replaceState(n,r,i):this._location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}}return t.\u0275fac=function(n){return new(n||t)($(fn))},t.\u0275prov=q({token:t,factory:function(){return function T4(){return new Hk($(fn))}()},providedIn:"platform"}),t})();function qk(){return!!window.history.pushState}function Ly(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function zk(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function Kr(t){return t&&"?"!==t[0]?"?"+t:t}let ls=(()=>{class t{historyGo(n){throw new Error("Not implemented")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=q({token:t,factory:function(){return le(Kk)},providedIn:"root"}),t})();const Wk=new L("appBaseHref");let Kk=(()=>{class t extends ls{constructor(n,r){super(),this._platformLocation=n,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??le(fn).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return Ly(this._baseHref,n)}path(n=!1){const r=this._platformLocation.pathname+Kr(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,s){const o=this.prepareExternalUrl(i+Kr(s));this._platformLocation.pushState(n,r,o)}replaceState(n,r,i,s){const o=this.prepareExternalUrl(i+Kr(s));this._platformLocation.replaceState(n,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}}return t.\u0275fac=function(n){return new(n||t)($(Fy),$(Wk,8))},t.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),S4=(()=>{class t extends ls{constructor(n,r){super(),this._platformLocation=n,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(n){const r=Ly(this._baseHref,n);return r.length>0?"#"+r:r}pushState(n,r,i,s){let o=this.prepareExternalUrl(i+Kr(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.pushState(n,r,o)}replaceState(n,r,i,s){let o=this.prepareExternalUrl(i+Kr(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(n,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}}return t.\u0275fac=function(n){return new(n||t)($(Fy),$(Wk,8))},t.\u0275prov=q({token:t,factory:t.\u0275fac}),t})(),Vy=(()=>{class t{constructor(n){this._subject=new Ge,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;const r=this._locationStrategy.getBaseHref();this._basePath=function M4(t){if(new RegExp("^(https?:)?//").test(t)){const[,n]=t.split(/\/\/[^\/]+/);return n}return t}(zk(Qk(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+Kr(r))}normalize(n){return t.stripTrailingSlash(function x4(t,e){return t&&new RegExp(`^${t}([/;?#]|$)`).test(e)?e.substring(t.length):e}(this._basePath,Qk(n)))}prepareExternalUrl(n){return n&&"/"!==n[0]&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Kr(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Kr(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r,complete:i})}}return t.normalizeQueryParams=Kr,t.joinWithSlash=Ly,t.stripTrailingSlash=zk,t.\u0275fac=function(n){return new(n||t)($(ls))},t.\u0275prov=q({token:t,factory:function(){return function A4(){return new Vy($(ls))}()},providedIn:"root"}),t})();function Qk(t){return t.replace(/\/index.html$/,"")}class m8{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let aR=(()=>{class t{set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}constructor(n,r,i){this._viewContainer=n,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;!this._differ&&n&&(this._differ=this._differs.find(n).create(this.ngForTrackBy))}if(this._differ){const n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){const r=this._viewContainer;n.forEachOperation((i,s,o)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new m8(i.item,this._ngForOf,-1,-1),null===o?void 0:o);else if(null==o)r.remove(null===s?void 0:s);else if(null!==s){const a=r.get(s);r.move(a,o),uR(a,i)}});for(let i=0,s=r.length;i<s;i++){const a=r.get(i).context;a.index=i,a.count=s,a.ngForOf=this._ngForOf}n.forEachIdentityChange(i=>{uR(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(n,r){return!0}}return t.\u0275fac=function(n){return new(n||t)(C(tr),C(qr),C(ih))},t.\u0275dir=K({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),t})();function uR(t,e){t.context.$implicit=e.item}let Jy=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=zt({type:t}),t.\u0275inj=Ft({}),t})();let W8=(()=>{class t{}return t.\u0275prov=q({token:t,providedIn:"root",factory:()=>new K8($(fn),window)}),t})();class K8{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const n=function Q8(t,e){const n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if("function"==typeof t.createTreeWalker&&t.body&&(t.body.createShadowRoot||t.body.attachShadow)){const r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const s=i.shadowRoot;if(s){const o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}i=r.nextNode()}}return null}(this.document,e);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const n=this.window.history;n&&n.scrollRestoration&&(n.scrollRestoration=e)}}scrollToElement(e){const n=e.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=fR(this.window.history)||fR(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function fR(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}class D6 extends D4{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class n_ extends D6{static makeCurrent(){!function E4(t){Py||(Py=t)}(new n_)}onAndCancel(e,n,r){return e.addEventListener(n,r,!1),()=>{e.removeEventListener(n,r,!1)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return(n=n||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return"window"===n?window:"document"===n?e:"body"===n?e.body:null}getBaseHref(e){const n=function b6(){return Qu=Qu||document.querySelector("base"),Qu?Qu.getAttribute("href"):null}();return null==n?null:function C6(t){gh=gh||document.createElement("a"),gh.setAttribute("href",t);const e=gh.pathname;return"/"===e.charAt(0)?e:`/${e}`}(n)}resetBaseElement(){Qu=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function f8(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const r=n.indexOf("="),[i,s]=-1==r?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}(document.cookie,e)}}let gh,Qu=null;const vR=new L("TRANSITION_ID"),S6=[{provide:Qd,useFactory:function T6(t,e,n){return()=>{n.get(Yd).donePromise.then(()=>{const r=_r(),i=e.querySelectorAll(`style[ng-transition="${t}"]`);for(let s=0;s<i.length;s++)r.remove(i[s])})}},deps:[vR,fn,xn],multi:!0}];let x6=(()=>{class t{build(){return new XMLHttpRequest}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=q({token:t,factory:t.\u0275fac}),t})();const mh=new L("EventManagerPlugins");let yh=(()=>{class t{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(i=>i.manager=this),this._plugins=n.slice().reverse()}addEventListener(n,r,i){return this._findPluginFor(r).addEventListener(n,r,i)}addGlobalEventListener(n,r,i){return this._findPluginFor(r).addGlobalEventListener(n,r,i)}getZone(){return this._zone}_findPluginFor(n){const r=this._eventNameToPlugin.get(n);if(r)return r;const i=this._plugins;for(let s=0;s<i.length;s++){const o=i[s];if(o.supports(n))return this._eventNameToPlugin.set(n,o),o}throw new Error(`No event manager plugin found for event ${n}`)}}return t.\u0275fac=function(n){return new(n||t)($(mh),$(Fe))},t.\u0275prov=q({token:t,factory:t.\u0275fac}),t})();class wR{constructor(e){this._doc=e}addGlobalEventListener(e,n,r){const i=_r().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${n}`);return this.addEventListener(i,n,r)}}let IR=(()=>{class t{constructor(){this._stylesSet=new Set}addStyles(n){const r=new Set;n.forEach(i=>{this._stylesSet.has(i)||(this._stylesSet.add(i),r.add(i))}),this.onStylesAdded(r)}onStylesAdded(n){}getAllStyles(){return Array.from(this._stylesSet)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=q({token:t,factory:t.\u0275fac}),t})(),Yu=(()=>{class t extends IR{constructor(n){super(),this._doc=n,this._hostNodes=new Map,this._hostNodes.set(n.head,[])}_addStylesToHost(n,r,i){n.forEach(s=>{const o=this._doc.createElement("style");o.textContent=s,i.push(r.appendChild(o))})}addHost(n){const r=[];this._addStylesToHost(this._stylesSet,n,r),this._hostNodes.set(n,r)}removeHost(n){const r=this._hostNodes.get(n);r&&r.forEach(ER),this._hostNodes.delete(n)}onStylesAdded(n){this._hostNodes.forEach((r,i)=>{this._addStylesToHost(n,i,r)})}ngOnDestroy(){this._hostNodes.forEach(n=>n.forEach(ER))}}return t.\u0275fac=function(n){return new(n||t)($(fn))},t.\u0275prov=q({token:t,factory:t.\u0275fac}),t})();function ER(t){_r().remove(t)}const r_={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},i_=/%COMP%/g;function s_(t,e){return e.flat(100).map(n=>n.replace(i_,t))}function CR(t){return e=>{if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}let o_=(()=>{class t{constructor(n,r,i){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new a_(n)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;switch(r.encapsulation){case cr.Emulated:{let i=this.rendererByCompId.get(r.id);return i||(i=new P6(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,i)),i.applyToHost(n),i}case cr.ShadowDom:return new F6(this.eventManager,this.sharedStylesHost,n,r);default:if(!this.rendererByCompId.has(r.id)){const i=s_(r.id,r.styles);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return t.\u0275fac=function(n){return new(n||t)($(yh),$(Yu),$(Hu))},t.\u0275prov=q({token:t,factory:t.\u0275fac}),t})();class a_{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,n){return n?document.createElementNS(r_[n]||n,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,n){(SR(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(SR(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;const s=r_[i];s?e.setAttributeNS(s,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){const i=r_[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(dn.DashCase|dn.Important)?e.style.setProperty(n,r,i&dn.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&dn.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e[n]=r}setValue(e,n){e.nodeValue=n}listen(e,n,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,n,CR(r)):this.eventManager.addEventListener(e,n,CR(r))}}function SR(t){return"TEMPLATE"===t.tagName&&void 0!==t.content}class P6 extends a_{constructor(e,n,r,i){super(e),this.component=r;const s=s_(i+"-"+r.id,r.styles);n.addStyles(s),this.contentAttr=function R6(t){return"_ngcontent-%COMP%".replace(i_,t)}(i+"-"+r.id),this.hostAttr=function N6(t){return"_nghost-%COMP%".replace(i_,t)}(i+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,n){const r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}}class F6 extends a_{constructor(e,n,r,i){super(e),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const s=s_(i.id,i.styles);for(let o=0;o<s.length;o++){const a=document.createElement("style");a.textContent=s[o],this.shadowRoot.appendChild(a)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let L6=(()=>{class t extends wR{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i){return n.addEventListener(r,i,!1),()=>this.removeEventListener(n,r,i)}removeEventListener(n,r,i){return n.removeEventListener(r,i)}}return t.\u0275fac=function(n){return new(n||t)($(fn))},t.\u0275prov=q({token:t,factory:t.\u0275fac}),t})();const AR=["alt","control","meta","shift"],V6={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},U6={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let B6=(()=>{class t extends wR{constructor(n){super(n)}supports(n){return null!=t.parseEventName(n)}addEventListener(n,r,i){const s=t.parseEventName(r),o=t.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>_r().onAndCancel(n,s.domEventName,o))}static parseEventName(n){const r=n.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const s=t._normalizeKey(r.pop());let o="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),o="code."),AR.forEach(c=>{const l=r.indexOf(c);l>-1&&(r.splice(l,1),o+=c+".")}),o+=s,0!=r.length||0===s.length)return null;const u={};return u.domEventName=i,u.fullKey=o,u}static matchEventFullKeyCode(n,r){let i=V6[n.key]||n.key,s="";return r.indexOf("code.")>-1&&(i=n.code,s="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),AR.forEach(o=>{o!==i&&(0,U6[o])(n)&&(s+=o+".")}),s+=i,s===r)}static eventCallback(n,r,i){return s=>{t.matchEventFullKeyCode(s,n)&&i.runGuarded(()=>r(s))}}static _normalizeKey(n){return"esc"===n?"escape":n}}return t.\u0275fac=function(n){return new(n||t)($(fn))},t.\u0275prov=q({token:t,factory:t.\u0275fac}),t})();const MR=[{provide:Zd,useValue:"browser"},{provide:mk,useValue:function $6(){n_.makeCurrent()},multi:!0},{provide:fn,useFactory:function G6(){return function _G(t){cm=t}(document),document},deps:[]}],H6=Sk(v4,"browser",MR),kR=new L(""),RR=[{provide:Xd,useClass:class A6{addToWindow(e){Te.getAngularTestability=(r,i=!0)=>{const s=e.findTestabilityInTree(r,i);if(null==s)throw new Error("Could not find testability for element.");return s},Te.getAllAngularTestabilities=()=>e.getAllTestabilities(),Te.getAllAngularRootElements=()=>e.getAllRootElements(),Te.frameworkStabilizers||(Te.frameworkStabilizers=[]),Te.frameworkStabilizers.push(r=>{const i=Te.getAllAngularTestabilities();let s=i.length,o=!1;const a=function(u){o=o||u,s--,0==s&&r(o)};i.forEach(function(u){u.whenStable(a)})})}findTestabilityInTree(e,n,r){return null==n?null:e.getTestability(n)??(r?_r().isShadowRoot(n)?this.findTestabilityInTree(e,n.host,!0):this.findTestabilityInTree(e,n.parentElement,!0):null)}},deps:[]},{provide:Dk,useClass:Ty,deps:[Fe,Sy,Xd]},{provide:Ty,useClass:Ty,deps:[Fe,Sy,Xd]}],NR=[{provide:vm,useValue:"root"},{provide:xo,useFactory:function j6(){return new xo},deps:[]},{provide:mh,useClass:L6,multi:!0,deps:[fn,Fe,Zd]},{provide:mh,useClass:B6,multi:!0,deps:[fn]},{provide:o_,useClass:o_,deps:[yh,Yu,Hu]},{provide:oA,useExisting:o_},{provide:IR,useExisting:Yu},{provide:Yu,useClass:Yu,deps:[fn]},{provide:yh,useClass:yh,deps:[mh,Fe]},{provide:class Y8{},useClass:x6,deps:[]},[]];let q6=(()=>{class t{constructor(n){}static withServerTransition(n){return{ngModule:t,providers:[{provide:Hu,useValue:n.appId},{provide:vR,useExisting:Hu},S6]}}}return t.\u0275fac=function(n){return new(n||t)($(kR,12))},t.\u0275mod=zt({type:t}),t.\u0275inj=Ft({providers:[...NR,...RR],imports:[Jy,w4]}),t})(),OR=(()=>{class t{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}}return t.\u0275fac=function(n){return new(n||t)($(fn))},t.\u0275prov=q({token:t,factory:function(n){let r=null;return r=n?new n:function W6(){return new OR($(fn))}(),r},providedIn:"root"}),t})();function G(...t){return tt(t,su(t))}typeof window<"u"&&window;class sr extends Rr{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){const{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}const _h=ru(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"}),{isArray:tK}=Array,{getPrototypeOf:nK,prototype:rK,keys:iK}=Object;function LR(t){if(1===t.length){const e=t[0];if(tK(e))return{args:e,keys:null};if(function sK(t){return t&&"object"==typeof t&&nK(t)===rK}(e)){const n=iK(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}const{isArray:oK}=Array;function VR(t){return se(e=>function aK(t,e){return oK(e)?t(...e):t(e)}(t,e))}function UR(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function BR(...t){const e=su(t),n=ZT(t),{args:r,keys:i}=LR(t);if(0===r.length)return tt([],e);const s=new Oe(function uK(t,e,n=Ki){return r=>{$R(e,()=>{const{length:i}=t,s=new Array(i);let o=i,a=i;for(let u=0;u<i;u++)$R(e,()=>{const c=tt(t[u],e);let l=!1;c.subscribe(at(r,d=>{s[u]=d,l||(l=!0,a--),a||r.next(n(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}(r,e,i?o=>UR(i,o):Ki));return n?s.pipe(VR(n)):s}function $R(t,e,n){t?Nr(n,t,e):e()}function l_(...t){return function cK(){return ao(1)}()(tt(t,su(t)))}function jR(t){return new Oe(e=>{Wn(t()).subscribe(e)})}function Zu(t,e){const n=De(t)?t:()=>t,r=i=>i.error(n());return new Oe(e?i=>e.schedule(r,0,i):r)}function d_(){return mt((t,e)=>{let n=null;t._refCount++;const r=at(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount)return void(n=null);const i=t._connection,s=n;n=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}class GR extends Oe{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,FT(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new In;const n=this.getSubject();e.add(this.source.subscribe(at(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=In.EMPTY)}return e}refCount(){return d_()(this)}}function vr(t,e){return mt((n,r)=>{let i=null,s=0,o=!1;const a=()=>o&&!i&&r.complete();n.subscribe(at(r,u=>{i?.unsubscribe();let c=0;const l=s++;Wn(t(u,l)).subscribe(i=at(r,d=>r.next(e?e(u,d,l,c++):d),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function Xu(t){return t<=0?()=>ur:mt((e,n)=>{let r=0;e.subscribe(at(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function Ii(t,e){return mt((n,r)=>{let i=0;n.subscribe(at(r,s=>t.call(e,s,i++)&&r.next(s)))})}function vh(t){return mt((e,n)=>{let r=!1;e.subscribe(at(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function HR(t=dK){return mt((e,n)=>{let r=!1;e.subscribe(at(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function dK(){return new _h}function Ei(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Ii((i,s)=>t(i,s,r)):Ki,Xu(1),n?vh(e):HR(()=>new _h))}function ds(t,e){return De(e)?Et(t,e,1):Et(t,1)}function Tt(t,e,n){const r=De(t)||e||n?{next:t,error:e,complete:n}:t;return r?mt((i,s)=>{var o;null===(o=r.subscribe)||void 0===o||o.call(r);let a=!0;i.subscribe(at(s,u=>{var c;null===(c=r.next)||void 0===c||c.call(r,u),s.next(u)},()=>{var u;a=!1,null===(u=r.complete)||void 0===u||u.call(r),s.complete()},u=>{var c;a=!1,null===(c=r.error)||void 0===c||c.call(r,u),s.error(u)},()=>{var u,c;a&&(null===(u=r.unsubscribe)||void 0===u||u.call(r)),null===(c=r.finalize)||void 0===c||c.call(r)}))}):Ki}function Di(t){return mt((e,n)=>{let s,r=null,i=!1;r=e.subscribe(at(n,void 0,void 0,o=>{s=Wn(t(o,Di(t)(e))),r?(r.unsubscribe(),r=null,s.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(n))})}function hK(t,e,n,r,i){return(s,o)=>{let a=n,u=e,c=0;s.subscribe(at(o,l=>{const d=c++;u=a?t(u,l,d):(a=!0,l),r&&o.next(u)},i&&(()=>{a&&o.next(u),o.complete()})))}}function qR(t,e){return mt(hK(t,e,arguments.length>=2,!0))}function h_(t){return t<=0?()=>ur:mt((e,n)=>{let r=[];e.subscribe(at(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(const i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function zR(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Ii((i,s)=>t(i,s,r)):Ki,h_(1),n?vh(e):HR(()=>new _h))}function f_(t){return mt((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}const ie="primary",Ju=Symbol("RouteTitle");class gK{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}}function Yo(t){return new gK(t)}function mK(t,e,n){const r=n.path.split("/");if(r.length>t.length||"full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let s=0;s<r.length;s++){const o=r[s],a=t[s];if(o.startsWith(":"))i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function wr(t,e){const n=t?Object.keys(t):void 0,r=e?Object.keys(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!WR(t[i],e[i]))return!1;return!0}function WR(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((i,s)=>r[s]===i)}return t===e}function KR(t){return Array.prototype.concat.apply([],t)}function QR(t){return t.length>0?t[t.length-1]:null}function St(t,e){for(const n in t)t.hasOwnProperty(n)&&e(t[n],n)}function bi(t){return Km(t)?t:Ou(t)?tt(Promise.resolve(t)):G(t)}const wh=!1,_K={exact:function XR(t,e,n){if(!fs(t.segments,e.segments)||!Ih(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!t.children[r]||!XR(t.children[r],e.children[r],n))return!1;return!0},subset:JR},YR={exact:function vK(t,e){return wr(t,e)},subset:function wK(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>WR(t[n],e[n]))},ignored:()=>!0};function ZR(t,e,n){return _K[n.paths](t.root,e.root,n.matrixParams)&&YR[n.queryParams](t.queryParams,e.queryParams)&&!("exact"===n.fragment&&t.fragment!==e.fragment)}function JR(t,e,n){return eN(t,e,e.segments,n)}function eN(t,e,n,r){if(t.segments.length>n.length){const i=t.segments.slice(0,n.length);return!(!fs(i,n)||e.hasChildren()||!Ih(i,n,r))}if(t.segments.length===n.length){if(!fs(t.segments,n)||!Ih(t.segments,n,r))return!1;for(const i in e.children)if(!t.children[i]||!JR(t.children[i],e.children[i],r))return!1;return!0}{const i=n.slice(0,t.segments.length),s=n.slice(t.segments.length);return!!(fs(t.segments,i)&&Ih(t.segments,i,r)&&t.children[ie])&&eN(t.children[ie],e,s,r)}}function Ih(t,e,n){return e.every((r,i)=>YR[n](t[i].parameters,r.parameters))}class hs{constructor(e=new oe([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Yo(this.queryParams)),this._queryParamMap}toString(){return DK.serialize(this)}}class oe{constructor(e,n){this.segments=e,this.children=n,this.parent=null,St(n,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Eh(this)}}class ec{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap||(this._parameterMap=Yo(this.parameters)),this._parameterMap}toString(){return rN(this)}}function fs(t,e){return t.length===e.length&&t.every((n,r)=>n.path===e[r].path)}let tc=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=q({token:t,factory:function(){return new p_},providedIn:"root"}),t})();class p_{parse(e){const n=new RK(e);return new hs(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){const n=`/${nc(e.root,!0)}`,r=function TK(t){const e=Object.keys(t).map(n=>{const r=t[n];return Array.isArray(r)?r.map(i=>`${Dh(n)}=${Dh(i)}`).join("&"):`${Dh(n)}=${Dh(r)}`}).filter(n=>!!n);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${n}${r}${"string"==typeof e.fragment?`#${function bK(t){return encodeURI(t)}(e.fragment)}`:""}`}}const DK=new p_;function Eh(t){return t.segments.map(e=>rN(e)).join("/")}function nc(t,e){if(!t.hasChildren())return Eh(t);if(e){const n=t.children[ie]?nc(t.children[ie],!1):"",r=[];return St(t.children,(i,s)=>{s!==ie&&r.push(`${s}:${nc(i,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=function EK(t,e){let n=[];return St(t.children,(r,i)=>{i===ie&&(n=n.concat(e(r,i)))}),St(t.children,(r,i)=>{i!==ie&&(n=n.concat(e(r,i)))}),n}(t,(r,i)=>i===ie?[nc(t.children[ie],!1)]:[`${i}:${nc(r,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children[ie]?`${Eh(t)}/${n[0]}`:`${Eh(t)}/(${n.join("//")})`}}function tN(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Dh(t){return tN(t).replace(/%3B/gi,";")}function g_(t){return tN(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function bh(t){return decodeURIComponent(t)}function nN(t){return bh(t.replace(/\+/g,"%20"))}function rN(t){return`${g_(t.path)}${function CK(t){return Object.keys(t).map(e=>`;${g_(e)}=${g_(t[e])}`).join("")}(t.parameters)}`}const SK=/^[^\/()?;=#]+/;function Ch(t){const e=t.match(SK);return e?e[0]:""}const AK=/^[^=?&#]+/,MK=/^[^&#]+/;class RK{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new oe([],{}):new oe([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[ie]=new oe(e,n)),r}parseSegment(){const e=Ch(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new S(4009,wh);return this.capture(e),new ec(bh(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const n=Ch(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const i=Ch(this.remaining);i&&(r=i,this.capture(r))}e[bh(n)]=bh(r)}parseQueryParam(e){const n=function xK(t){const e=t.match(AK);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const o=function kK(t){const e=t.match(MK);return e?e[0]:""}(this.remaining);o&&(r=o,this.capture(r))}const i=nN(n),s=nN(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){const n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=Ch(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new S(4010,wh);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=ie);const o=this.parseChildren();n[s]=1===Object.keys(o).length?o[ie]:new oe([],o),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new S(4011,wh)}}function m_(t){return t.segments.length>0?new oe([],{[ie]:t}):t}function Th(t){const e={};for(const r of Object.keys(t.children)){const s=Th(t.children[r]);(s.segments.length>0||s.hasChildren())&&(e[r]=s)}return function NK(t){if(1===t.numberOfChildren&&t.children[ie]){const e=t.children[ie];return new oe(t.segments.concat(e.segments),e.children)}return t}(new oe(t.segments,e))}function ps(t){return t instanceof hs}function FK(t,e,n,r,i){if(0===n.length)return Zo(e.root,e.root,e.root,r,i);const s=function oN(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new sN(!0,0,t);let e=0,n=!1;const r=t.reduce((i,s,o)=>{if("object"==typeof s&&null!=s){if(s.outlets){const a={};return St(s.outlets,(u,c)=>{a[c]="string"==typeof u?u.split("/"):u}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return"string"!=typeof s?[...i,s]:0===o?(s.split("/").forEach((a,u)=>{0==u&&"."===a||(0==u&&""===a?n=!0:".."===a?e++:""!=a&&i.push(a))}),i):[...i,s]},[]);return new sN(n,e,r)}(n);return s.toRoot()?Zo(e.root,e.root,new oe([],{}),r,i):function o(u){const c=function VK(t,e,n,r){if(t.isAbsolute)return new Xo(e.root,!0,0);if(-1===r)return new Xo(n,n===e.root,0);return function aN(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new S(4005,!1);i=r.segments.length}return new Xo(r,!1,i-s)}(n,r+(rc(t.commands[0])?0:1),t.numberOfDoubleDots)}(s,e,t.snapshot?._urlSegment,u),l=c.processChildren?sc(c.segmentGroup,c.index,s.commands):__(c.segmentGroup,c.index,s.commands);return Zo(e.root,c.segmentGroup,l,r,i)}(t.snapshot?._lastPathIndex)}function rc(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function ic(t){return"object"==typeof t&&null!=t&&t.outlets}function Zo(t,e,n,r,i){let o,s={};r&&St(r,(u,c)=>{s[c]=Array.isArray(u)?u.map(l=>`${l}`):`${u}`}),o=t===e?n:iN(t,e,n);const a=m_(Th(o));return new hs(a,s,i)}function iN(t,e,n){const r={};return St(t.children,(i,s)=>{r[s]=i===e?n:iN(i,e,n)}),new oe(t.segments,r)}class sN{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&rc(r[0]))throw new S(4003,!1);const i=r.find(ic);if(i&&i!==QR(r))throw new S(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Xo{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}}function __(t,e,n){if(t||(t=new oe([],{})),0===t.segments.length&&t.hasChildren())return sc(t,e,n);const r=function BK(t,e,n){let r=0,i=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;const o=t.segments[i],a=n[r];if(ic(a))break;const u=`${a}`,c=r<n.length-1?n[r+1]:null;if(i>0&&void 0===u)break;if(u&&c&&"object"==typeof c&&void 0===c.outlets){if(!cN(u,c,o))return s;r+=2}else{if(!cN(u,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const s=new oe(t.segments.slice(0,r.pathIndex),{});return s.children[ie]=new oe(t.segments.slice(r.pathIndex),t.children),sc(s,0,i)}return r.match&&0===i.length?new oe(t.segments,{}):r.match&&!t.hasChildren()?v_(t,e,n):r.match?sc(t,0,i):v_(t,e,n)}function sc(t,e,n){if(0===n.length)return new oe(t.segments,{});{const r=function UK(t){return ic(t[0])?t[0].outlets:{[ie]:t}}(n),i={};return St(r,(s,o)=>{"string"==typeof s&&(s=[s]),null!==s&&(i[o]=__(t.children[o],e,s))}),St(t.children,(s,o)=>{void 0===r[o]&&(i[o]=s)}),new oe(t.segments,i)}}function v_(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){const s=n[i];if(ic(s)){const u=$K(s.outlets);return new oe(r,u)}if(0===i&&rc(n[0])){r.push(new ec(t.segments[e].path,uN(n[0]))),i++;continue}const o=ic(s)?s.outlets[ie]:`${s}`,a=i<n.length-1?n[i+1]:null;o&&a&&rc(a)?(r.push(new ec(o,uN(a))),i+=2):(r.push(new ec(o,{})),i++)}return new oe(r,{})}function $K(t){const e={};return St(t,(n,r)=>{"string"==typeof n&&(n=[n]),null!==n&&(e[r]=v_(new oe([],{}),0,n))}),e}function uN(t){const e={};return St(t,(n,r)=>e[r]=`${n}`),e}function cN(t,e,n){return t==n.path&&wr(e,n.parameters)}const oc="imperative";class Ir{constructor(e,n){this.id=e,this.url=n}}class w_ extends Ir{constructor(e,n,r="imperative",i=null){super(e,n),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class gs extends Ir{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Sh extends Ir{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class lN extends Ir{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=16}}class dN extends Ir{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class jK extends Ir{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class GK extends Ir{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class HK extends Ir{constructor(e,n,r,i,s){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class qK extends Ir{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class zK extends Ir{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class WK{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class KK{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class QK{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class YK{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ZK{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class XK{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class hN{constructor(e,n,r){this.routerEvent=e,this.position=n,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let e5=(()=>{class t{createUrlTree(n,r,i,s,o,a){return FK(n||r.root,i,s,o,a)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=q({token:t,factory:t.\u0275fac}),t})(),t5=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=q({token:t,factory:function(e){return e5.\u0275fac(e)},providedIn:"root"}),t})();class fN{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){const n=I_(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){const n=I_(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){const n=E_(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return E_(e,this._root).map(n=>n.value)}}function I_(t,e){if(t===e.value)return e;for(const n of e.children){const r=I_(t,n);if(r)return r}return null}function E_(t,e){if(t===e.value)return[e];for(const n of e.children){const r=E_(t,n);if(r.length)return r.unshift(e),r}return[]}class Yr{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}}function Jo(t){const e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}class pN extends fN{constructor(e,n){super(e),this.snapshot=n,D_(this,e)}toString(){return this.snapshot.toString()}}function gN(t,e){const n=function n5(t,e){const o=new Ah([],{},{},"",{},ie,e,null,t.root,-1,{});return new yN("",new Yr(o,[]))}(t,e),r=new sr([new ec("",{})]),i=new sr({}),s=new sr({}),o=new sr({}),a=new sr(""),u=new ea(r,i,o,a,s,ie,e,n.root);return u.snapshot=n.root,new pN(new Yr(u,[]),n)}class ea{constructor(e,n,r,i,s,o,a,u){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.title=this.data?.pipe(se(c=>c[Ju]))??G(void 0),this._futureSnapshot=u}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(se(e=>Yo(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(se(e=>Yo(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function mN(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const i=n[r],s=n[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(s.component)break;r--}}return function r5(t){return t.reduce((e,n)=>({params:{...e.params,...n.params},data:{...e.data,...n.data},resolve:{...n.data,...e.resolve,...n.routeConfig?.data,...n._resolvedData}}),{params:{},data:{},resolve:{}})}(n.slice(r))}class Ah{get title(){return this.data?.[Ju]}constructor(e,n,r,i,s,o,a,u,c,l,d){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=u,this._urlSegment=c,this._lastPathIndex=l,this._resolve=d}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Yo(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Yo(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class yN extends fN{constructor(e,n){super(n),this.url=e,D_(this,n)}toString(){return _N(this._root)}}function D_(t,e){e.value._routerState=t,e.children.forEach(n=>D_(t,n))}function _N(t){const e=t.children.length>0?` { ${t.children.map(_N).join(", ")} } `:"";return`${t.value}${e}`}function b_(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,wr(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),wr(e.params,n.params)||t.params.next(n.params),function yK(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!wr(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),wr(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function C_(t,e){const n=wr(t.params,e.params)&&function IK(t,e){return fs(t,e)&&t.every((n,r)=>wr(n.parameters,e[r].parameters))}(t.url,e.url);return n&&!(!t.parent!=!e.parent)&&(!t.parent||C_(t.parent,e.parent))}function ac(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=e.value;const i=function s5(t,e,n){return e.children.map(r=>{for(const i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return ac(t,r,i);return ac(t,r)})}(t,e,n);return new Yr(r,i)}{if(t.shouldAttach(e.value)){const s=t.retrieve(e.value);if(null!==s){const o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>ac(t,a)),o}}const r=function o5(t){return new ea(new sr(t.url),new sr(t.params),new sr(t.queryParams),new sr(t.fragment),new sr(t.data),t.outlet,t.component,t)}(e.value),i=e.children.map(s=>ac(t,s));return new Yr(r,i)}}const T_="ngNavigationCancelingError";function vN(t,e){const{redirectTo:n,navigationBehaviorOptions:r}=ps(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=wN(!1,0,e);return i.url=n,i.navigationBehaviorOptions=r,i}function wN(t,e,n){const r=new Error("NavigationCancelingError: "+(t||""));return r[T_]=!0,r.cancellationCode=e,n&&(r.url=n),r}function IN(t){return EN(t)&&ps(t.url)}function EN(t){return t&&t[T_]}class a5{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new uc,this.attachRef=null}}let uc=(()=>{class t{constructor(){this.contexts=new Map}onChildOutletCreated(n,r){const i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){const r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new a5,this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const xh=!1;let S_=(()=>{class t{constructor(){this.activated=null,this._activatedRoute=null,this.name=ie,this.activateEvents=new Ge,this.deactivateEvents=new Ge,this.attachEvents=new Ge,this.detachEvents=new Ge,this.parentContexts=le(uc),this.location=le(tr),this.changeDetector=le(th),this.environmentInjector=le(Br)}ngOnChanges(n){if(n.name){const{firstChange:r,previousValue:i}=n.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new S(4012,xh);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new S(4012,xh);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new S(4012,xh);this.location.detach();const n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){const n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new S(4013,xh);this._activatedRoute=n;const i=this.location,o=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,u=new u5(n,a,i.injector);if(r&&function c5(t){return!!t.resolveComponentFactory}(r)){const c=r.resolveComponentFactory(o);this.activated=i.createComponent(c,i.length,u)}else this.activated=i.createComponent(o,{index:i.length,injector:u,environmentInjector:r??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275dir=K({type:t,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Vn]}),t})();class u5{constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===ea?this.route:e===uc?this.childContexts:this.parent.get(e,n)}}let A_=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=Yi({type:t,selectors:[["ng-component"]],standalone:!0,features:[AM],decls:1,vars:0,template:function(n,r){1&n&&Hr(0,"router-outlet")},dependencies:[S_],encapsulation:2}),t})();function DN(t,e){return t.providers&&!t._injector&&(t._injector=qd(t.providers,e,`Route: ${t.path}`)),t._injector??e}function M_(t){const e=t.children&&t.children.map(M_),n=e?{...t,children:e}:{...t};return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==ie&&(n.component=A_),n}function Hn(t){return t.outlet||ie}function bN(t,e){const n=t.filter(r=>Hn(r)===e);return n.push(...t.filter(r=>Hn(r)!==e)),n}function cc(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){const n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}class p5{constructor(e,n,r,i){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i}activate(e){const n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),b_(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){const i=Jo(n);e.children.forEach(s=>{const o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),St(i,(s,o)=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,n,r){const i=e.value,s=n?n.value:null;if(i===s)if(i.component){const o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,n,o.children)}else this.deactivateChildRoutes(e,n,r);else s&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=Jo(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);if(r&&r.outlet){const o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=Jo(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,n,r){const i=Jo(n);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new XK(s.value.snapshot))}),e.children.length&&this.forwardEvent(new YK(e.value.snapshot))}activateRoutes(e,n,r){const i=e.value,s=n?n.value:null;if(b_(i),i===s)if(i.component){const o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,o.children)}else this.activateChildRoutes(e,n,r);else if(i.component){const o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),b_(a.route.value),this.activateChildRoutes(e,null,o.children)}else{const a=cc(i.snapshot),u=a?.get(xu)??null;o.attachRef=null,o.route=i,o.resolver=u,o.injector=a,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,r)}}class CN{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Mh{constructor(e,n){this.component=e,this.route=n}}function g5(t,e,n){const r=t._root;return lc(r,e?e._root:null,n,[r.value])}function ta(t,e){const n=Symbol(),r=e.get(t,n);return r===n?"function"!=typeof t||function f$(t){return null!==zl(t)}(t)?e.get(t):t:r}function lc(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=Jo(e);return t.children.forEach(o=>{(function y5(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const u=function _5(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!fs(t.url,e.url);case"pathParamsOrQueryParamsChange":return!fs(t.url,e.url)||!wr(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!C_(t,e)||!wr(t.queryParams,e.queryParams);default:return!C_(t,e)}}(o,s,s.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new CN(r)):(s.data=o.data,s._resolvedData=o._resolvedData),lc(t,e,s.component?a?a.children:null:n,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Mh(a.outlet.component,o))}else o&&dc(e,a,i),i.canActivateChecks.push(new CN(r)),lc(t,null,s.component?a?a.children:null:n,r,i)})(o,s[o.value.outlet],n,r.concat([o.value]),i),delete s[o.value.outlet]}),St(s,(o,a)=>dc(o,n.getContext(a),i)),i}function dc(t,e,n){const r=Jo(t),i=t.value;St(r,(s,o)=>{dc(s,i.component?e?e.children.getContext(o):null:e,n)}),n.canDeactivateChecks.push(new Mh(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function hc(t){return"function"==typeof t}function k_(t){return t instanceof _h||"EmptyError"===t?.name}const kh=Symbol("INITIAL_VALUE");function na(){return vr(t=>BR(t.map(e=>e.pipe(Xu(1),function lK(...t){const e=su(t);return mt((n,r)=>{(e?l_(t,n,e):l_(t,n)).subscribe(r)})}(kh)))).pipe(se(e=>{for(const n of e)if(!0!==n){if(n===kh)return kh;if(!1===n||n instanceof hs)return n}return!0}),Ii(e=>e!==kh),Xu(1)))}function TN(t){return function R2(...t){return NT(t)}(Tt(e=>{if(ps(e))throw vN(0,e)}),se(e=>!0===e))}const R_={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function SN(t,e,n,r,i){const s=N_(t,e,n);return s.matched?function P5(t,e,n,r){const i=e.canMatch;return i&&0!==i.length?G(i.map(o=>{const a=ta(o,t);return bi(function b5(t){return t&&hc(t.canMatch)}(a)?a.canMatch(e,n):t.runInContext(()=>a(e,n)))})).pipe(na(),TN()):G(!0)}(r=DN(e,r),e,n).pipe(se(o=>!0===o?s:{...R_})):G(s)}function N_(t,e,n){if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{...R_}:{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};const i=(e.matcher||mK)(n,t,e);if(!i)return{...R_};const s={};St(i.posParams,(a,u)=>{s[u]=a.path});const o=i.consumed.length>0?{...s,...i.consumed[i.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function Rh(t,e,n,r){if(n.length>0&&function V5(t,e,n){return n.some(r=>Nh(t,e,r)&&Hn(r)!==ie)}(t,n,r)){const s=new oe(e,function L5(t,e,n,r){const i={};i[ie]=r,r._sourceSegment=t,r._segmentIndexShift=e.length;for(const s of n)if(""===s.path&&Hn(s)!==ie){const o=new oe([],{});o._sourceSegment=t,o._segmentIndexShift=e.length,i[Hn(s)]=o}return i}(t,e,r,new oe(n,t.children)));return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:[]}}if(0===n.length&&function U5(t,e,n){return n.some(r=>Nh(t,e,r))}(t,n,r)){const s=new oe(t.segments,function F5(t,e,n,r,i){const s={};for(const o of r)if(Nh(t,n,o)&&!i[Hn(o)]){const a=new oe([],{});a._sourceSegment=t,a._segmentIndexShift=e.length,s[Hn(o)]=a}return{...i,...s}}(t,e,n,r,t.children));return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:n}}const i=new oe(t.segments,t.children);return i._sourceSegment=t,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:n}}function Nh(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}function AN(t,e,n,r){return!!(Hn(t)===r||r!==ie&&Nh(e,n,t))&&("**"===t.path||N_(e,t,n).matched)}function xN(t,e,n){return 0===e.length&&!t.children[n]}const Oh=!1;class Ph{constructor(e){this.segmentGroup=e||null}}class MN{constructor(e){this.urlTree=e}}function fc(t){return Zu(new Ph(t))}function kN(t){return Zu(new MN(t))}class G5{constructor(e,n,r,i,s){this.injector=e,this.configLoader=n,this.urlSerializer=r,this.urlTree=i,this.config=s,this.allowRedirects=!0}apply(){const e=Rh(this.urlTree.root,[],[],this.config).segmentGroup,n=new oe(e.segments,e.children);return this.expandSegmentGroup(this.injector,this.config,n,ie).pipe(se(s=>this.createUrlTree(Th(s),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Di(s=>{if(s instanceof MN)return this.allowRedirects=!1,this.match(s.urlTree);throw s instanceof Ph?this.noMatchError(s):s}))}match(e){return this.expandSegmentGroup(this.injector,this.config,e.root,ie).pipe(se(i=>this.createUrlTree(Th(i),e.queryParams,e.fragment))).pipe(Di(i=>{throw i instanceof Ph?this.noMatchError(i):i}))}noMatchError(e){return new S(4002,Oh)}createUrlTree(e,n,r){const i=m_(e);return new hs(i,n,r)}expandSegmentGroup(e,n,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,n,r).pipe(se(s=>new oe([],s))):this.expandSegment(e,r,n,r.segments,i,!0)}expandChildren(e,n,r){const i=[];for(const s of Object.keys(r.children))"primary"===s?i.unshift(s):i.push(s);return tt(i).pipe(ds(s=>{const o=r.children[s],a=bN(n,s);return this.expandSegmentGroup(e,a,o,s).pipe(se(u=>({segment:u,outlet:s})))}),qR((s,o)=>(s[o.outlet]=o.segment,s),{}),zR())}expandSegment(e,n,r,i,s,o){return tt(r).pipe(ds(a=>this.expandSegmentAgainstRoute(e,n,r,a,i,s,o).pipe(Di(c=>{if(c instanceof Ph)return G(null);throw c}))),Ei(a=>!!a),Di((a,u)=>{if(k_(a))return xN(n,i,s)?G(new oe([],{})):fc(n);throw a}))}expandSegmentAgainstRoute(e,n,r,i,s,o,a){return AN(i,n,s,o)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,n,i,s,o):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o):fc(n):fc(n)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,o):this.expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,n,r,i){const s=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?kN(s):this.lineralizeSegments(r,s).pipe(Et(o=>{const a=new oe(o,{});return this.expandSegment(e,a,n,o,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o){const{matched:a,consumedSegments:u,remainingSegments:c,positionalParamSegments:l}=N_(n,i,s);if(!a)return fc(n);const d=this.applyRedirectCommands(u,i.redirectTo,l);return i.redirectTo.startsWith("/")?kN(d):this.lineralizeSegments(i,d).pipe(Et(h=>this.expandSegment(e,n,r,h.concat(c),o,!1)))}matchSegmentAgainstRoute(e,n,r,i,s){return"**"===r.path?(e=DN(r,e),r.loadChildren?(r._loadedRoutes?G({routes:r._loadedRoutes,injector:r._loadedInjector}):this.configLoader.loadChildren(e,r)).pipe(se(a=>(r._loadedRoutes=a.routes,r._loadedInjector=a.injector,new oe(i,{})))):G(new oe(i,{}))):SN(n,r,i,e).pipe(vr(({matched:o,consumedSegments:a,remainingSegments:u})=>o?this.getChildConfig(e=r._injector??e,r,i).pipe(Et(l=>{const d=l.injector??e,h=l.routes,{segmentGroup:f,slicedSegments:p}=Rh(n,a,u,h),g=new oe(f.segments,f.children);if(0===p.length&&g.hasChildren())return this.expandChildren(d,h,g).pipe(se(v=>new oe(a,v)));if(0===h.length&&0===p.length)return G(new oe(a,{}));const y=Hn(r)===s;return this.expandSegment(d,g,h,p,y?ie:s,!0).pipe(se(D=>new oe(a.concat(D.segments),D.children)))})):fc(n)))}getChildConfig(e,n,r){return n.children?G({routes:n.children,injector:e}):n.loadChildren?void 0!==n._loadedRoutes?G({routes:n._loadedRoutes,injector:n._loadedInjector}):function O5(t,e,n,r){const i=e.canLoad;return void 0===i||0===i.length?G(!0):G(i.map(o=>{const a=ta(o,t);return bi(function w5(t){return t&&hc(t.canLoad)}(a)?a.canLoad(e,n):t.runInContext(()=>a(e,n)))})).pipe(na(),TN())}(e,n,r).pipe(Et(i=>i?this.configLoader.loadChildren(e,n).pipe(Tt(s=>{n._loadedRoutes=s.routes,n._loadedInjector=s.injector})):function $5(t){return Zu(wN(Oh,3))}())):G({routes:[],injector:e})}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return G(r);if(i.numberOfChildren>1||!i.children[ie])return Zu(new S(4e3,Oh));i=i.children[ie]}}applyRedirectCommands(e,n,r){return this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r)}applyRedirectCreateUrlTree(e,n,r,i){const s=this.createSegmentGroup(e,n.root,r,i);return new hs(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){const r={};return St(e,(i,s)=>{if("string"==typeof i&&i.startsWith(":")){const a=i.substring(1);r[s]=n[a]}else r[s]=i}),r}createSegmentGroup(e,n,r,i){const s=this.createSegments(e,n.segments,r,i);let o={};return St(n.children,(a,u)=>{o[u]=this.createSegmentGroup(e,a,r,i)}),new oe(s,o)}createSegments(e,n,r,i){return n.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,n,r){const i=r[n.path.substring(1)];if(!i)throw new S(4001,Oh);return i}findOrReturn(e,n){let r=0;for(const i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}}class q5{}class K5{constructor(e,n,r,i,s,o,a){this.injector=e,this.rootComponentType=n,this.config=r,this.urlTree=i,this.url=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a}recognize(){const e=Rh(this.urlTree.root,[],[],this.config.filter(n=>void 0===n.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,ie).pipe(se(n=>{if(null===n)return null;const r=new Ah([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},ie,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new Yr(r,n),s=new yN(this.url,i);return this.inheritParamsAndData(s._root),s}))}inheritParamsAndData(e){const n=e.value,r=mN(n,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,n,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,n,r):this.processSegment(e,n,r,r.segments,i)}processChildren(e,n,r){return tt(Object.keys(r.children)).pipe(ds(i=>{const s=r.children[i],o=bN(n,i);return this.processSegmentGroup(e,o,s,i)}),qR((i,s)=>i&&s?(i.push(...s),i):null),function fK(t,e=!1){return mt((n,r)=>{let i=0;n.subscribe(at(r,s=>{const o=t(s,i++);(o||e)&&r.next(s),!o&&r.complete()}))})}(i=>null!==i),vh(null),zR(),se(i=>{if(null===i)return null;const s=NN(i);return function Q5(t){t.sort((e,n)=>e.value.outlet===ie?-1:n.value.outlet===ie?1:e.value.outlet.localeCompare(n.value.outlet))}(s),s}))}processSegment(e,n,r,i,s){return tt(n).pipe(ds(o=>this.processSegmentAgainstRoute(o._injector??e,o,r,i,s)),Ei(o=>!!o),Di(o=>{if(k_(o))return xN(r,i,s)?G([]):G(null);throw o}))}processSegmentAgainstRoute(e,n,r,i,s){if(n.redirectTo||!AN(n,r,i,s))return G(null);let o;if("**"===n.path){const a=i.length>0?QR(i).parameters:{},u=PN(r)+i.length;o=G({snapshot:new Ah(i,a,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,FN(n),Hn(n),n.component??n._loadedComponent??null,n,ON(r),u,LN(n)),consumedSegments:[],remainingSegments:[]})}else o=SN(r,n,i,e).pipe(se(({matched:a,consumedSegments:u,remainingSegments:c,parameters:l})=>{if(!a)return null;const d=PN(r)+u.length;return{snapshot:new Ah(u,l,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,FN(n),Hn(n),n.component??n._loadedComponent??null,n,ON(r),d,LN(n)),consumedSegments:u,remainingSegments:c}}));return o.pipe(vr(a=>{if(null===a)return G(null);const{snapshot:u,consumedSegments:c,remainingSegments:l}=a;e=n._injector??e;const d=n._loadedInjector??e,h=function Y5(t){return t.children?t.children:t.loadChildren?t._loadedRoutes:[]}(n),{segmentGroup:f,slicedSegments:p}=Rh(r,c,l,h.filter(y=>void 0===y.redirectTo));if(0===p.length&&f.hasChildren())return this.processChildren(d,h,f).pipe(se(y=>null===y?null:[new Yr(u,y)]));if(0===h.length&&0===p.length)return G([new Yr(u,[])]);const g=Hn(n)===s;return this.processSegment(d,h,f,p,g?ie:s).pipe(se(y=>null===y?null:[new Yr(u,y)]))}))}}function Z5(t){const e=t.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function NN(t){const e=[],n=new Set;for(const r of t){if(!Z5(r)){e.push(r);continue}const i=e.find(s=>r.value.routeConfig===s.value.routeConfig);void 0!==i?(i.children.push(...r.children),n.add(i)):e.push(r)}for(const r of n){const i=NN(r.children);e.push(new Yr(r.value,i))}return e.filter(r=>!n.has(r))}function ON(t){let e=t;for(;e._sourceSegment;)e=e._sourceSegment;return e}function PN(t){let e=t,n=e._segmentIndexShift??0;for(;e._sourceSegment;)e=e._sourceSegment,n+=e._segmentIndexShift??0;return n-1}function FN(t){return t.data||{}}function LN(t){return t.resolve||{}}function VN(t){return"string"==typeof t.title||null===t.title}function O_(t){return vr(e=>{const n=t(e);return n?tt(n).pipe(se(()=>e)):G(e)})}const ra=new L("ROUTES");let P_=(()=>{class t{constructor(n,r){this.injector=n,this.compiler=r,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return G(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);const r=bi(n.loadComponent()).pipe(se(BN),Tt(s=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=s}),f_(()=>{this.componentLoaders.delete(n)})),i=new GR(r,()=>new Rr).pipe(d_());return this.componentLoaders.set(n,i),i}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return G({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const s=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe(se(a=>{this.onLoadEndListener&&this.onLoadEndListener(r);let u,c,l=!1;Array.isArray(a)?c=a:(u=a.create(n).injector,c=KR(u.get(ra,[],z.Self|z.Optional)));return{routes:c.map(M_),injector:u}}),f_(()=>{this.childrenLoaders.delete(r)})),o=new GR(s,()=>new Rr).pipe(d_());return this.childrenLoaders.set(r,o),o}loadModuleFactoryOrRoutes(n){return bi(n()).pipe(se(BN),Et(i=>i instanceof TM||Array.isArray(i)?G(i):tt(this.compiler.compileModuleAsync(i))))}}return t.\u0275fac=function(n){return new(n||t)($(xn),$(_k))},t.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function BN(t){return function o7(t){return t&&"object"==typeof t&&"default"in t}(t)?t.default:t}let Lh=(()=>{class t{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new Rr,this.configLoader=le(P_),this.environmentInjector=le(Br),this.urlSerializer=le(tc),this.rootContexts=le(uc),this.navigationId=0,this.afterPreactivation=()=>G(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=i=>this.events.next(new KK(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new WK(i))}complete(){this.transitions?.complete()}handleNavigationRequest(n){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...n,id:r})}setupNavigations(n){return this.transitions=new sr({id:0,targetPageId:0,currentUrlTree:n.currentUrlTree,currentRawUrl:n.currentUrlTree,extractedUrl:n.urlHandlingStrategy.extract(n.currentUrlTree),urlAfterRedirects:n.urlHandlingStrategy.extract(n.currentUrlTree),rawUrl:n.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:oc,restoredState:null,currentSnapshot:n.routerState.snapshot,targetSnapshot:null,currentRouterState:n.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Ii(r=>0!==r.id),se(r=>({...r,extractedUrl:n.urlHandlingStrategy.extract(r.rawUrl)})),vr(r=>{let i=!1,s=!1;return G(r).pipe(Tt(o=>{this.currentNavigation={id:o.id,initialUrl:o.rawUrl,extractedUrl:o.extractedUrl,trigger:o.source,extras:o.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),vr(o=>{const a=n.browserUrlTree.toString(),u=!n.navigated||o.extractedUrl.toString()!==a||a!==n.currentUrlTree.toString();if(!u&&"reload"!==(o.extras.onSameUrlNavigation??n.onSameUrlNavigation)){const l="";return this.events.next(new lN(o.id,n.serializeUrl(r.rawUrl),l,0)),n.rawUrlTree=o.rawUrl,o.resolve(null),ur}if(n.urlHandlingStrategy.shouldProcessUrl(o.rawUrl))return $N(o.source)&&(n.browserUrlTree=o.extractedUrl),G(o).pipe(vr(l=>{const d=this.transitions?.getValue();return this.events.next(new w_(l.id,this.urlSerializer.serialize(l.extractedUrl),l.source,l.restoredState)),d!==this.transitions?.getValue()?ur:Promise.resolve(l)}),function H5(t,e,n,r){return vr(i=>function j5(t,e,n,r,i){return new G5(t,e,n,r,i).apply()}(t,e,n,i.extractedUrl,r).pipe(se(s=>({...i,urlAfterRedirects:s}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,n.config),Tt(l=>{this.currentNavigation={...this.currentNavigation,finalUrl:l.urlAfterRedirects},r.urlAfterRedirects=l.urlAfterRedirects}),function J5(t,e,n,r,i){return Et(s=>function W5(t,e,n,r,i,s,o="emptyOnly"){return new K5(t,e,n,r,i,o,s).recognize().pipe(vr(a=>null===a?function z5(t){return new Oe(e=>e.error(t))}(new q5):G(a)))}(t,e,n,s.urlAfterRedirects,r.serialize(s.urlAfterRedirects),r,i).pipe(se(o=>({...s,targetSnapshot:o}))))}(this.environmentInjector,this.rootComponentType,n.config,this.urlSerializer,n.paramsInheritanceStrategy),Tt(l=>{if(r.targetSnapshot=l.targetSnapshot,"eager"===n.urlUpdateStrategy){if(!l.extras.skipLocationChange){const h=n.urlHandlingStrategy.merge(l.urlAfterRedirects,l.rawUrl);n.setBrowserUrl(h,l)}n.browserUrlTree=l.urlAfterRedirects}const d=new jK(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(d)}));if(u&&n.urlHandlingStrategy.shouldProcessUrl(n.rawUrlTree)){const{id:l,extractedUrl:d,source:h,restoredState:f,extras:p}=o,g=new w_(l,this.urlSerializer.serialize(d),h,f);this.events.next(g);const y=gN(d,this.rootComponentType).snapshot;return G(r={...o,targetSnapshot:y,urlAfterRedirects:d,extras:{...p,skipLocationChange:!1,replaceUrl:!1}})}{const l="";return this.events.next(new lN(o.id,n.serializeUrl(r.extractedUrl),l,1)),n.rawUrlTree=o.rawUrl,o.resolve(null),ur}}),Tt(o=>{const a=new GK(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot);this.events.next(a)}),se(o=>r={...o,guards:g5(o.targetSnapshot,o.currentSnapshot,this.rootContexts)}),function T5(t,e){return Et(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return 0===o.length&&0===s.length?G({...n,guardsResult:!0}):function S5(t,e,n,r){return tt(t).pipe(Et(i=>function N5(t,e,n,r,i){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return s&&0!==s.length?G(s.map(a=>{const u=cc(e)??i,c=ta(a,u);return bi(function D5(t){return t&&hc(t.canDeactivate)}(c)?c.canDeactivate(t,e,n,r):u.runInContext(()=>c(t,e,n,r))).pipe(Ei())})).pipe(na()):G(!0)}(i.component,i.route,n,e,r)),Ei(i=>!0!==i,!0))}(o,r,i,t).pipe(Et(a=>a&&function v5(t){return"boolean"==typeof t}(a)?function A5(t,e,n,r){return tt(e).pipe(ds(i=>l_(function M5(t,e){return null!==t&&e&&e(new QK(t)),G(!0)}(i.route.parent,r),function x5(t,e){return null!==t&&e&&e(new ZK(t)),G(!0)}(i.route,r),function R5(t,e,n){const r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>function m5(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(o)).filter(o=>null!==o).map(o=>jR(()=>G(o.guards.map(u=>{const c=cc(o.node)??n,l=ta(u,c);return bi(function E5(t){return t&&hc(t.canActivateChild)}(l)?l.canActivateChild(r,t):c.runInContext(()=>l(r,t))).pipe(Ei())})).pipe(na())));return G(s).pipe(na())}(t,i.path,n),function k5(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return G(!0);const i=r.map(s=>jR(()=>{const o=cc(e)??n,a=ta(s,o);return bi(function I5(t){return t&&hc(t.canActivate)}(a)?a.canActivate(e,t):o.runInContext(()=>a(e,t))).pipe(Ei())}));return G(i).pipe(na())}(t,i.route,n))),Ei(i=>!0!==i,!0))}(r,s,t,e):G(a)),se(a=>({...n,guardsResult:a})))})}(this.environmentInjector,o=>this.events.next(o)),Tt(o=>{if(r.guardsResult=o.guardsResult,ps(o.guardsResult))throw vN(0,o.guardsResult);const a=new HK(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot,!!o.guardsResult);this.events.next(a)}),Ii(o=>!!o.guardsResult||(n.restoreHistory(o),this.cancelNavigationTransition(o,"",3),!1)),O_(o=>{if(o.guards.canActivateChecks.length)return G(o).pipe(Tt(a=>{const u=new qK(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(u)}),vr(a=>{let u=!1;return G(a).pipe(function e7(t,e){return Et(n=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return G(n);let s=0;return tt(i).pipe(ds(o=>function t7(t,e,n,r){const i=t.routeConfig,s=t._resolve;return void 0!==i?.title&&!VN(i)&&(s[Ju]=i.title),function n7(t,e,n,r){const i=function r7(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}(t);if(0===i.length)return G({});const s={};return tt(i).pipe(Et(o=>function i7(t,e,n,r){const i=cc(e)??r,s=ta(t,i);return bi(s.resolve?s.resolve(e,n):i.runInContext(()=>s(e,n)))}(t[o],e,n,r).pipe(Ei(),Tt(a=>{s[o]=a}))),h_(1),function pK(t){return se(()=>t)}(s),Di(o=>k_(o)?ur:Zu(o)))}(s,t,e,r).pipe(se(o=>(t._resolvedData=o,t.data=mN(t,n).resolve,i&&VN(i)&&(t.data[Ju]=i.title),null)))}(o.route,r,t,e)),Tt(()=>s++),h_(1),Et(o=>s===i.length?G(n):ur))})}(n.paramsInheritanceStrategy,this.environmentInjector),Tt({next:()=>u=!0,complete:()=>{u||(n.restoreHistory(a),this.cancelNavigationTransition(a,"",2))}}))}),Tt(a=>{const u=new zK(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(u)}))}),O_(o=>{const a=u=>{const c=[];u.routeConfig?.loadComponent&&!u.routeConfig._loadedComponent&&c.push(this.configLoader.loadComponent(u.routeConfig).pipe(Tt(l=>{u.component=l}),se(()=>{})));for(const l of u.children)c.push(...a(l));return c};return BR(a(o.targetSnapshot.root)).pipe(vh(),Xu(1))}),O_(()=>this.afterPreactivation()),se(o=>{const a=function i5(t,e,n){const r=ac(t,e._root,n?n._root:void 0);return new pN(r,e)}(n.routeReuseStrategy,o.targetSnapshot,o.currentRouterState);return r={...o,targetRouterState:a}}),Tt(o=>{n.currentUrlTree=o.urlAfterRedirects,n.rawUrlTree=n.urlHandlingStrategy.merge(o.urlAfterRedirects,o.rawUrl),n.routerState=o.targetRouterState,"deferred"===n.urlUpdateStrategy&&(o.extras.skipLocationChange||n.setBrowserUrl(n.rawUrlTree,o),n.browserUrlTree=o.urlAfterRedirects)}),((t,e,n)=>se(r=>(new p5(e,r.targetRouterState,r.currentRouterState,n).activate(t),r)))(this.rootContexts,n.routeReuseStrategy,o=>this.events.next(o)),Tt({next:o=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,n.navigated=!0,this.events.next(new gs(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(n.currentUrlTree))),n.titleStrategy?.updateTitle(o.targetRouterState.snapshot),o.resolve(!0)},complete:()=>{i=!0}}),f_(()=>{i||s||this.cancelNavigationTransition(r,"",1),this.currentNavigation?.id===r.id&&(this.currentNavigation=null)}),Di(o=>{if(s=!0,EN(o)){IN(o)||(n.navigated=!0,n.restoreHistory(r,!0));const a=new Sh(r.id,this.urlSerializer.serialize(r.extractedUrl),o.message,o.cancellationCode);if(this.events.next(a),IN(o)){const u=n.urlHandlingStrategy.merge(o.url,n.rawUrlTree),c={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===n.urlUpdateStrategy||$N(r.source)};n.scheduleNavigation(u,oc,null,c,{resolve:r.resolve,reject:r.reject,promise:r.promise})}else r.resolve(!1)}else{n.restoreHistory(r,!0);const a=new dN(r.id,this.urlSerializer.serialize(r.extractedUrl),o,r.targetSnapshot??void 0);this.events.next(a);try{r.resolve(n.errorHandler(o))}catch(u){r.reject(u)}}return ur}))}))}cancelNavigationTransition(n,r,i){const s=new Sh(n.id,this.urlSerializer.serialize(n.extractedUrl),r,i);this.events.next(s),n.resolve(!1)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function $N(t){return t!==oc}let jN=(()=>{class t{buildTitle(n){let r,i=n.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(s=>s.outlet===ie);return r}getResolvedTitleForRoute(n){return n.data[Ju]}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=q({token:t,factory:function(){return le(a7)},providedIn:"root"}),t})(),a7=(()=>{class t extends jN{constructor(n){super(),this.title=n}updateTitle(n){const r=this.buildTitle(n);void 0!==r&&this.title.setTitle(r)}}return t.\u0275fac=function(n){return new(n||t)($(OR))},t.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),u7=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=q({token:t,factory:function(){return le(l7)},providedIn:"root"}),t})();class c7{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}}let l7=(()=>{class t extends c7{}return t.\u0275fac=function(){let e;return function(r){return(e||(e=Ct(t)))(r||t)}}(),t.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const Vh=new L("",{providedIn:"root",factory:()=>({})});let h7=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=q({token:t,factory:function(){return le(f7)},providedIn:"root"}),t})(),f7=(()=>{class t{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function p7(t){throw t}function g7(t,e,n){return e.parse("/")}const m7={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},y7={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let nn=(()=>{class t{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=le(B3),this.isNgZoneEnabled=!1,this.options=le(Vh,{optional:!0})||{},this.errorHandler=this.options.errorHandler||p7,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||g7,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=le(h7),this.routeReuseStrategy=le(u7),this.urlCreationStrategy=le(t5),this.titleStrategy=le(jN),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=KR(le(ra,{optional:!0})??[]),this.navigationTransitions=le(Lh),this.urlSerializer=le(tc),this.location=le(Vy),this.isNgZoneEnabled=le(Fe)instanceof Fe&&Fe.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new hs,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=gN(this.currentUrlTree,null),this.navigationTransitions.setupNavigations(this).subscribe(n=>{this.lastSuccessfulId=n.id,this.currentPageId=n.targetPageId},n=>{this.console.warn(`Unhandled Navigation Error: ${n}`)})}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const n=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),oc,n)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(n=>{const r="popstate"===n.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(n.url,r,n.state)},0)}))}navigateToSyncWithBrowser(n,r,i){const s={replaceUrl:!0},o=i?.navigationId?i:null;if(i){const u={...i};delete u.navigationId,delete u.\u0275routerPageId,0!==Object.keys(u).length&&(s.state=u)}const a=this.parseUrl(n);this.scheduleNavigation(a,r,o,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(n){this.config=n.map(M_),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(n,r={}){const{relativeTo:i,queryParams:s,fragment:o,queryParamsHandling:a,preserveFragment:u}=r,c=u?this.currentUrlTree.fragment:o;let l=null;switch(a){case"merge":l={...this.currentUrlTree.queryParams,...s};break;case"preserve":l=this.currentUrlTree.queryParams;break;default:l=s||null}return null!==l&&(l=this.removeEmptyProps(l)),this.urlCreationStrategy.createUrlTree(i,this.routerState,this.currentUrlTree,n,l,c??null)}navigateByUrl(n,r={skipLocationChange:!1}){const i=ps(n)?n:this.parseUrl(n),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,oc,null,r)}navigate(n,r={skipLocationChange:!1}){return function _7(t){for(let e=0;e<t.length;e++){if(null==t[e])throw new S(4008,!1)}}(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){let r;try{r=this.urlSerializer.parse(n)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,n)}return r}isActive(n,r){let i;if(i=!0===r?{...m7}:!1===r?{...y7}:r,ps(n))return ZR(this.currentUrlTree,n,i);const s=this.parseUrl(n);return ZR(this.currentUrlTree,s,i)}removeEmptyProps(n){return Object.keys(n).reduce((r,i)=>{const s=n[i];return null!=s&&(r[i]=s),r},{})}scheduleNavigation(n,r,i,s,o){if(this.disposed)return Promise.resolve(!1);let a,u,c,l;return o?(a=o.resolve,u=o.reject,c=o.promise):c=new Promise((d,h)=>{a=d,u=h}),l="computed"===this.canceledNavigationResolution?i&&i.\u0275routerPageId?i.\u0275routerPageId:s.replaceUrl||s.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1:0,this.navigationTransitions.handleNavigationRequest({targetPageId:l,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:s,resolve:a,reject:u,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(d=>Promise.reject(d))}setBrowserUrl(n,r){const i=this.urlSerializer.serialize(n),s={...r.extras.state,...this.generateNgRouterState(r.id,r.targetPageId)};this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl?this.location.replaceState(i,"",s):this.location.go(i,"",s)}restoreHistory(n,r=!1){if("computed"===this.canceledNavigationResolution){const i=this.currentPageId-n.targetPageId;"popstate"!==n.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.getCurrentNavigation()?.finalUrl||0===i?this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===i&&(this.resetState(n),this.browserUrlTree=n.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(i)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=n.currentRouterState,this.currentUrlTree=n.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return"computed"===this.canceledNavigationResolution?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();class HN{}let I7=(()=>{class t{constructor(n,r,i,s,o){this.router=n,this.injector=i,this.preloadingStrategy=s,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(Ii(n=>n instanceof gs),ds(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,r){const i=[];for(const s of r){s.providers&&!s._injector&&(s._injector=qd(s.providers,n,`Route: ${s.path}`));const o=s._injector??n,a=s._loadedInjector??o;s.loadChildren&&!s._loadedRoutes&&void 0===s.canLoad||s.loadComponent&&!s._loadedComponent?i.push(this.preloadConfig(o,s)):(s.children||s._loadedRoutes)&&i.push(this.processRoutes(a,s.children??s._loadedRoutes))}return tt(i).pipe(ao())}preloadConfig(n,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(n,r):G(null);const s=i.pipe(Et(o=>null===o?G(void 0):(r._loadedRoutes=o.routes,r._loadedInjector=o.injector,this.processRoutes(o.injector??n,o.routes))));return r.loadComponent&&!r._loadedComponent?tt([s,this.loader.loadComponent(r)]).pipe(ao()):s})}}return t.\u0275fac=function(n){return new(n||t)($(nn),$(_k),$(Br),$(HN),$(P_))},t.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const L_=new L("");let qN=(()=>{class t{constructor(n,r,i,s,o={}){this.urlSerializer=n,this.transitions=r,this.viewportScroller=i,this.zone=s,this.options=o,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},o.scrollPositionRestoration=o.scrollPositionRestoration||"disabled",o.anchorScrolling=o.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof w_?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof gs&&(this.lastId=n.id,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof hN&&(n.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(n.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new hN(n,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return t.\u0275fac=function(n){!function TA(){throw new Error("invalid")}()},t.\u0275prov=q({token:t,factory:t.\u0275fac}),t})();function ms(t,e){return{\u0275kind:t,\u0275providers:e}}function WN(){const t=le(xn);return e=>{const n=t.get(Jd);if(e!==n.components[0])return;const r=t.get(nn),i=t.get(KN);1===t.get(U_)&&r.initialNavigation(),t.get(QN,null,z.Optional)?.setUpPreloading(),t.get(L_,null,z.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.unsubscribe())}}const KN=new L("",{factory:()=>new Rr}),U_=new L("",{providedIn:"root",factory:()=>1});const QN=new L("");function T7(t){return ms(0,[{provide:QN,useExisting:I7},{provide:HN,useExisting:t}])}const YN=new L("ROUTER_FORROOT_GUARD"),S7=[Vy,{provide:tc,useClass:p_},nn,uc,{provide:ea,useFactory:function zN(t){return t.routerState.root},deps:[nn]},P_,[]];function A7(){return new Ck("Router",nn)}let ZN=(()=>{class t{constructor(n){}static forRoot(n,r){return{ngModule:t,providers:[S7,[],{provide:ra,multi:!0,useValue:n},{provide:YN,useFactory:R7,deps:[[nn,new Zt,new wu]]},{provide:Vh,useValue:r||{}},r?.useHash?{provide:ls,useClass:S4}:{provide:ls,useClass:Kk},{provide:L_,useFactory:()=>{const t=le(W8),e=le(Fe),n=le(Vh),r=le(Lh),i=le(tc);return n.scrollOffset&&t.setOffset(n.scrollOffset),new qN(i,r,t,e,n)}},r?.preloadingStrategy?T7(r.preloadingStrategy).\u0275providers:[],{provide:Ck,multi:!0,useFactory:A7},r?.initialNavigation?N7(r):[],[{provide:XN,useFactory:WN},{provide:yk,multi:!0,useExisting:XN}]]}}static forChild(n){return{ngModule:t,providers:[{provide:ra,multi:!0,useValue:n}]}}}return t.\u0275fac=function(n){return new(n||t)($(YN,8))},t.\u0275mod=zt({type:t}),t.\u0275inj=Ft({imports:[A_]}),t})();function R7(t){return"guarded"}function N7(t){return["disabled"===t.initialNavigation?ms(3,[{provide:Qd,multi:!0,useFactory:()=>{const e=le(nn);return()=>{e.setUpLocationChangeListener()}}},{provide:U_,useValue:2}]).\u0275providers:[],"enabledBlocking"===t.initialNavigation?ms(2,[{provide:U_,useValue:0},{provide:Qd,multi:!0,deps:[xn],useFactory:e=>{const n=e.get(C4,Promise.resolve());return()=>n.then(()=>new Promise(i=>{const s=e.get(nn),o=e.get(KN);(function r(i){e.get(nn).events.pipe(Ii(o=>o instanceof gs||o instanceof Sh||o instanceof dN),se(o=>o instanceof gs||o instanceof Sh&&(0===o.code||1===o.code)&&null),Ii(o=>null!==o),Xu(1)).subscribe(()=>{i()})})(()=>{i(!0)}),e.get(Lh).afterPreactivation=()=>(i(!0),o.closed?G(void 0):o),s.initialNavigation()}))}}]).\u0275providers:[]]}const XN=new L("");let JN=(()=>{class t{constructor(n,r){this._renderer=n,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}}return t.\u0275fac=function(n){return new(n||t)(C($r),C(An))},t.\u0275dir=K({type:t}),t})(),ys=(()=>{class t extends JN{}return t.\u0275fac=function(){let e;return function(r){return(e||(e=Ct(t)))(r||t)}}(),t.\u0275dir=K({type:t,features:[ve]}),t})();const Er=new L("NgValueAccessor"),L7={provide:Er,useExisting:Ce(()=>Uh),multi:!0},U7=new L("CompositionEventMode");let Uh=(()=>{class t extends JN{constructor(n,r,i){super(n,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function V7(){const t=_r()?_r().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(n){this.setProperty("value",n??"")}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}}return t.\u0275fac=function(n){return new(n||t)(C($r),C(An),C(U7,8))},t.\u0275dir=K({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(n,r){1&n&&Xt("input",function(s){return r._handleInput(s.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(s){return r._compositionEnd(s.target.value)})},features:[ke([L7]),ve]}),t})();const jt=new L("NgValidators"),Ti=new L("NgAsyncValidators");function l1(t){return null!=t}function d1(t){return Ou(t)?tt(t):t}function h1(t){let e={};return t.forEach(n=>{e=null!=n?{...e,...n}:e}),0===Object.keys(e).length?null:e}function f1(t,e){return e.map(n=>n(t))}function p1(t){return t.map(e=>function j7(t){return!t.validate}(e)?e:n=>e.validate(n))}function B_(t){return null!=t?function g1(t){if(!t)return null;const e=t.filter(l1);return 0==e.length?null:function(n){return h1(f1(n,e))}}(p1(t)):null}function $_(t){return null!=t?function m1(t){if(!t)return null;const e=t.filter(l1);return 0==e.length?null:function(n){return function P7(...t){const e=ZT(t),{args:n,keys:r}=LR(t),i=new Oe(s=>{const{length:o}=n;if(!o)return void s.complete();const a=new Array(o);let u=o,c=o;for(let l=0;l<o;l++){let d=!1;Wn(n[l]).subscribe(at(s,h=>{d||(d=!0,c--),a[l]=h},()=>u--,void 0,()=>{(!u||!d)&&(c||s.next(r?UR(r,a):a),s.complete())}))}});return e?i.pipe(VR(e)):i}(f1(n,e).map(d1)).pipe(se(h1))}}(p1(t)):null}function y1(t,e){return null===t?[e]:Array.isArray(t)?[...t,e]:[t,e]}function _1(t){return t._rawValidators}function v1(t){return t._rawAsyncValidators}function j_(t){return t?Array.isArray(t)?t:[t]:[]}function $h(t,e){return Array.isArray(t)?t.includes(e):t===e}function w1(t,e){const n=j_(e);return j_(t).forEach(i=>{$h(n,i)||n.push(i)}),n}function I1(t,e){return j_(e).filter(n=>!$h(t,n))}class E1{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=B_(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=$_(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,n){return!!this.control&&this.control.hasError(e,n)}getError(e,n){return this.control?this.control.getError(e,n):null}}class rn extends E1{get formDirective(){return null}get path(){return null}}class Si extends E1{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class D1{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let b1=(()=>{class t extends D1{constructor(n){super(n)}}return t.\u0275fac=function(n){return new(n||t)(C(Si,2))},t.\u0275dir=K({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(n,r){2&n&&Vd("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[ve]}),t})(),C1=(()=>{class t extends D1{constructor(n){super(n)}}return t.\u0275fac=function(n){return new(n||t)(C(rn,10))},t.\u0275dir=K({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(n,r){2&n&&Vd("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[ve]}),t})();const gc="VALID",Gh="INVALID",sa="PENDING",mc="DISABLED";function z_(t){return(Hh(t)?t.validators:t)||null}function W_(t,e){return(Hh(e)?e.asyncValidators:t)||null}function Hh(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class x1{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===gc}get invalid(){return this.status===Gh}get pending(){return this.status==sa}get disabled(){return this.status===mc}get enabled(){return this.status!==mc}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(w1(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(w1(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(I1(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(I1(e,this._rawAsyncValidators))}hasValidator(e){return $h(this._rawValidators,e)}hasAsyncValidator(e){return $h(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=sa,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=mc,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=gc,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===gc||this.status===sa)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?mc:gc}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=sa,this._hasOwnPendingAsyncValidator=!0;const n=d1(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(!1!==n.emitEvent)}get(e){let n=e;return null==n||(Array.isArray(n)||(n=n.split(".")),0===n.length)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){const r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new Ge,this.statusChanges=new Ge}_calculateStatus(){return this._allControlsDisabled()?mc:this.errors?Gh:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(sa)?sa:this._anyControlsHaveStatus(Gh)?Gh:gc}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Hh(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function Q7(t){return Array.isArray(t)?B_(t):t||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function Y7(t){return Array.isArray(t)?$_(t):t||null}(this._rawAsyncValidators)}}class qh extends x1{constructor(e,n,r){super(z_(n),W_(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){(function A1(t,e,n){t._forEachChild((r,i)=>{if(void 0===n[i])throw new S(1002,"")})})(this,0,e),Object.keys(e).forEach(r=>{(function S1(t,e,n){const r=t.controls;if(!(e?Object.keys(r):r).length)throw new S(1e3,"");if(!r[n])throw new S(1001,"")})(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){null!=e&&(Object.keys(e).forEach(r=>{const i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>!!r._syncPendingControls()||n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{const r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,s)=>{r=n(r,i,s)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}const oa=new L("CallSetDisabledState",{providedIn:"root",factory:()=>zh}),zh="always";function yc(t,e,n=zh){K_(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||"always"===n)&&e.valueAccessor.setDisabledState?.(t.disabled),function J7(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&M1(t,e)})}(t,e),function t9(t,e){const n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}(t,e),function e9(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&M1(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),function X7(t,e){if(e.valueAccessor.setDisabledState){const n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}(t,e)}function Kh(t,e,n=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),Yh(t,e),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function Qh(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function K_(t,e){const n=_1(t);null!==e.validator?t.setValidators(y1(n,e.validator)):"function"==typeof n&&t.setValidators([n]);const r=v1(t);null!==e.asyncValidator?t.setAsyncValidators(y1(r,e.asyncValidator)):"function"==typeof r&&t.setAsyncValidators([r]);const i=()=>t.updateValueAndValidity();Qh(e._rawValidators,i),Qh(e._rawAsyncValidators,i)}function Yh(t,e){let n=!1;if(null!==t){if(null!==e.validator){const i=_1(t);if(Array.isArray(i)&&i.length>0){const s=i.filter(o=>o!==e.validator);s.length!==i.length&&(n=!0,t.setValidators(s))}}if(null!==e.asyncValidator){const i=v1(t);if(Array.isArray(i)&&i.length>0){const s=i.filter(o=>o!==e.asyncValidator);s.length!==i.length&&(n=!0,t.setAsyncValidators(s))}}}const r=()=>{};return Qh(e._rawValidators,r),Qh(e._rawAsyncValidators,r),n}function M1(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function N1(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}function O1(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}const vc=class extends x1{constructor(e=null,n,r){super(z_(n),W_(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Hh(n)&&(n.nonNullable||n.initialValueIsDefault)&&(this.defaultValue=O1(e)?e.value:e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==n.emitViewToModelChange)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){N1(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){N1(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){O1(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};let U1=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275dir=K({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),t})(),$1=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=zt({type:t}),t.\u0275inj=Ft({}),t})();const J_=new L("NgModelWithFormControlWarning"),g9={provide:rn,useExisting:Ce(()=>Zh)};let Zh=(()=>{class t extends rn{constructor(n,r,i){super(),this.callSetDisabledState=i,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new Ge,this._setValidators(n),this._setAsyncValidators(r)}ngOnChanges(n){this._checkFormPresent(),n.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Yh(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(n){const r=this.form.get(n.path);return yc(r,n,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(n),r}getControl(n){return this.form.get(n.path)}removeControl(n){Kh(n.control||null,n,!1),function s9(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}(this.directives,n)}addFormGroup(n){this._setUpFormContainer(n)}removeFormGroup(n){this._cleanUpFormContainer(n)}getFormGroup(n){return this.form.get(n.path)}addFormArray(n){this._setUpFormContainer(n)}removeFormArray(n){this._cleanUpFormContainer(n)}getFormArray(n){return this.form.get(n.path)}updateModel(n,r){this.form.get(n.path).setValue(r)}onSubmit(n){return this.submitted=!0,function R1(t,e){t._syncPendingControls(),e.forEach(n=>{const r=n.control;"submit"===r.updateOn&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(n),"dialog"===n?.target?.method}onReset(){this.resetForm()}resetForm(n){this.form.reset(n),this.submitted=!1}_updateDomValue(){this.directives.forEach(n=>{const r=n.control,i=this.form.get(n.path);r!==i&&(Kh(r||null,n),(t=>t instanceof vc)(i)&&(yc(i,n,this.callSetDisabledState),n.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(n){const r=this.form.get(n.path);(function k1(t,e){K_(t,e)})(r,n),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(n){if(this.form){const r=this.form.get(n.path);r&&function n9(t,e){return Yh(t,e)}(r,n)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){K_(this.form,this),this._oldForm&&Yh(this._oldForm,this)}_checkFormPresent(){}}return t.\u0275fac=function(n){return new(n||t)(C(jt,10),C(Ti,10),C(oa,8))},t.\u0275dir=K({type:t,selectors:[["","formGroup",""]],hostBindings:function(n,r){1&n&&Xt("submit",function(s){return r.onSubmit(s)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[ke([g9]),ve,Vn]}),t})();const _9={provide:Si,useExisting:Ce(()=>nv)};let nv=(()=>{class t extends Si{set isDisabled(n){}constructor(n,r,i,s,o){super(),this._ngModelWarningConfig=o,this._added=!1,this.update=new Ge,this._ngModelWarningSent=!1,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function Z_(t,e){if(!e)return null;let n,r,i;return Array.isArray(e),e.forEach(s=>{s.constructor===Uh?n=s:function i9(t){return Object.getPrototypeOf(t.constructor)===ys}(s)?r=s:i=s}),i||r||n||null}(0,s)}ngOnChanges(n){this._added||this._setUpControl(),function Y_(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}(n,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}get path(){return function Wh(t,e){return[...e.path,t]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return t._ngModelWarningSentOnce=!1,t.\u0275fac=function(n){return new(n||t)(C(rn,13),C(jt,10),C(Ti,10),C(Er,10),C(J_,8))},t.\u0275dir=K({type:t,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[ke([_9]),ve,Vn]}),t})(),rO=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=zt({type:t}),t.\u0275inj=Ft({imports:[$1]}),t})(),O9=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:oa,useValue:n.callSetDisabledState??zh}]}}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=zt({type:t}),t.\u0275inj=Ft({imports:[rO]}),t})(),P9=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:J_,useValue:n.warnOnNgModelWithFormControl??"always"},{provide:oa,useValue:n.callSetDisabledState??zh}]}}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=zt({type:t}),t.\u0275inj=Ft({imports:[rO]}),t})();function iO(t,e,n,r,i,s,o){try{var a=t[s](o),u=a.value}catch(c){return void n(c)}a.done?e(u):Promise.resolve(u).then(r,i)}function m(t){return function(){var e=this,n=arguments;return new Promise(function(r,i){var s=t.apply(e,n);function o(u){iO(s,r,i,o,a,"next",u)}function a(u){iO(s,r,i,o,a,"throw",u)}o(void 0)})}}const sO=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},av={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0;let h=(15&a)<<2|c>>6,f=63&c;u||(f=64,o||(h=64)),r.push(n[s>>2],n[(3&s)<<4|a>>4],n[h],n[f])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(sO(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const u=((7&i)<<18|(63&t[n++])<<12|(63&t[n++])<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(1023&u))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&o)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,null==s||null==a||null==c||null==d)throw Error();r.push(s<<2|a>>4),64!==c&&(r.push(a<<4&240|c>>2),64!==d&&r.push(c<<6&192|d))}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},Xh=function(t){return function(t){const e=sO(t);return av.encodeByteArray(e,!0)}(t).replace(/\./g,"")},Jh=function(t){try{return av.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null},ef=()=>{try{return function $9(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const t=process.env.__FIREBASE_DEFAULTS__;return t?JSON.parse(t):void 0})()||(()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Jh(t[1]);return e&&JSON.parse(e)})()}catch(t){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`)}};class tf{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(n):e(n,r))}}}function kn(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function uv(){const t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function vs(){try{return"object"==typeof indexedDB}catch{return!1}}function wc(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e((null===(s=i.error)||void 0===s?void 0:s.message)||"")}}catch(n){e(n)}})}function cv(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class or extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,or.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Dr.prototype.create)}}class Dr{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?function eQ(t,e){return t.replace(tQ,(n,r)=>{const i=e[r];return null!=i?String(i):`<${r}?>`})}(s,r):"Error";return new or(i,`${this.serviceName}: ${o} (${i}).`,r)}}const tQ=/\{\$([^}]+)}/g;function lv(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(uO(s)&&uO(o)){if(!lv(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function uO(t){return null!==t&&"object"==typeof t}function cO(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}class rQ{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(void 0===e&&void 0===n&&void 0===r)throw new Error("Missing Observer.");i=function iQ(t,e){if("object"!=typeof t||null===t)return!1;for(const n of e)if(n in t&&"function"==typeof t[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:n,complete:r},void 0===i.next&&(i.next=dv),void 0===i.error&&(i.error=dv),void 0===i.complete&&(i.complete=dv);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){void 0===this.observers||void 0===this.observers[e]||(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function dv(){}function fv(t,e=1e3,n=2){const r=e*Math.pow(n,t),i=Math.round(.5*r*(Math.random()-.5)*2);return Math.min(144e5,r+i)}function qn(t){return t&&t._delegate?t._delegate:t}class Gt{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const ws="[DEFAULT]";class lQ{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new tf;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e?.identifier),i=null!==(n=e?.optional)&&void 0!==n&&n;if(!this.isInitialized(r)&&!this.shouldAutoInitialize()){if(i)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function hQ(t){return"EAGER"===t.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:ws})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=ws){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){var e=this;return m(function*(){const n=Array.from(e.instances.values());yield Promise.all([...n.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...n.filter(r=>"_delete"in r).map(r=>r._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(e=ws){return this.instances.has(e)}getOptions(e=ws){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries())r===this.normalizeInstanceIdentifier(s)&&o.resolve(i);return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=null!==(r=this.onInitCallbacks.get(i))&&void 0!==r?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(t=e,t===ws?void 0:t),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}var t;return r||null}normalizeInstanceIdentifier(e=ws){return this.component?this.component.multipleInstances?e:ws:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class fQ{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new lQ(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}const pv=[];var he=(()=>{return(t=he||(he={}))[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",he;var t})();const lO={debug:he.DEBUG,verbose:he.VERBOSE,info:he.INFO,warn:he.WARN,error:he.ERROR,silent:he.SILENT},pQ=he.INFO,gQ={[he.DEBUG]:"log",[he.VERBOSE]:"log",[he.INFO]:"info",[he.WARN]:"warn",[he.ERROR]:"error"},mQ=(t,e,...n)=>{if(e<t.logLevel)return;const r=(new Date).toISOString(),i=gQ[e];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[i](`[${r}]  ${t.name}:`,...n)};class aa{constructor(e){this.name=e,this._logLevel=pQ,this._logHandler=mQ,this._userLogHandler=null,pv.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in he))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?lO[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,he.DEBUG,...e),this._logHandler(this,he.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,he.VERBOSE,...e),this._logHandler(this,he.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,he.INFO,...e),this._logHandler(this,he.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,he.WARN,...e),this._logHandler(this,he.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,he.ERROR,...e),this._logHandler(this,he.ERROR,...e)}}let dO,hO;const fO=new WeakMap,gv=new WeakMap,pO=new WeakMap,mv=new WeakMap,yv=new WeakMap;let _v={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return gv.get(t);if("objectStoreNames"===e)return t.objectStoreNames||pO.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Zr(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function bQ(t){return"function"==typeof t?function DQ(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function vQ(){return hO||(hO=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(vv(this),e),Zr(fO.get(this))}:function(...e){return Zr(t.apply(vv(this),e))}:function(e,...n){const r=t.call(vv(this),e,...n);return pO.set(r,e.sort?e.sort():[e]),Zr(r)}}(t):(t instanceof IDBTransaction&&function IQ(t){if(gv.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});gv.set(t,e)}(t),((t,e)=>e.some(n=>t instanceof n))(t,function _Q(){return dO||(dO=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,_v):t)}function Zr(t){if(t instanceof IDBRequest)return function wQ(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Zr(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&fO.set(n,t)}).catch(()=>{}),yv.set(e,t),e}(t);if(mv.has(t))return mv.get(t);const e=bQ(t);return e!==t&&(mv.set(t,e),yv.set(e,t)),e}const vv=t=>yv.get(t);function rf(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Zr(o);return r&&o.addEventListener("upgradeneeded",u=>{r(Zr(o.result),u.oldVersion,u.newVersion,Zr(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}function wv(t,{blocked:e}={}){const n=indexedDB.deleteDatabase(t);return e&&n.addEventListener("blocked",()=>e()),Zr(n).then(()=>{})}const CQ=["get","getKey","getAll","getAllKeys","count"],TQ=["put","add","delete","clear"],Iv=new Map;function gO(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(Iv.get(e))return Iv.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=TQ.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!CQ.includes(n))return;const s=function(){var o=m(function*(a,...u){const c=this.transaction(a,i?"readwrite":"readonly");let l=c.store;return r&&(l=l.index(u.shift())),(yield Promise.all([l[n](...u),i&&c.done]))[0]});return function(u){return o.apply(this,arguments)}}();return Iv.set(e,s),s}!function EQ(t){_v=t(_v)}(t=>({...t,get:(e,n,r)=>gO(e,n)||t.get(e,n,r),has:(e,n)=>!!gO(e,n)||t.has(e,n)}));class SQ{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(function AQ(t){return"VERSION"===t.getComponent()?.type}(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}return null}).filter(n=>n).join(" ")}}const Ev="@firebase/app",Is=new aa("@firebase/app"),sf="[DEFAULT]",eY={[Ev]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Es=new Map,af=new Map;function tY(t,e){try{t.container.addComponent(e)}catch(n){Is.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function sn(t){const e=t.name;if(af.has(e))return Is.debug(`There were multiple attempts to register component ${e}.`),!1;af.set(e,t);for(const n of Es.values())tY(n,t);return!0}function uf(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}const Xr=new Dr("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class rY{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Gt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Xr.create("app-deleted",{appName:this._name})}}const cf="9.16.0";function yO(t,e={}){let n=t;"object"!=typeof e&&(e={name:e});const r=Object.assign({name:sf,automaticDataCollectionEnabled:!1},e),i=r.name;if("string"!=typeof i||!i)throw Xr.create("bad-app-name",{appName:String(i)});if(n||(n=(()=>{var t;return null===(t=ef())||void 0===t?void 0:t.config})()),!n)throw Xr.create("no-options");const s=Es.get(i);if(s){if(lv(n,s.options)&&lv(r,s.config))return s;throw Xr.create("duplicate-app",{appName:i})}const o=new fQ(i);for(const u of af.values())o.addComponent(u);const a=new rY(n,r,o);return Es.set(i,a),a}function _O(t=sf){const e=Es.get(t);if(!e&&t===sf)return yO();if(!e)throw Xr.create("no-app",{appName:t});return e}function vO(){return Array.from(Es.values())}function Qe(t,e,n){var r;let i=null!==(r=eY[t])&&void 0!==r?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];return s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void Is.warn(a.join(" "))}sn(new Gt(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const Ic="firebase-heartbeat-store";let bv=null;function wO(){return bv||(bv=rf("firebase-heartbeat-database",1,{upgrade:(t,e)=>{0===e&&t.createObjectStore(Ic)}}).catch(t=>{throw Xr.create("idb-open",{originalErrorMessage:t.message})})),bv}function Cv(){return(Cv=m(function*(t){try{return(yield wO()).transaction(Ic).objectStore(Ic).get(EO(t))}catch(e){if(e instanceof or)Is.warn(e.message);else{const n=Xr.create("idb-get",{originalErrorMessage:e?.message});Is.warn(n.message)}}})).apply(this,arguments)}function IO(t,e){return Tv.apply(this,arguments)}function Tv(){return(Tv=m(function*(t,e){try{const r=(yield wO()).transaction(Ic,"readwrite");return yield r.objectStore(Ic).put(e,EO(t)),r.done}catch(n){if(n instanceof or)Is.warn(n.message);else{const r=Xr.create("idb-set",{originalErrorMessage:n?.message});Is.warn(r.message)}}})).apply(this,arguments)}function EO(t){return`${t.name}!${t.options.appId}`}class cY{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new dY(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){var e=this;return m(function*(){const r=e.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=DO();if(null===e._heartbeatsCache&&(e._heartbeatsCache=yield e._heartbeatsCachePromise),e._heartbeatsCache.lastSentHeartbeatDate!==i&&!e._heartbeatsCache.heartbeats.some(s=>s.date===i))return e._heartbeatsCache.heartbeats.push({date:i,agent:r}),e._heartbeatsCache.heartbeats=e._heartbeatsCache.heartbeats.filter(s=>{const o=new Date(s.date).valueOf();return Date.now()-o<=2592e6}),e._storage.overwrite(e._heartbeatsCache)})()}getHeartbeatsHeader(){var e=this;return m(function*(){if(null===e._heartbeatsCache&&(yield e._heartbeatsCachePromise),null===e._heartbeatsCache||0===e._heartbeatsCache.heartbeats.length)return"";const n=DO(),{heartbeatsToSend:r,unsentEntries:i}=function lY(t,e=1024){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),bO(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),bO(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(e._heartbeatsCache.heartbeats),s=Xh(JSON.stringify({version:2,heartbeats:r}));return e._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(e._heartbeatsCache.heartbeats=i,yield e._storage.overwrite(e._heartbeatsCache)):(e._heartbeatsCache.heartbeats=[],e._storage.overwrite(e._heartbeatsCache)),s})()}}function DO(){return(new Date).toISOString().substring(0,10)}class dY{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return m(function*(){return!!vs()&&wc().then(()=>!0).catch(()=>!1)})()}read(){var e=this;return m(function*(){return(yield e._canUseIndexedDBPromise)&&(yield function oY(t){return Cv.apply(this,arguments)}(e.app))||{heartbeats:[]}})()}overwrite(e){var n=this;return m(function*(){var r;if(yield n._canUseIndexedDBPromise){const s=yield n.read();return IO(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}})()}add(e){var n=this;return m(function*(){var r;if(yield n._canUseIndexedDBPromise){const s=yield n.read();return IO(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}})()}}function bO(t){return Xh(JSON.stringify({version:2,heartbeats:t})).length}!function hY(t){sn(new Gt("platform-logger",e=>new SQ(e),"PRIVATE")),sn(new Gt("heartbeat",e=>new cY(e),"PRIVATE")),Qe(Ev,"0.9.1",t),Qe(Ev,"0.9.1","esm2017"),Qe("fire-js","")}(""),Qe("firebase","9.16.0","app");const CO="@firebase/installations",Sv="0.6.1",SO=`w:${Sv}`,AO="FIS_v2",Jr=new Dr("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function xO(t){return t instanceof or&&t.code.includes("request-failed")}function Av({projectId:t}){return`https://firebaseinstallations.googleapis.com/v1/projects/${t}/installations`}function MO(t){return{token:t.token,requestStatus:2,expiresIn:wY(t.expiresIn),creationTime:Date.now()}}function xv(t,e){return Mv.apply(this,arguments)}function Mv(){return(Mv=m(function*(t,e){const r=(yield e.json()).error;return Jr.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})})).apply(this,arguments)}function kO({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function RO(t,{refreshToken:e}){const n=kO(t);return n.append("Authorization",function IY(t){return`${AO} ${t}`}(e)),n}function kv(t){return Rv.apply(this,arguments)}function Rv(){return(Rv=m(function*(t){const e=yield t();return e.status>=500&&e.status<600?t():e})).apply(this,arguments)}function wY(t){return Number(t.replace("s","000"))}function EY(t,e){return Nv.apply(this,arguments)}function Nv(){return(Nv=m(function*({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=Av(t),i=kO(t),s=e.getImmediate({optional:!0});if(s){const c=yield s.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const a={method:"POST",headers:i,body:JSON.stringify({fid:n,authVersion:AO,appId:t.appId,sdkVersion:SO})},u=yield kv(()=>fetch(r,a));if(u.ok){const c=yield u.json();return{fid:c.fid||n,registrationStatus:2,refreshToken:c.refreshToken,authToken:MO(c.authToken)}}throw yield xv("Create Installation",u)})).apply(this,arguments)}function NO(t){return new Promise(e=>{setTimeout(e,t)})}const bY=/^[cdef][\w-]{21}$/;function CY(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=function TY(t){return function DY(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}(t).substr(0,22)}(t);return bY.test(n)?n:""}catch{return""}}function ua(t){return`${t.appName}!${t.appId}`}const ca=new Map;function OO(t,e){const n=ua(t);PO(n,e),function xY(t,e){const n=function FO(){return!Ds&&"BroadcastChannel"in self&&(Ds=new BroadcastChannel("[Firebase] FID Change"),Ds.onmessage=t=>{PO(t.data.key,t.data.fid)}),Ds}();n&&n.postMessage({key:t,fid:e}),function LO(){0===ca.size&&Ds&&(Ds.close(),Ds=null)}()}(n,e)}function PO(t,e){const n=ca.get(t);if(n)for(const r of n)r(e)}let Ds=null;const bs="firebase-installations-store";let Pv=null;function Fv(){return Pv||(Pv=rf("firebase-installations-database",1,{upgrade:(t,e)=>{0===e&&t.createObjectStore(bs)}})),Pv}function lf(t,e){return Lv.apply(this,arguments)}function Lv(){return(Lv=m(function*(t,e){const n=ua(t),i=(yield Fv()).transaction(bs,"readwrite"),s=i.objectStore(bs),o=yield s.get(n);return yield s.put(e,n),yield i.done,(!o||o.fid!==e.fid)&&OO(t,e.fid),e})).apply(this,arguments)}function Vv(t){return Uv.apply(this,arguments)}function Uv(){return(Uv=m(function*(t){const e=ua(t),r=(yield Fv()).transaction(bs,"readwrite");yield r.objectStore(bs).delete(e),yield r.done})).apply(this,arguments)}function Ec(t,e){return Bv.apply(this,arguments)}function Bv(){return(Bv=m(function*(t,e){const n=ua(t),i=(yield Fv()).transaction(bs,"readwrite"),s=i.objectStore(bs),o=yield s.get(n),a=e(o);return void 0===a?yield s.delete(n):yield s.put(a,n),yield i.done,a&&(!o||o.fid!==a.fid)&&OO(t,a.fid),a})).apply(this,arguments)}function $v(t){return jv.apply(this,arguments)}function jv(){return(jv=m(function*(t){let e;const n=yield Ec(t.appConfig,r=>{const i=RY(r),s=NY(t,i);return e=s.registrationPromise,s.installationEntry});return""===n.fid?{installationEntry:yield e}:{installationEntry:n,registrationPromise:e}})).apply(this,arguments)}function RY(t){return UO(t||{fid:CY(),registrationStatus:0})}function NY(t,e){if(0===e.registrationStatus){if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(Jr.create("app-offline"))};const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=function OY(t,e){return Gv.apply(this,arguments)}(t,n);return{installationEntry:n,registrationPromise:r}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:PY(t)}:{installationEntry:e}}function Gv(){return(Gv=m(function*(t,e){try{const n=yield EY(t,e);return lf(t.appConfig,n)}catch(n){throw xO(n)&&409===n.customData.serverCode?yield Vv(t.appConfig):yield lf(t.appConfig,{fid:e.fid,registrationStatus:0}),n}})).apply(this,arguments)}function PY(t){return Hv.apply(this,arguments)}function Hv(){return(Hv=m(function*(t){let e=yield VO(t.appConfig);for(;1===e.registrationStatus;)yield NO(100),e=yield VO(t.appConfig);if(0===e.registrationStatus){const{installationEntry:n,registrationPromise:r}=yield $v(t);return r||n}return e})).apply(this,arguments)}function VO(t){return Ec(t,e=>{if(!e)throw Jr.create("installation-not-found");return UO(e)})}function UO(t){return function FY(t){return 1===t.registrationStatus&&t.registrationTime+1e4<Date.now()}(t)?{fid:t.fid,registrationStatus:0}:t}function LY(t,e){return qv.apply(this,arguments)}function qv(){return(qv=m(function*({appConfig:t,heartbeatServiceProvider:e},n){const r=VY(t,n),i=RO(t,n),s=e.getImmediate({optional:!0});if(s){const c=yield s.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const a={method:"POST",headers:i,body:JSON.stringify({installation:{sdkVersion:SO,appId:t.appId}})},u=yield kv(()=>fetch(r,a));if(u.ok)return MO(yield u.json());throw yield xv("Generate Auth Token",u)})).apply(this,arguments)}function VY(t,{fid:e}){return`${Av(t)}/${e}/authTokens:generate`}function zv(t){return Wv.apply(this,arguments)}function Wv(){return(Wv=m(function*(t,e=!1){let n;const r=yield Ec(t.appConfig,s=>{if(!$O(s))throw Jr.create("not-registered");const o=s.authToken;if(!e&&$Y(o))return s;if(1===o.requestStatus)return n=UY(t,e),s;{if(!navigator.onLine)throw Jr.create("app-offline");const a=GY(s);return n=BY(t,a),a}});return n?yield n:r.authToken})).apply(this,arguments)}function UY(t,e){return Kv.apply(this,arguments)}function Kv(){return(Kv=m(function*(t,e){let n=yield BO(t.appConfig);for(;1===n.authToken.requestStatus;)yield NO(100),n=yield BO(t.appConfig);const r=n.authToken;return 0===r.requestStatus?zv(t,e):r})).apply(this,arguments)}function BO(t){return Ec(t,e=>{if(!$O(e))throw Jr.create("not-registered");return function HY(t){return 1===t.requestStatus&&t.requestTime+1e4<Date.now()}(e.authToken)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function BY(t,e){return Qv.apply(this,arguments)}function Qv(){return(Qv=m(function*(t,e){try{const n=yield LY(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return yield lf(t.appConfig,r),n}catch(n){if(!xO(n)||401!==n.customData.serverCode&&404!==n.customData.serverCode){const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});yield lf(t.appConfig,r)}else yield Vv(t.appConfig);throw n}})).apply(this,arguments)}function $O(t){return void 0!==t&&2===t.registrationStatus}function $Y(t){return 2===t.requestStatus&&!function jY(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+36e5}(t)}function GY(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function Yv(){return(Yv=m(function*(t){const e=t,{installationEntry:n,registrationPromise:r}=yield $v(e);return r?r.catch(console.error):zv(e).catch(console.error),n.fid})).apply(this,arguments)}function Zv(){return(Zv=m(function*(t,e=!1){const n=t;return yield WY(n),(yield zv(n,e)).token})).apply(this,arguments)}function WY(t){return Xv.apply(this,arguments)}function Xv(){return(Xv=m(function*(t){const{registrationPromise:e}=yield $v(t);e&&(yield e)})).apply(this,arguments)}function tw(t){return Jr.create("missing-app-config-values",{valueName:t})}const jO="installations",XY=t=>{const e=t.getProvider("app").getImmediate(),n=function YY(t){if(!t||!t.options)throw tw("App Configuration");if(!t.name)throw tw("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw tw(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}(e);return{app:e,appConfig:n,heartbeatServiceProvider:uf(e,"heartbeat"),_delete:()=>Promise.resolve()}},JY=t=>{const n=uf(t.getProvider("app").getImmediate(),jO).getImmediate();return{getId:()=>function qY(t){return Yv.apply(this,arguments)}(n),getToken:i=>function zY(t){return Zv.apply(this,arguments)}(n,i)}};(function eZ(){sn(new Gt(jO,XY,"PUBLIC")),sn(new Gt("installations-internal",JY,"PRIVATE"))})(),Qe(CO,Sv),Qe(CO,Sv,"esm2017");const nw="@firebase/remote-config",gn=new Dr("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class dZ{constructor(e,n,r,i){this.client=e,this.storage=n,this.storageCache=r,this.logger=i}isCachedDataFresh(e,n){if(!n)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const r=Date.now()-n,i=r<=e;return this.logger.debug(`Config fetch cache check. Cache age millis: ${r}. Cache max age millis (minimumFetchIntervalMillis setting): ${e}. Is cache hit: ${i}.`),i}fetch(e){var n=this;return m(function*(){const[r,i]=yield Promise.all([n.storage.getLastSuccessfulFetchTimestampMillis(),n.storage.getLastSuccessfulFetchResponse()]);if(i&&n.isCachedDataFresh(e.cacheMaxAgeMillis,r))return i;e.eTag=i&&i.eTag;const s=yield n.client.fetch(e),o=[n.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===s.status&&o.push(n.storage.setLastSuccessfulFetchResponse(s)),yield Promise.all(o),s})()}}function hZ(t=navigator){return t.languages&&t.languages[0]||t.language}class fZ{constructor(e,n,r,i,s,o){this.firebaseInstallations=e,this.sdkVersion=n,this.namespace=r,this.projectId=i,this.apiKey=s,this.appId=o}fetch(e){var n=this;return m(function*(){const[r,i]=yield Promise.all([n.firebaseInstallations.getId(),n.firebaseInstallations.getToken()]),o=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${n.projectId}/namespaces/${n.namespace}:fetch?key=${n.apiKey}`,a={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},u={sdk_version:n.sdkVersion,app_instance_id:r,app_instance_id_token:i,app_id:n.appId,language_code:hZ()},c={method:"POST",headers:a,body:JSON.stringify(u)},l=fetch(o,c),d=new Promise((I,D)=>{e.signal.addEventListener(()=>{const v=new Error("The operation was aborted.");v.name="AbortError",D(v)})});let h;try{yield Promise.race([l,d]),h=yield l}catch(I){let D="fetch-client-network";throw"AbortError"===I?.name&&(D="fetch-timeout"),gn.create(D,{originalErrorMessage:I?.message})}let f=h.status;const p=h.headers.get("ETag")||void 0;let g,y;if(200===h.status){let I;try{I=yield h.json()}catch(D){throw gn.create("fetch-client-parse",{originalErrorMessage:D?.message})}g=I.entries,y=I.state}if("INSTANCE_STATE_UNSPECIFIED"===y?f=500:"NO_CHANGE"===y?f=304:("NO_TEMPLATE"===y||"EMPTY_CONFIG"===y)&&(g={}),304!==f&&200!==f)throw gn.create("fetch-status",{httpStatus:f});return{status:f,eTag:p,config:g}})()}}class mZ{constructor(e,n){this.client=e,this.storage=n}fetch(e){var n=this;return m(function*(){const r=(yield n.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return n.attemptFetch(e,r)})()}attemptFetch(e,{throttleEndTimeMillis:n,backoffCount:r}){var i=this;return m(function*(){yield function pZ(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(gn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(e.signal,n);try{const s=yield i.client.fetch(e);return yield i.storage.deleteThrottleMetadata(),s}catch(s){if(!function gZ(t){if(!(t instanceof or&&t.customData))return!1;const e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(s))throw s;const o={throttleEndTimeMillis:Date.now()+fv(r),backoffCount:r+1};return yield i.storage.setThrottleMetadata(o),i.attemptFetch(e,o)}})()}}class vZ{constructor(e,n,r,i,s){this.app=e,this._client=n,this._storageCache=r,this._storage=i,this._logger=s,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function hf(t,e){const n=t.target.error||void 0;return gn.create(e,{originalErrorMessage:n&&n?.message})}const Cs="app_namespace_store";class DZ{constructor(e,n,r,i=function EZ(){return new Promise((t,e)=>{try{const n=indexedDB.open("firebase_remote_config",1);n.onerror=r=>{e(hf(r,"storage-open"))},n.onsuccess=r=>{t(r.target.result)},n.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(Cs,{keyPath:"compositeKey"})}}catch(n){e(gn.create("storage-open",{originalErrorMessage:n?.message}))}})}()){this.appId=e,this.appName=n,this.namespace=r,this.openDbPromise=i}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(e){return this.set("last_fetch_status",e)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(e){return this.set("last_successful_fetch_timestamp_millis",e)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(e){return this.set("last_successful_fetch_response",e)}getActiveConfig(){return this.get("active_config")}setActiveConfig(e){return this.set("active_config",e)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(e){return this.set("active_config_etag",e)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(e){return this.set("throttle_metadata",e)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(e){var n=this;return m(function*(){const r=yield n.openDbPromise;return new Promise((i,s)=>{const a=r.transaction([Cs],"readonly").objectStore(Cs),u=n.createCompositeKey(e);try{const c=a.get(u);c.onerror=l=>{s(hf(l,"storage-get"))},c.onsuccess=l=>{const d=l.target.result;i(d?d.value:void 0)}}catch(c){s(gn.create("storage-get",{originalErrorMessage:c?.message}))}})})()}set(e,n){var r=this;return m(function*(){const i=yield r.openDbPromise;return new Promise((s,o)=>{const u=i.transaction([Cs],"readwrite").objectStore(Cs),c=r.createCompositeKey(e);try{const l=u.put({compositeKey:c,value:n});l.onerror=d=>{o(hf(d,"storage-set"))},l.onsuccess=()=>{s()}}catch(l){o(gn.create("storage-set",{originalErrorMessage:l?.message}))}})})()}delete(e){var n=this;return m(function*(){const r=yield n.openDbPromise;return new Promise((i,s)=>{const a=r.transaction([Cs],"readwrite").objectStore(Cs),u=n.createCompositeKey(e);try{const c=a.delete(u);c.onerror=l=>{s(hf(l,"storage-delete"))},c.onsuccess=()=>{i()}}catch(c){s(gn.create("storage-delete",{originalErrorMessage:c?.message}))}})})()}createCompositeKey(e){return[this.appId,this.appName,this.namespace,e].join()}}class bZ{constructor(e){this.storage=e}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var e=this;return m(function*(){const n=e.storage.getLastFetchStatus(),r=e.storage.getLastSuccessfulFetchTimestampMillis(),i=e.storage.getActiveConfig(),s=yield n;s&&(e.lastFetchStatus=s);const o=yield r;o&&(e.lastSuccessfulFetchTimestampMillis=o);const a=yield i;a&&(e.activeConfig=a)})()}setLastFetchStatus(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)}setLastSuccessfulFetchTimestampMillis(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)}setActiveConfig(e){return this.activeConfig=e,this.storage.setActiveConfig(e)}}function TZ(){return aw.apply(this,arguments)}function aw(){return(aw=m(function*(){if(!vs())return!1;try{return yield wc()}catch{return!1}})).apply(this,arguments)}!function CZ(){sn(new Gt("remote-config",function t(e,{instanceIdentifier:n}){const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw gn.create("registration-window");if(!vs())throw gn.create("indexed-db-unavailable");const{projectId:s,apiKey:o,appId:a}=r.options;if(!s)throw gn.create("registration-project-id");if(!o)throw gn.create("registration-api-key");if(!a)throw gn.create("registration-app-id");const u=new DZ(a,r.name,n=n||"firebase"),c=new bZ(u),l=new aa(nw);l.logLevel=he.ERROR;const d=new fZ(i,cf,n,s,o,a),h=new mZ(d,u),f=new dZ(h,u,c,l),p=new vZ(r,f,c,u,l);return function uZ(t){const e=qn(t);e._initializePromise||(e._initializePromise=e._storageCache.loadFromStorage().then(()=>{e._isInitializationComplete=!0}))}(p),p},"PUBLIC").setMultipleInstances(!0)),Qe(nw,"0.4.1"),Qe(nw,"0.4.1","esm2017")}();const SZ="/firebase-messaging-sw.js",AZ="/firebase-cloud-messaging-push-scope",zO="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",WO="google.c.a.c_id",MZ="google.c.a.c_l",kZ="google.c.a.ts",RZ="google.c.a.e";var la=(()=>{return(t=la||(la={})).PUSH_RECEIVED="push-received",t.NOTIFICATION_CLICKED="notification-clicked",la;var t})();function ei(t){const e=new Uint8Array(t);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function NZ(t){const n=(t+"=".repeat((4-t.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(n),i=new Uint8Array(r.length);for(let s=0;s<r.length;++s)i[s]=r.charCodeAt(s);return i}const uw="fcm_token_details_db",KO="fcm_token_object_Store";function PZ(t){return cw.apply(this,arguments)}function cw(){return cw=m(function*(t){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(s=>s.name).includes(uw))return null;let e=null;return(yield rf(uw,5,{upgrade:(r=m(function*(i,s,o,a){var u;if(s<2||!i.objectStoreNames.contains(KO))return;const c=a.objectStore(KO),l=yield c.index("fcmSenderId").get(t);if(yield c.clear(),l)if(2===s){const d=l;if(!d.auth||!d.p256dh||!d.endpoint)return;e={token:d.fcmToken,createTime:null!==(u=d.createTime)&&void 0!==u?u:Date.now(),subscriptionOptions:{auth:d.auth,p256dh:d.p256dh,endpoint:d.endpoint,swScope:d.swScope,vapidKey:"string"==typeof d.vapidKey?d.vapidKey:ei(d.vapidKey)}}}else if(3===s){const d=l;e={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:ei(d.auth),p256dh:ei(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:ei(d.vapidKey)}}}else if(4===s){const d=l;e={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:ei(d.auth),p256dh:ei(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:ei(d.vapidKey)}}}}),function(s,o,a,u){return r.apply(this,arguments)})})).close(),yield wv(uw),yield wv("fcm_vapid_details_db"),yield wv("undefined"),FZ(e)?e:null;var r}),cw.apply(this,arguments)}function FZ(t){if(!t||!t.subscriptionOptions)return!1;const{subscriptionOptions:e}=t;return"number"==typeof t.createTime&&t.createTime>0&&"string"==typeof t.token&&t.token.length>0&&"string"==typeof e.auth&&e.auth.length>0&&"string"==typeof e.p256dh&&e.p256dh.length>0&&"string"==typeof e.endpoint&&e.endpoint.length>0&&"string"==typeof e.swScope&&e.swScope.length>0&&"string"==typeof e.vapidKey&&e.vapidKey.length>0}const Ts="firebase-messaging-store";let lw=null;function dw(){return lw||(lw=rf("firebase-messaging-database",1,{upgrade:(t,e)=>{0===e&&t.createObjectStore(Ts)}})),lw}function QO(t){return hw.apply(this,arguments)}function hw(){return(hw=m(function*(t){const e=mw(t),r=yield(yield dw()).transaction(Ts).objectStore(Ts).get(e);if(r)return r;{const i=yield PZ(t.appConfig.senderId);if(i)return yield fw(t,i),i}})).apply(this,arguments)}function fw(t,e){return pw.apply(this,arguments)}function pw(){return(pw=m(function*(t,e){const n=mw(t),i=(yield dw()).transaction(Ts,"readwrite");return yield i.objectStore(Ts).put(e,n),yield i.done,e})).apply(this,arguments)}function UZ(t){return gw.apply(this,arguments)}function gw(){return(gw=m(function*(t){const e=mw(t),r=(yield dw()).transaction(Ts,"readwrite");yield r.objectStore(Ts).delete(e),yield r.done})).apply(this,arguments)}function mw({appConfig:t}){return t.appId}const At=new Dr("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function $Z(t,e){return yw.apply(this,arguments)}function yw(){return(yw=m(function*(t,e){const n=yield Iw(t),r=ZO(e),i={method:"POST",headers:n,body:JSON.stringify(r)};let s;try{s=yield(yield fetch(ww(t.appConfig),i)).json()}catch(o){throw At.create("token-subscribe-failed",{errorInfo:o?.toString()})}if(s.error)throw At.create("token-subscribe-failed",{errorInfo:s.error.message});if(!s.token)throw At.create("token-subscribe-no-token");return s.token})).apply(this,arguments)}function jZ(t,e){return _w.apply(this,arguments)}function _w(){return(_w=m(function*(t,e){const n=yield Iw(t),r=ZO(e.subscriptionOptions),i={method:"PATCH",headers:n,body:JSON.stringify(r)};let s;try{s=yield(yield fetch(`${ww(t.appConfig)}/${e.token}`,i)).json()}catch(o){throw At.create("token-update-failed",{errorInfo:o?.toString()})}if(s.error)throw At.create("token-update-failed",{errorInfo:s.error.message});if(!s.token)throw At.create("token-update-no-token");return s.token})).apply(this,arguments)}function YO(t,e){return vw.apply(this,arguments)}function vw(){return(vw=m(function*(t,e){const r={method:"DELETE",headers:yield Iw(t)};try{const s=yield(yield fetch(`${ww(t.appConfig)}/${e}`,r)).json();if(s.error)throw At.create("token-unsubscribe-failed",{errorInfo:s.error.message})}catch(i){throw At.create("token-unsubscribe-failed",{errorInfo:i?.toString()})}})).apply(this,arguments)}function ww({projectId:t}){return`https://fcmregistrations.googleapis.com/v1/projects/${t}/registrations`}function Iw(t){return Ew.apply(this,arguments)}function Ew(){return(Ew=m(function*({appConfig:t,installations:e}){const n=yield e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey,"x-goog-firebase-installations-auth":`FIS ${n}`})})).apply(this,arguments)}function ZO({p256dh:t,auth:e,endpoint:n,vapidKey:r}){const i={web:{endpoint:n,auth:e,p256dh:t}};return r!==zO&&(i.web.applicationPubKey=r),i}const GZ=6048e5;function HZ(t){return Dw.apply(this,arguments)}function Dw(){return(Dw=m(function*(t){const e=yield zZ(t.swRegistration,t.vapidKey),n={vapidKey:t.vapidKey,swScope:t.swRegistration.scope,endpoint:e.endpoint,auth:ei(e.getKey("auth")),p256dh:ei(e.getKey("p256dh"))},r=yield QO(t.firebaseDependencies);if(r){if(WZ(r.subscriptionOptions,n))return Date.now()>=r.createTime+GZ?qZ(t,{token:r.token,createTime:Date.now(),subscriptionOptions:n}):r.token;try{yield YO(t.firebaseDependencies,r.token)}catch(i){console.warn(i)}return JO(t.firebaseDependencies,n)}return JO(t.firebaseDependencies,n)})).apply(this,arguments)}function XO(t){return bw.apply(this,arguments)}function bw(){return(bw=m(function*(t){const e=yield QO(t.firebaseDependencies);e&&(yield YO(t.firebaseDependencies,e.token),yield UZ(t.firebaseDependencies));const n=yield t.swRegistration.pushManager.getSubscription();return!n||n.unsubscribe()})).apply(this,arguments)}function qZ(t,e){return Cw.apply(this,arguments)}function Cw(){return(Cw=m(function*(t,e){try{const n=yield jZ(t.firebaseDependencies,e),r=Object.assign(Object.assign({},e),{token:n,createTime:Date.now()});return yield fw(t.firebaseDependencies,r),n}catch(n){throw yield XO(t),n}})).apply(this,arguments)}function JO(t,e){return Tw.apply(this,arguments)}function Tw(){return(Tw=m(function*(t,e){const r={token:yield $Z(t,e),createTime:Date.now(),subscriptionOptions:e};return yield fw(t,r),r.token})).apply(this,arguments)}function zZ(t,e){return Sw.apply(this,arguments)}function Sw(){return(Sw=m(function*(t,e){return(yield t.pushManager.getSubscription())||t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:NZ(e)})})).apply(this,arguments)}function WZ(t,e){return e.vapidKey===t.vapidKey&&e.endpoint===t.endpoint&&e.auth===t.auth&&e.p256dh===t.p256dh}function eP(t){const e={from:t.from,collapseKey:t.collapse_key,messageId:t.fcmMessageId};return function KZ(t,e){if(!e.notification)return;t.notification={};const n=e.notification.title;n&&(t.notification.title=n);const r=e.notification.body;r&&(t.notification.body=r);const i=e.notification.image;i&&(t.notification.image=i);const s=e.notification.icon;s&&(t.notification.icon=s)}(e,t),function QZ(t,e){e.data&&(t.data=e.data)}(e,t),function YZ(t,e){var n,r,i,s,o;if(!(e.fcmOptions||null!==(n=e.notification)&&void 0!==n&&n.click_action))return;t.fcmOptions={};const a=null!==(i=null===(r=e.fcmOptions)||void 0===r?void 0:r.link)&&void 0!==i?i:null===(s=e.notification)||void 0===s?void 0:s.click_action;a&&(t.fcmOptions.link=a);const u=null===(o=e.fcmOptions)||void 0===o?void 0:o.analytics_label;u&&(t.fcmOptions.analyticsLabel=u)}(e,t),e}function ZZ(t){return"object"==typeof t&&!!t&&WO in t}function tP(t,e){const n=[];for(let r=0;r<t.length;r++)n.push(t.charAt(r)),r<e.length&&n.push(e.charAt(r));return n.join("")}function Aw(t){return At.create("missing-app-config-values",{valueName:t})}tP("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),tP("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class JZ{constructor(e,n,r){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const i=function XZ(t){if(!t||!t.options)throw Aw("App Configuration Object");if(!t.name)throw Aw("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:n}=t;for(const r of e)if(!n[r])throw Aw(r);return{appName:t.name,projectId:n.projectId,apiKey:n.apiKey,appId:n.appId,senderId:n.messagingSenderId}}(e);this.firebaseDependencies={app:e,appConfig:i,installations:n,analyticsProvider:r}}_delete(){return Promise.resolve()}}function nP(t){return xw.apply(this,arguments)}function xw(){return(xw=m(function*(t){try{t.swRegistration=yield navigator.serviceWorker.register(SZ,{scope:AZ}),t.swRegistration.update().catch(()=>{})}catch(e){throw At.create("failed-service-worker-registration",{browserErrorMessage:e?.message})}})).apply(this,arguments)}function eX(t,e){return Mw.apply(this,arguments)}function Mw(){return(Mw=m(function*(t,e){if(!e&&!t.swRegistration&&(yield nP(t)),e||!t.swRegistration){if(!(e instanceof ServiceWorkerRegistration))throw At.create("invalid-sw-registration");t.swRegistration=e}})).apply(this,arguments)}function tX(t,e){return kw.apply(this,arguments)}function kw(){return(kw=m(function*(t,e){e?t.vapidKey=e:t.vapidKey||(t.vapidKey=zO)})).apply(this,arguments)}function Rw(){return(Rw=m(function*(t,e){if(!navigator)throw At.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw At.create("permission-blocked");return yield tX(t,e?.vapidKey),yield eX(t,e?.serviceWorkerRegistration),HZ(t)})).apply(this,arguments)}function nX(t,e,n){return Nw.apply(this,arguments)}function Nw(){return(Nw=m(function*(t,e,n){const r=rX(e);(yield t.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:n[WO],message_name:n[MZ],message_time:n[kZ],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function rX(t){switch(t){case la.NOTIFICATION_CLICKED:return"notification_open";case la.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function Ow(){return(Ow=m(function*(t,e){const n=e.data;if(!n.isFirebaseMessaging)return;t.onMessageHandler&&n.messageType===la.PUSH_RECEIVED&&("function"==typeof t.onMessageHandler?t.onMessageHandler(eP(n)):t.onMessageHandler.next(eP(n)));const r=n.data;ZZ(r)&&"1"===r[RZ]&&(yield nX(t,n.messageType,r))})).apply(this,arguments)}const iP="@firebase/messaging",sX=t=>{const e=new JZ(t.getProvider("app").getImmediate(),t.getProvider("installations-internal").getImmediate(),t.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",n=>function iX(t,e){return Ow.apply(this,arguments)}(e,n)),e},oX=t=>{const e=t.getProvider("messaging").getImmediate();return{getToken:r=>function rP(t,e){return Rw.apply(this,arguments)}(e,r)}};function oP(){return Pw.apply(this,arguments)}function Pw(){return(Pw=m(function*(){try{yield wc()}catch{return!1}return typeof window<"u"&&vs()&&cv()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function aX(){sn(new Gt("messaging",sX,"PUBLIC")),sn(new Gt("messaging-internal",oX,"PRIVATE")),Qe(iP,"0.12.1"),Qe(iP,"0.12.1","esm2017")}();const ff="analytics",lX="firebase_id",fX="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",aP="https://www.googletagmanager.com/gtag/js",xt=new aa("@firebase/analytics");function uP(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function pX(t,e){const n=document.createElement("script");n.src=`${aP}?l=${t}&id=${e}`,n.async=!0,document.head.appendChild(n)}function mX(t,e,n,r,i,s){return Vw.apply(this,arguments)}function Vw(){return(Vw=m(function*(t,e,n,r,i,s){const o=r[i];try{if(o)yield e[o];else{const u=(yield uP(n)).find(c=>c.measurementId===i);u&&(yield e[u.appId])}}catch(a){xt.error(a)}t("config",i,s)})).apply(this,arguments)}function yX(t,e,n,r,i){return Uw.apply(this,arguments)}function Uw(){return(Uw=m(function*(t,e,n,r,i){try{let s=[];if(i&&i.send_to){let o=i.send_to;Array.isArray(o)||(o=[o]);const a=yield uP(n);for(const u of o){const c=a.find(d=>d.measurementId===u),l=c&&e[c.appId];if(!l){s=[];break}s.push(l)}}0===s.length&&(s=Object.values(e)),yield Promise.all(s),t("event",r,i||{})}catch(s){xt.error(s)}})).apply(this,arguments)}function wX(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(aP)&&n.src.includes(t))return n;return null}const Rn=new Dr("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),cP=new class bX{constructor(e={},n=1e3){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function CX(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}function TX(t){return Bw.apply(this,arguments)}function Bw(){return(Bw=m(function*(t){var e;const{appId:n,apiKey:r}=t,i={method:"GET",headers:CX(r)},s=fX.replace("{app-id}",n),o=yield fetch(s,i);if(200!==o.status&&304!==o.status){let a="";try{const u=yield o.json();null!==(e=u.error)&&void 0!==e&&e.message&&(a=u.error.message)}catch{}throw Rn.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()})).apply(this,arguments)}function SX(t){return $w.apply(this,arguments)}function $w(){return($w=m(function*(t,e=cP,n){const{appId:r,apiKey:i,measurementId:s}=t.options;if(!r)throw Rn.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:r};throw Rn.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new MX;return setTimeout(m(function*(){a.abort()}),void 0!==n?n:6e4),lP({appId:r,apiKey:i,measurementId:s},o,a,e)})).apply(this,arguments)}function lP(t,e,n){return jw.apply(this,arguments)}function jw(){return(jw=m(function*(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=cP){var s;const{appId:o,measurementId:a}=t;try{yield AX(r,e)}catch(u){if(a)return xt.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${u?.message}]`),{appId:o,measurementId:a};throw u}try{const u=yield TX(t);return i.deleteThrottleMetadata(o),u}catch(u){const c=u;if(!xX(c)){if(i.deleteThrottleMetadata(o),a)return xt.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${c?.message}]`),{appId:o,measurementId:a};throw u}const l=503===Number(null===(s=c?.customData)||void 0===s?void 0:s.httpStatus)?fv(n,i.intervalMillis,30):fv(n,i.intervalMillis),d={throttleEndTimeMillis:Date.now()+l,backoffCount:n+1};return i.setThrottleMetadata(o,d),xt.debug(`Calling attemptFetch again in ${l} millis`),lP(t,d,r,i)}})).apply(this,arguments)}function AX(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(Rn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function xX(t){if(!(t instanceof or&&t.customData))return!1;const e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}class MX{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}let Gw,Qw;function Hw(){return(Hw=m(function*(t,e,n,r,i){if(i&&i.global)t("event",n,r);else{const s=yield e;t("event",n,Object.assign(Object.assign({},r),{send_to:s}))}})).apply(this,arguments)}function dP(t){Qw=t}function hP(t){Gw=t}function FX(){return Yw.apply(this,arguments)}function Yw(){return(Yw=m(function*(){if(!vs())return xt.warn(Rn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield wc()}catch(t){return xt.warn(Rn.create("indexeddb-unavailable",{errorInfo:t?.toString()}).message),!1}return!0})).apply(this,arguments)}function Zw(){return(Zw=m(function*(t,e,n,r,i,s,o){var a;const u=SX(t);u.then(f=>{n[f.measurementId]=f.appId,t.options.measurementId&&f.measurementId!==t.options.measurementId&&xt.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${f.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(f=>xt.error(f)),e.push(u);const c=FX().then(f=>{if(f)return r.getId()}),[l,d]=yield Promise.all([u,c]);wX(s)||pX(s,l.measurementId),Qw&&(i("consent","default",Qw),dP(void 0)),i("js",new Date);const h=null!==(a=o?.config)&&void 0!==a?a:{};return h.origin="firebase",h.update=!0,null!=d&&(h[lX]=d),i("config",l.measurementId,h),Gw&&(i("set",Gw),hP(void 0)),l.measurementId})).apply(this,arguments)}class VX{constructor(e){this.app=e}_delete(){return delete ti[this.app.options.appId],Promise.resolve()}}let ti={},fP=[];const pP={};let mP,ni,pf="dataLayer",Xw=!1;function BX(t,e,n){!function UX(){const t=[];if(uv()&&t.push("This is a browser extension environment."),cv()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=Rn.create("invalid-analytics-context",{errorInfo:e});xt.warn(n.message)}}();const r=t.options.appId;if(!r)throw Rn.create("no-app-id");if(!t.options.apiKey){if(!t.options.measurementId)throw Rn.create("no-api-key");xt.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=ti[r])throw Rn.create("already-exists",{id:r});if(!Xw){!function gX(t){let e=[];Array.isArray(window[t])?e=window[t]:window[t]=e}(pf);const{wrappedGtag:s,gtagCore:o}=function vX(t,e,n,r,i){let s=function(...o){window[r].push(arguments)};return window[i]&&"function"==typeof window[i]&&(s=window[i]),window[i]=function _X(t,e,n,r){function s(){return(s=m(function*(o,a,u){try{"event"===o?yield yX(t,e,n,a,u):"config"===o?yield mX(t,e,n,r,a,u):"consent"===o?t("consent","update",u):t("set",a)}catch(c){xt.error(c)}})).apply(this,arguments)}return function i(o,a,u){return s.apply(this,arguments)}}(s,t,e,n),{gtagCore:s,wrappedGtag:window[i]}}(ti,fP,pP,pf,"gtag");ni=s,mP=o,Xw=!0}return ti[r]=function LX(t,e,n,r,i,s,o){return Zw.apply(this,arguments)}(t,fP,pP,e,mP,pf,n),new VX(t)}function jX(){return Jw.apply(this,arguments)}function Jw(){return(Jw=m(function*(){if(uv()||!cv()||!vs())return!1;try{return yield wc()}catch{return!1}})).apply(this,arguments)}const yP="@firebase/analytics";!function HX(){sn(new Gt(ff,(e,{options:n})=>BX(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),n),"PUBLIC")),sn(new Gt("analytics-internal",function t(e){try{const n=e.getProvider(ff).getImmediate();return{logEvent:(r,i,s)=>function GX(t,e,n,r){t=qn(t),function kX(t,e,n,r,i){return Hw.apply(this,arguments)}(ni,ti[t.app.options.appId],e,n,r).catch(i=>xt.error(i))}(n,r,i,s)}}catch(n){throw Rn.create("interop-component-reg-failed",{reason:n})}},"PRIVATE")),Qe(yP,"0.9.1"),Qe(yP,"0.9.1","esm2017")}();class qX extends In{constructor(e,n){super()}schedule(e,n=0){return this}}const gf={setInterval(t,e,...n){const{delegate:r}=gf;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){const{delegate:e}=gf;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};class vP extends qX{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;const i=this.id,s=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(s,i,n)),this.pending=!0,this.delay=n,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(s,this.id,n),this}requestAsyncId(e,n,r=0){return gf.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return n;null!=n&&gf.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,n);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let i,r=!1;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,oo(r,this),null!=e&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}}const wP={now:()=>(wP.delegate||Date).now(),delegate:void 0};class Dc{constructor(e,n=Dc.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}}Dc.now=wP.now;class IP extends Dc{constructor(e,n=Dc.now){super(e,n),this.actions=[],this._active=!1}flush(e){const{actions:n}=this;if(this._active)return void n.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}}const KX=new class WX extends IP{}(class zX extends vP{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return null!=r&&r>0||null==r&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}}),QX=new IP(vP),eI=new Ao("7.5.0"),tI="__angularfire_symbol__analyticsIsSupportedValue",nI="__angularfire_symbol__analyticsIsSupported",rI="__angularfire_symbol__remoteConfigIsSupportedValue",iI="__angularfire_symbol__remoteConfigIsSupported",sI="__angularfire_symbol__messagingIsSupportedValue",oI="__angularfire_symbol__messagingIsSupported";globalThis[nI]||(globalThis[nI]=jX().then(t=>globalThis[tI]=t).catch(()=>globalThis[tI]=!1)),globalThis[oI]||(globalThis[oI]=oP().then(t=>globalThis[sI]=t).catch(()=>globalThis[sI]=!1)),globalThis[iI]||(globalThis[iI]=TZ().then(t=>globalThis[rI]=t).catch(()=>globalThis[rI]=!1));const cI=(t,e)=>{const n=e?[e]:vO(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r};function da(){}class EP{constructor(e,n=KX){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){const i=this.zone;return this.delegate.schedule(function(o){i.runGuarded(()=>{e.apply(this,[o])})},n,r)}}class YX{constructor(e){this.zone=e,this.task=null}call(e,n){const r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",da,{},da,da)),n.pipe(Tt({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let DP=(()=>{class t{constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new EP(Zone.current)),this.insideAngular=n.run(()=>new EP(Zone.current,QX)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return t.\u0275fac=function(n){return new(n||t)($(Fe))},t.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function Ss(){const t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return t}function ZX(t){return Ss().ngZone.runOutsideAngular(()=>t())}function As(t){return Ss().ngZone.run(()=>t())}function XX(t){return Ss(),function JX(t){return function(n){return(n=n.lift(new YX(t.ngZone))).pipe(Gl(t.outsideAngular),jl(t.insideAngular))}}(Ss())(t)}const eJ=(t,e)=>function(){const r=arguments;return e&&setTimeout(()=>{"scheduled"===e.state&&e.invoke()},10),As(()=>t.apply(void 0,r))},lI=(t,e)=>function(){let n;const r=arguments;for(let s=0;s<arguments.length;s++)"function"==typeof r[s]&&(e&&(n||(n=As(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",da,{},da,da)))),r[s]=eJ(r[s],n));const i=ZX(()=>t.apply(this,r));if(!e){if(i instanceof Oe){const s=Ss();return i.pipe(Gl(s.outsideAngular),jl(s.insideAngular))}return As(()=>i)}return i instanceof Oe?i.pipe(XX):i instanceof Promise?As(()=>new Promise((s,o)=>i.then(a=>As(()=>s(a)),a=>As(()=>o(a))))):"function"==typeof i&&n?function(){return setTimeout(()=>{n&&"scheduled"===n.state&&n.invoke()},10),i.apply(this,arguments)}:As(()=>i)};class ha{constructor(e){return e}}class bP{constructor(){return vO()}}const dI=new L("angularfire2._apps"),nJ={provide:ha,useFactory:function tJ(t){return t&&1===t.length?t[0]:new ha(_O())},deps:[[new Zt,dI]]},rJ={provide:bP,deps:[[new Zt,dI]]};function iJ(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new ha(r)}}let sJ=(()=>{class t{constructor(n){Qe("angularfire",eI.full,"core"),Qe("angularfire",eI.full,"app"),Qe("angular",aA.full,n.toString())}}return t.\u0275fac=function(n){return new(n||t)($(Zd))},t.\u0275mod=zt({type:t}),t.\u0275inj=Ft({providers:[nJ,rJ]}),t})();const aJ=lI(yO,!0);const uJ=function CP(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},TP=new Dr("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),SP=new aa("@firebase/auth");function mf(t,...e){SP.logLevel<=he.ERROR&&SP.error(`Auth (${cf}): ${t}`,...e)}function mn(t,...e){throw hI(t,...e)}function br(t,...e){return hI(t,...e)}function AP(t,e,n){const r=Object.assign(Object.assign({},uJ()),{[e]:n});return new Dr("auth","Firebase",r).create(e,{appName:t.name})}function hI(t,...e){if("string"!=typeof t){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return TP.create(t,...e)}function A(t,e,...n){if(!t)throw hI(e,...n)}function Cr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw mf(e),new Error(e)}function Ai(t,e){t||Cr(e)}const xP=new Map;function ri(t){Ai(t instanceof Function,"Expected a class definition");let e=xP.get(t);return e?(Ai(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,xP.set(t,e),e)}function MP(){var t;return typeof self<"u"&&(null===(t=self.location)||void 0===t?void 0:t.protocol)||null}class Cc{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ai(n>e,"Short delay should be less than long delay!"),this.isMobile=function Y9(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(kn())}()||function X9(){return"object"==typeof navigator&&"ReactNative"===navigator.product}()}get(){return function dJ(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function fI(){return"http:"===MP()||"https:"===MP()}()||uv()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}class kP{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void Cr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void Cr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void Cr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const fJ={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},pJ=new Cc(3e4,6e4);function yt(t,e,n,r){return gI.apply(this,arguments)}function gI(){return(gI=m(function*(t,e,n,r,i={}){return RP(t,i,m(function*(){let s={},o={};r&&("GET"===e?o=r:s={body:JSON.stringify(r)});const a=cO(Object.assign({key:t.config.apiKey},o)).slice(1),u=yield t._getAdditionalHeaders();return u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode),kP.fetch()(NP(t,t.config.apiHost,n,a),Object.assign({method:e,headers:u,referrerPolicy:"no-referrer"},s))}))})).apply(this,arguments)}function RP(t,e,n){return mI.apply(this,arguments)}function mI(){return(mI=m(function*(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},fJ),e);try{const i=new gJ(t),s=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=yield s.json();if("needConfirmation"in o)throw Tc(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[u,c]=a.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===u)throw Tc(t,"credential-already-in-use",o);if("EMAIL_EXISTS"===u)throw Tc(t,"email-already-in-use",o);if("USER_DISABLED"===u)throw Tc(t,"user-disabled",o);const l=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw AP(t,l,c);mn(t,l)}}catch(i){if(i instanceof or)throw i;mn(t,"network-request-failed")}})).apply(this,arguments)}function NP(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?function pI(t,e){Ai(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}(t.config,i):`${t.config.apiScheme}://${i}`}class gJ{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(br(this.auth,"network-request-failed")),pJ.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Tc(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=br(t,e,r);return i.customData._tokenResponse=n,i}function _I(){return(_I=m(function*(t,e){return yt(t,"POST","/v1/accounts:delete",e)})).apply(this,arguments)}function _J(t,e){return wI.apply(this,arguments)}function wI(){return(wI=m(function*(t,e){return yt(t,"POST","/v1/accounts:lookup",e)})).apply(this,arguments)}function Sc(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function II(){return(II=m(function*(t,e=!1){const n=qn(t),r=yield n.getIdToken(e),i=yf(r);A(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s="object"==typeof i.firebase?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:Sc(EI(i.auth_time)),issuedAtTime:Sc(EI(i.iat)),expirationTime:Sc(EI(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})).apply(this,arguments)}function EI(t){return 1e3*Number(t)}function yf(t){const[e,n,r]=t.split(".");if(void 0===e||void 0===n||void 0===r)return mf("JWT malformed, contained fewer than 3 sections"),null;try{const i=Jh(n);return i?JSON.parse(i):(mf("Failed to decode base64 JWT payload"),null)}catch(i){return mf("Caught error parsing JWT payload as JSON",i?.toString()),null}}function si(t,e){return DI.apply(this,arguments)}function DI(){return(DI=m(function*(t,e,n=!1){if(n)return e;try{return yield e}catch(r){throw r instanceof or&&IJ(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})).apply(this,arguments)}function IJ({code:t}){return"auth/user-disabled"===t||"auth/user-token-expired"===t}class EJ{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),r}{this.errorBackoff=3e4;const i=(null!==(n=this.user.stsTokenManager.expirationTime)&&void 0!==n?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){var n=this;if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(m(function*(){yield n.iteration()}),r)}iteration(){var e=this;return m(function*(){try{yield e.user.getIdToken(!0)}catch(n){return void("auth/network-request-failed"===n?.code&&e.schedule(!0))}e.schedule()})()}}class OP{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Sc(this.lastLoginAt),this.creationTime=Sc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Ac(t){return bI.apply(this,arguments)}function bI(){return(bI=m(function*(t){var e;const n=t.auth,r=yield t.getIdToken(),i=yield si(t,_J(n,{idToken:r}));A(i?.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=null!==(e=s.providerUserInfo)&&void 0!==e&&e.length?CJ(s.providerUserInfo):[],a=bJ(t.providerData,o),l=!!t.isAnonymous&&!(t.email&&s.passwordHash||a?.length),d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new OP(s.createdAt,s.lastLoginAt),isAnonymous:l};Object.assign(t,d)})).apply(this,arguments)}function CI(){return(CI=m(function*(t){const e=qn(t);yield Ac(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})).apply(this,arguments)}function bJ(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function CJ(t){return t.map(e=>{var{providerId:n}=e,r=VT(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function TI(){return(TI=m(function*(t,e){const n=yield RP(t,{},m(function*(){const r=cO({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=NP(t,i,"/v1/token",`key=${s}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",kP.fetch()(o,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})).apply(this,arguments)}class xc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){A(e.idToken,"internal-error"),A(typeof e.idToken<"u","internal-error"),A(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):function wJ(t){const e=yf(t);return A(e,"internal-error"),A(typeof e.exp<"u","internal-error"),A(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}getToken(e,n=!1){var r=this;return m(function*(){return A(!r.accessToken||r.refreshToken,e,"user-token-expired"),n||!r.accessToken||r.isExpired?r.refreshToken?(yield r.refresh(e,r.refreshToken),r.accessToken):null:r.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,n){var r=this;return m(function*(){const{accessToken:i,refreshToken:s,expiresIn:o}=yield function TJ(t,e){return TI.apply(this,arguments)}(e,n);r.updateTokensAndExpiration(i,s,Number(o))})()}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*r}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new xc;return r&&(A("string"==typeof r,"internal-error",{appName:e}),o.refreshToken=r),i&&(A("string"==typeof i,"internal-error",{appName:e}),o.accessToken=i),s&&(A("number"==typeof s,"internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new xc,this.toJSON())}_performRefresh(){return Cr("not implemented")}}function xi(t,e){A("string"==typeof t||typeof t>"u","internal-error",{appName:e})}class xs{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=VT(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new EJ(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new OP(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){var n=this;return m(function*(){const r=yield si(n,n.stsTokenManager.getToken(n.auth,e));return A(r,n.auth,"internal-error"),n.accessToken!==r&&(n.accessToken=r,yield n.auth._persistUserIfCurrent(n),n.auth._notifyListenersIfCurrent(n)),r})()}getIdTokenResult(e){return function vJ(t){return II.apply(this,arguments)}(this,e)}reload(){return function DJ(t){return CI.apply(this,arguments)}(this)}_assign(e){this!==e&&(A(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){return new xs(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(e){A(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){var r=this;return m(function*(){let i=!1;e.idToken&&e.idToken!==r.stsTokenManager.accessToken&&(r.stsTokenManager.updateFromServerResponse(e),i=!0),n&&(yield Ac(r)),yield r.auth._persistUserIfCurrent(r),i&&r.auth._notifyListenersIfCurrent(r)})()}delete(){var e=this;return m(function*(){const n=yield e.getIdToken();return yield si(e,function mJ(t,e){return _I.apply(this,arguments)}(e.auth,{idToken:n})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,u,c,l;const d=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,f=null!==(s=n.phoneNumber)&&void 0!==s?s:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,g=null!==(a=n.tenantId)&&void 0!==a?a:void 0,y=null!==(u=n._redirectEventId)&&void 0!==u?u:void 0,I=null!==(c=n.createdAt)&&void 0!==c?c:void 0,D=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,{uid:v,emailVerified:R,isAnonymous:V,providerData:B,stsTokenManager:et}=n;A(v&&et,e,"internal-error");const so=xc.fromJSON(this.name,et);A("string"==typeof v,e,"internal-error"),xi(d,e.name),xi(h,e.name),A("boolean"==typeof R,e,"internal-error"),A("boolean"==typeof V,e,"internal-error"),xi(f,e.name),xi(p,e.name),xi(g,e.name),xi(y,e.name),xi(I,e.name),xi(D,e.name);const ST=new xs({uid:v,auth:e,email:h,emailVerified:R,displayName:d,isAnonymous:V,photoURL:p,phoneNumber:f,tenantId:g,stsTokenManager:so,createdAt:I,lastLoginAt:D});return B&&Array.isArray(B)&&(ST.providerData=B.map(pae=>Object.assign({},pae))),y&&(ST._redirectEventId=y),ST}static _fromIdTokenResponse(e,n,r=!1){return m(function*(){const i=new xc;i.updateFromServerResponse(n);const s=new xs({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield Ac(s),s})()}}const PP=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return m(function*(){return!0})()}_set(n,r){var i=this;return m(function*(){i.storage[n]=r})()}_get(n){var r=this;return m(function*(){const i=r.storage[n];return void 0===i?null:i})()}_remove(n){var r=this;return m(function*(){delete r.storage[n]})()}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})();function _f(t,e,n){return`firebase:${t}:${e}:${n}`}class pa{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=_f(this.userKey,i.apiKey,s),this.fullPersistenceKey=_f("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return m(function*(){const n=yield e.persistence._get(e.fullUserKey);return n?xs._fromJSON(e.auth,n):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var n=this;return m(function*(){if(n.persistence===e)return;const r=yield n.getCurrentUser();return yield n.removeCurrentUser(),n.persistence=e,r?n.setCurrentUser(r):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return m(function*(){if(!n.length)return new pa(ri(PP),e,r);const i=(yield Promise.all(n.map(function(){var c=m(function*(l){if(yield l._isAvailable())return l});return function(l){return c.apply(this,arguments)}}()))).filter(c=>c);let s=i[0]||ri(PP);const o=_f(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const l=yield c._get(o);if(l){const d=xs._fromJSON(e,l);c!==s&&(a=d),s=c;break}}catch{}const u=i.filter(c=>c._shouldAllowMigration);return s._shouldAllowMigration&&u.length?(s=u[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(n.map(function(){var c=m(function*(l){if(l!==s)try{yield l._remove(o)}catch{}});return function(l){return c.apply(this,arguments)}}())),new pa(s,e,r)):new pa(s,e,r)})()}}function FP(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(function UP(t=kn()){return/iemobile/i.test(t)}(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(function LP(t=kn()){return/firefox\//i.test(t)}(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(function $P(t=kn()){return/blackberry/i.test(t)}(e))return"Blackberry";if(function jP(t=kn()){return/webos/i.test(t)}(e))return"Webos";if(function SI(t=kn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}(e))return"Safari";if((e.includes("chrome/")||function VP(t=kn()){return/crios\//i.test(t)}(e))&&!e.includes("edge/"))return"Chrome";if(function BP(t=kn()){return/android/i.test(t)}(e))return"Android";{const r=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===r?.length)return r[1]}return"Other"}function GP(t,e=[]){let n;switch(t){case"Browser":n=FP(kn());break;case"Worker":n=`${FP(kn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${cf}/${r}`}class xJ{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{o(e(s))}catch(u){a(u)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){var n=this;return m(function*(){if(n.auth.currentUser===e)return;const r=[];try{for(const i of n.queue)yield i(e),i.onAbort&&r.push(i.onAbort)}catch(i){r.reverse();for(const s of r)try{s()}catch{}throw n.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}})()}}class MJ{constructor(e,n,r){this.app=e,this.heartbeatServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new HP(this),this.idTokenSubscription=new HP(this),this.beforeStateQueue=new xJ(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=TP,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,n){var r=this;return n&&(this._popupRedirectResolver=ri(n)),this._initializationPromise=this.queue(m(function*(){var i,s;if(!r._deleted&&(r.persistenceManager=yield pa.create(r,e),!r._deleted)){if(null!==(i=r._popupRedirectResolver)&&void 0!==i&&i._shouldInitProactively)try{yield r._popupRedirectResolver._initialize(r)}catch{}yield r.initializeCurrentUser(n),r.lastNotifiedUid=(null===(s=r.currentUser)||void 0===s?void 0:s.uid)||null,!r._deleted&&(r._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return m(function*(){if(e._deleted)return;const n=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||n){if(e.currentUser&&n&&e.currentUser.uid===n.uid)return e._currentUser._assign(n),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(n,!0)}})()}initializeCurrentUser(e){var n=this;return m(function*(){var r;const i=yield n.assertedPersistence.getCurrentUser();let s=i,o=!1;if(e&&n.config.authDomain){yield n.getOrInitRedirectPersistenceManager();const a=null===(r=n.redirectUser)||void 0===r?void 0:r._redirectEventId,u=s?._redirectEventId,c=yield n.tryRedirectSignIn(e);(!a||a===u)&&c?.user&&(s=c.user,o=!0)}if(!s)return n.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{yield n.beforeStateQueue.runMiddleware(s)}catch(a){s=i,n._popupRedirectResolver._overrideRedirectResult(n,()=>Promise.reject(a))}return s?n.reloadAndSetCurrentUserOrClear(s):n.directlySetCurrentUser(null)}return A(n._popupRedirectResolver,n,"argument-error"),yield n.getOrInitRedirectPersistenceManager(),n.redirectUser&&n.redirectUser._redirectEventId===s._redirectEventId?n.directlySetCurrentUser(s):n.reloadAndSetCurrentUserOrClear(s)})()}tryRedirectSignIn(e){var n=this;return m(function*(){let r=null;try{r=yield n._popupRedirectResolver._completeRedirectFn(n,e,!0)}catch{yield n._setRedirectUser(null)}return r})()}reloadAndSetCurrentUserOrClear(e){var n=this;return m(function*(){try{yield Ac(e)}catch(r){if("auth/network-request-failed"!==r?.code)return n.directlySetCurrentUser(null)}return n.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function hJ(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}()}_delete(){var e=this;return m(function*(){e._deleted=!0})()}updateCurrentUser(e){var n=this;return m(function*(){const r=e?qn(e):null;return r&&A(r.auth.config.apiKey===n.config.apiKey,n,"invalid-user-token"),n._updateCurrentUser(r&&r._clone(n))})()}_updateCurrentUser(e,n=!1){var r=this;return m(function*(){if(!r._deleted)return e&&A(r.tenantId===e.tenantId,r,"tenant-id-mismatch"),n||(yield r.beforeStateQueue.runMiddleware(e)),r.queue(m(function*(){yield r.directlySetCurrentUser(e),r.notifyAuthListeners()}))})()}signOut(){var e=this;return m(function*(){return yield e.beforeStateQueue.runMiddleware(null),(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null,!0)})()}setPersistence(e){var n=this;return this.queue(m(function*(){yield n.assertedPersistence.setPersistence(ri(e))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Dr("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,n){var r=this;return m(function*(){const i=yield r.getOrInitRedirectPersistenceManager(n);return null===e?i.removeCurrentUser():i.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var n=this;return m(function*(){if(!n.redirectPersistenceManager){const r=e&&ri(e)||n._popupRedirectResolver;A(r,n,"argument-error"),n.redirectPersistenceManager=yield pa.create(n,[ri(r._redirectPersistence)],"redirectUser"),n.redirectUser=yield n.redirectPersistenceManager.getCurrentUser()}return n.redirectPersistenceManager})()}_redirectUserForId(e){var n=this;return m(function*(){var r,i;return n._isInitialized&&(yield n.queue(m(function*(){}))),(null===(r=n._currentUser)||void 0===r?void 0:r._redirectEventId)===e?n._currentUser:(null===(i=n.redirectUser)||void 0===i?void 0:i._redirectEventId)===e?n.redirectUser:null})()}_persistUserIfCurrent(e){var n=this;return m(function*(){if(e===n.currentUser)return n.queue(m(function*(){return n.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=null!==(n=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==n?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s="function"==typeof n?n:n.next.bind(n),o=this._isInitialized?Promise.resolve():this._initializationPromise;return A(o,this,"internal-error"),o.then(()=>s(this.currentUser)),"function"==typeof n?e.addObserver(n,r,i):e.addObserver(n)}directlySetCurrentUser(e){var n=this;return m(function*(){n.currentUser&&n.currentUser!==e&&n._currentUser._stopProactiveRefresh(),e&&n.isProactiveRefreshEnabled&&e._startProactiveRefresh(),n.currentUser=e,e?yield n.assertedPersistence.setCurrentUser(e):yield n.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return A(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=GP(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return m(function*(){var n;const r={"X-Client-Version":e.clientVersion};e.app.options.appId&&(r["X-Firebase-gmpid"]=e.app.options.appId);const i=yield null===(n=e.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===n?void 0:n.getHeartbeatsHeader();return i&&(r["X-Firebase-Client"]=i),r})()}}class HP{constructor(e){this.auth=e,this.observer=null,this.addObserver=function nQ(t,e){const n=new rQ(t,e);return n.subscribe.bind(n)}(n=>this.observer=n)}get next(){return A(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}(function cF(t){return`__${t}${Math.floor(1e6*Math.random())}`})("rcb"),new Cc(3e4,6e4),new Cc(2e3,1e4),new Cc(3e4,6e4),new Cc(5e3,15e3);var IF="@firebase/auth";class Ete{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var n=this;return m(function*(){return n.assertAuthConfigured(),yield n.auth._initializationPromise,n.auth.currentUser?{accessToken:yield n.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){A(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}ef(),function bte(t){sn(new Gt("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),{apiKey:s,authDomain:o}=r.options;return((a,u)=>{A(s&&!s.includes(":"),"invalid-api-key",{appName:a.name}),A(!o?.includes(":"),"argument-error",{appName:a.name});const c={apiKey:s,authDomain:o,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:GP(t)},l=new MJ(a,u,c);return function lJ(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(ri);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}(l,n),l})(r,i)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),sn(new Gt("auth-internal",e=>{const n=function yn(t){return qn(t)}(e.getProvider("auth").getImmediate());return new Ete(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Qe(IF,"0.21.1",function Dte(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(t)),Qe(IF,"0.21.1","esm2017")}("Browser");class CF{constructor(){return cI("auth")}}const cD=new Map,TF={activated:!1,tokenObservers:[]},kte={initialized:!1,enabled:!1};function Mt(t){return cD.get(t)||Object.assign({},TF)}function Mf(){return kte}class Lte{constructor(e,n,r,i,s){if(this.operation=e,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=i,i>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var n=this;return m(function*(){n.stop();try{n.pending=new tf,yield function Vte(t){return new Promise(e=>{setTimeout(e,t)})}(n.getNextRun(e)),n.pending.resolve(),yield n.pending.promise,n.pending=new tf,yield n.operation(),n.pending.resolve(),yield n.pending.promise,n.process(!0).catch(()=>{})}catch(r){n.retryPolicy(r)?n.process(!1).catch(()=>{}):n.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}}const on=new Dr("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function AF(t){if(!Mt(t).activated)throw on.create("use-before-activation",{appName:t.name})}function hD(t,e){return fD.apply(this,arguments)}function fD(){return fD=m(function*({url:t,body:e},n){const r={"Content-Type":"application/json"},i=n.getImmediate({optional:!0});if(i){const d=yield i.getHeartbeatsHeader();d&&(r["X-Firebase-Client"]=d)}const s={method:"POST",body:JSON.stringify(e),headers:r};let o,a;try{o=yield fetch(t,s)}catch(d){throw on.create("fetch-network-error",{originalErrorMessage:d?.message})}if(200!==o.status)throw on.create("fetch-status-error",{httpStatus:o.status});try{a=yield o.json()}catch(d){throw on.create("fetch-parse-error",{originalErrorMessage:d?.message})}const u=a.ttl.match(/^([\d.]+)(s)$/);if(!u||!u[2]||isNaN(Number(u[1])))throw on.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${a.ttl}`});const c=1e3*Number(u[1]),l=Date.now();return{token:a.token,expireTimeMillis:l+c,issuedAtTimeMillis:l}}),fD.apply(this,arguments)}function jte(t,e){const{projectId:n,appId:r,apiKey:i}=t.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${n}/apps/${r}:exchangeDebugToken?key=${i}`,body:{debug_token:e}}}const Oc="firebase-app-check-store";let Nf=null;function MF(){return Nf||(Nf=new Promise((t,e)=>{try{const n=indexedDB.open("firebase-app-check-database",1);n.onsuccess=r=>{t(r.target.result)},n.onerror=r=>{var i;e(on.create("storage-open",{originalErrorMessage:null===(i=r.target.error)||void 0===i?void 0:i.message}))},n.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(Oc,{keyPath:"compositeKey"})}}catch(n){e(on.create("storage-open",{originalErrorMessage:n?.message}))}}),Nf)}function pD(){return pD=m(function*(t,e){const r=(yield MF()).transaction(Oc,"readwrite"),s=r.objectStore(Oc).put({compositeKey:t,value:e});return new Promise((o,a)=>{s.onsuccess=u=>{o()},r.onerror=u=>{var c;a(on.create("storage-set",{originalErrorMessage:null===(c=u.target.error)||void 0===c?void 0:c.message}))}})}),pD.apply(this,arguments)}const Pc=new aa("@firebase/app-check");function yD(t,e){return vs()?function zte(t,e){return function kF(t,e){return pD.apply(this,arguments)}(function NF(t){return`${t.options.appId}-${t.name}`}(t),e)}(t,e).catch(n=>{Pc.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}function OF(){return Mf().enabled}function PF(){return vD.apply(this,arguments)}function vD(){return vD=m(function*(){const t=Mf();if(t.enabled&&t.token)return t.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),vD.apply(this,arguments)}const Xte={error:"UNKNOWN_ERROR"};function Jte(t){return av.encodeString(JSON.stringify(t),!1)}function Of(t){return wD.apply(this,arguments)}function wD(){return wD=m(function*(t,e=!1){const n=t.app;AF(n);const r=Mt(n);let s,i=r.token;if(i&&!ga(i)&&(r.token=void 0,i=void 0),!i){const u=yield r.cachedTokenPromise;u&&(ga(u)?i=u:yield yD(n,void 0))}if(!e&&i&&ga(i))return{token:i.token};let a,o=!1;if(OF()){r.exchangeTokenPromise||(r.exchangeTokenPromise=hD(jte(n,yield PF()),t.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),o=!0);const u=yield r.exchangeTokenPromise;return yield yD(n,u),r.token=u,{token:u.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),o=!0),i=yield Mt(n).exchangeTokenPromise}catch(u){"appCheck/throttled"===u.code?Pc.warn(u.message):Pc.error(u),s=u}return i?s?a=ga(i)?{token:i.token,internalError:s}:VF(s):(a={token:i.token},r.token=i,yield yD(n,i)):a=VF(s),o&&LF(n,a),a}),wD.apply(this,arguments)}function ED(t,e){const n=Mt(t),r=n.tokenObservers.filter(i=>i.next!==e);0===r.length&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=r}function FF(t){const{app:e}=t,n=Mt(e);let r=n.tokenRefresher;r||(r=function ene(t){const{app:e}=t;return new Lte(m(function*(){let r;if(r=Mt(e).token?yield Of(t,!0):yield Of(t),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const n=Mt(e);if(n.token){let r=n.token.issuedAtTimeMillis+.5*(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,n.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},3e4,96e4)}(t),n.tokenRefresher=r),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function LF(t,e){const n=Mt(t).tokenObservers;for(const r of n)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}function ga(t){return t.expireTimeMillis-Date.now()>0}function VF(t){return{token:Jte(Xte),error:t}}class tne{constructor(e,n){this.app=e,this.heartbeatServiceProvider=n}_delete(){const{tokenObservers:e}=Mt(this.app);for(const n of e)ED(this.app,n.next);return Promise.resolve()}}const zF="app-check-internal";!function gne(){sn(new Gt("app-check",t=>function nne(t,e){return new tne(t,e)}(t.getProvider("app").getImmediate(),t.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider(zF).initialize()})),sn(new Gt(zF,t=>function rne(t){return{getToken:e=>Of(t,e),addTokenListener:e=>function ID(t,e,n,r){const{app:i}=t,s=Mt(i);if(s.tokenObservers=[...s.tokenObservers,{next:n,error:r,type:e}],s.token&&ga(s.token)){const a=s.token;Promise.resolve().then(()=>{n({token:a.token}),FF(t)}).catch(()=>{})}s.cachedTokenPromise.then(()=>FF(t))}(t,"INTERNAL",e),removeTokenListener:e=>ED(t.app,e)}}(t.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),Qe("@firebase/app-check","0.6.1")}();class KF{constructor(){return cI("app-check")}}typeof window<"u"&&window;var F,wne=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ai={},SD=SD||{},Q=wne||self;function Ff(){}function Lf(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function Fc(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var AD="closure_uid_"+(1e9*Math.random()>>>0),Ene=0;function Dne(t,e,n){return t.call.apply(t.bind,arguments)}function bne(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function Ht(t,e,n){return(Ht=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Dne:bne).apply(null,arguments)}function Vf(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function kt(t,e){function n(){}n.prototype=e.prototype,t.X=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Wb=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function Mi(){this.s=this.s,this.o=this.o}Mi.prototype.s=!1,Mi.prototype.na=function(){!this.s&&(this.s=!0,this.M(),0)&&function Ine(t){Object.prototype.hasOwnProperty.call(t,AD)&&t[AD]||(t[AD]=++Ene)}(this)},Mi.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const QF=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function xD(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function YF(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(Lf(r)){const i=t.length||0,s=r.length||0;t.length=i+s;for(let o=0;o<s;o++)t[i+o]=r[o]}else t.push(r)}}function qt(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}qt.prototype.h=function(){this.defaultPrevented=!0};var Tne=function(){if(!Q.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{Q.addEventListener("test",Ff,e),Q.removeEventListener("test",Ff,e)}catch{}return t}();function Uf(t){return/^[\s\xa0]*$/.test(t)}var ZF=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function MD(t,e){return t<e?-1:t>e?1:0}function Bf(){var t=Q.navigator;return t&&(t=t.userAgent)?t:""}function Tr(t){return-1!=Bf().indexOf(t)}function kD(t){return kD[" "](t),t}kD[" "]=Ff;var $f,Ane=Tr("Opera"),ma=Tr("Trident")||Tr("MSIE"),XF=Tr("Edge"),RD=XF||ma,JF=Tr("Gecko")&&!(-1!=Bf().toLowerCase().indexOf("webkit")&&!Tr("Edge"))&&!(Tr("Trident")||Tr("MSIE"))&&!Tr("Edge"),xne=-1!=Bf().toLowerCase().indexOf("webkit")&&!Tr("Edge");function eL(){var t=Q.document;return t?t.documentMode:void 0}e:{var ND="",OD=function(){var t=Bf();return JF?/rv:([^\);]+)(\)|;)/.exec(t):XF?/Edge\/([\d\.]+)/.exec(t):ma?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t):xne?/WebKit\/(\S+)/.exec(t):Ane?/(?:Version)[ \/]?(\S+)/.exec(t):void 0}();if(OD&&(ND=OD?OD[1]:""),ma){var PD=eL();if(null!=PD&&PD>parseFloat(ND)){$f=String(PD);break e}}$f=ND}var Mne={};var Rne=Q.document&&ma&&(eL()||parseInt($f,10))||void 0;function Lc(t,e){if(qt.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(JF){e:{try{kD(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:Nne[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Lc.X.h.call(this)}}kt(Lc,qt);var Nne={2:"touch",3:"pen",4:"mouse"};Lc.prototype.h=function(){Lc.X.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Vc="closure_listenable_"+(1e6*Math.random()|0),One=0;function Pne(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ha=i,this.key=++One,this.ba=this.ea=!1}function jf(t){t.ba=!0,t.listener=null,t.proxy=null,t.src=null,t.ha=null}function LD(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function nL(t){const e={};for(const n in t)e[n]=t[n];return e}const rL="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function iL(t,e){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)t[n]=r[n];for(let s=0;s<rL.length;s++)n=rL[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Gf(t){this.src=t,this.g={},this.h=0}function VD(t,e){var n=e.type;if(n in t.g){var s,r=t.g[n],i=QF(r,e);(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(jf(e),0==t.g[n].length&&(delete t.g[n],t.h--))}}function UD(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.ba&&s.listener==e&&s.capture==!!n&&s.ha==r)return i}return-1}Gf.prototype.add=function(t,e,n,r,i){var s=t.toString();(t=this.g[s])||(t=this.g[s]=[],this.h++);var o=UD(t,e,r,i);return-1<o?(e=t[o],n||(e.ea=!1)):((e=new Pne(e,this.src,s,!!r,i)).ea=n,t.push(e)),e};var BD="closure_lm_"+(1e6*Math.random()|0),$D={};function sL(t,e,n,r,i){if(r&&r.once)return aL(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)sL(t,e[s],n,r,i);return null}return n=qD(n),t&&t[Vc]?t.N(e,n,Fc(r)?!!r.capture:!!r,i):oL(t,e,n,!1,r,i)}function oL(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=Fc(i)?!!i.capture:!!i,a=GD(t);if(a||(t[BD]=a=new Gf(t)),(n=a.add(e,n,r,o,s)).proxy)return n;if(r=function Fne(){const e=Lne;return function t(n){return e.call(t.src,t.listener,n)}}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)Tne||(i=o),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(cL(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function aL(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)aL(t,e[s],n,r,i);return null}return n=qD(n),t&&t[Vc]?t.O(e,n,Fc(r)?!!r.capture:!!r,i):oL(t,e,n,!0,r,i)}function uL(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)uL(t,e[s],n,r,i);else r=Fc(r)?!!r.capture:!!r,n=qD(n),t&&t[Vc]?(t=t.i,(e=String(e).toString())in t.g&&-1<(n=UD(s=t.g[e],n,r,i))&&(jf(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete t.g[e],t.h--))):t&&(t=GD(t))&&(e=t.g[e.toString()],t=-1,e&&(t=UD(e,n,r,i)),(n=-1<t?e[t]:null)&&jD(n))}function jD(t){if("number"!=typeof t&&t&&!t.ba){var e=t.src;if(e&&e[Vc])VD(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(cL(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=GD(e))?(VD(n,t),0==n.h&&(n.src=null,e[BD]=null)):jf(t)}}}function cL(t){return t in $D?$D[t]:$D[t]="on"+t}function Lne(t,e){if(t.ba)t=!0;else{e=new Lc(e,this);var n=t.listener,r=t.ha||t.src;t.ea&&jD(t),t=n.call(r,e)}return t}function GD(t){return(t=t[BD])instanceof Gf?t:null}var HD="__closure_events_fn_"+(1e9*Math.random()>>>0);function qD(t){return"function"==typeof t?t:(t[HD]||(t[HD]=function(e){return t.handleEvent(e)}),t[HD])}function _t(){Mi.call(this),this.i=new Gf(this),this.P=this,this.I=null}function Rt(t,e){var n,r=t.I;if(r)for(n=[];r;r=r.I)n.push(r);if(t=t.P,r=e.type||e,"string"==typeof e)e=new qt(e,t);else if(e instanceof qt)e.target=e.target||t;else{var i=e;iL(e=new qt(r,t),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=Hf(o,r,!0,e)&&i}if(i=Hf(o=e.g=t,r,!0,e)&&i,i=Hf(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)i=Hf(o=e.g=n[s],r,!1,e)&&i}function Hf(t,e,n,r){if(!(e=t.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.ba&&o.capture==n){var a=o.listener,u=o.ha||o.src;o.ea&&VD(t.i,o),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}kt(_t,Mi),_t.prototype[Vc]=!0,_t.prototype.removeEventListener=function(t,e,n,r){uL(this,t,e,n,r)},_t.prototype.M=function(){if(_t.X.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)jf(n[r]);delete t.g[e],t.h--}}this.I=null},_t.prototype.N=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)},_t.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};var zD=Q.JSON.stringify;function Vne(){var t=hL;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var WD,lL=new class{constructor(t,e){this.i=t,this.j=e,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}(()=>new Bne,t=>t.reset());class Bne{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function $ne(t){Q.setTimeout(()=>{throw t},0)}function dL(t,e){WD||function jne(){var t=Q.Promise.resolve(void 0);WD=function(){t.then(Gne)}}(),KD||(WD(),KD=!0),hL.add(t,e)}var KD=!1,hL=new class Une{constructor(){this.h=this.g=null}add(e,n){const r=lL.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}};function Gne(){for(var t;t=Vne();){try{t.h.call(t.g)}catch(n){$ne(n)}var e=lL;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}KD=!1}function qf(t,e){_t.call(this),this.h=t||1,this.g=e||Q,this.j=Ht(this.lb,this),this.l=Date.now()}function QD(t){t.ca=!1,t.R&&(t.g.clearTimeout(t.R),t.R=null)}function YD(t,e,n){if("function"==typeof t)n&&(t=Ht(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=Ht(t.handleEvent,t)}return 2147483647<Number(e)?-1:Q.setTimeout(t,e||0)}function fL(t){t.g=YD(()=>{t.g=null,t.i&&(t.i=!1,fL(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}kt(qf,_t),(F=qf.prototype).ca=!1,F.R=null,F.lb=function(){if(this.ca){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-t):(this.R&&(this.g.clearTimeout(this.R),this.R=null),Rt(this,"tick"),this.ca&&(QD(this),this.start()))}},F.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},F.M=function(){qf.X.M.call(this),QD(this),delete this.g};class Hne extends Mi{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:fL(this)}M(){super.M(),this.g&&(Q.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Uc(t){Mi.call(this),this.h=t,this.g={}}kt(Uc,Mi);var pL=[];function gL(t,e,n,r){Array.isArray(n)||(n&&(pL[0]=n.toString()),n=pL);for(var i=0;i<n.length;i++){var s=sL(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function mL(t){LD(t.g,function(e,n){this.g.hasOwnProperty(n)&&jD(e)},t),t.g={}}function zf(){this.g=!0}function ya(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function Kne(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return zD(n)}catch{return e}}(t,n)+(r?" "+r:"")})}Uc.prototype.M=function(){Uc.X.M.call(this),mL(this)},Uc.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},zf.prototype.Aa=function(){this.g=!1},zf.prototype.info=function(){};var Ns={},yL=null;function Wf(){return yL=yL||new _t}function _L(t){qt.call(this,Ns.Pa,t)}function Bc(t){const e=Wf();Rt(e,new _L(e))}function vL(t,e){qt.call(this,Ns.STAT_EVENT,t),this.stat=e}function an(t){const e=Wf();Rt(e,new vL(e,t))}function wL(t,e){qt.call(this,Ns.Qa,t),this.size=e}function $c(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return Q.setTimeout(function(){t()},e)}Ns.Pa="serverreachability",kt(_L,qt),Ns.STAT_EVENT="statevent",kt(vL,qt),Ns.Qa="timingevent",kt(wL,qt);var Kf={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},IL={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function ZD(){}function DL(){}ZD.prototype.h=null;var eb,jc={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function XD(){qt.call(this,"d")}function JD(){qt.call(this,"c")}function Qf(){}function Gc(t,e,n,r){this.l=t,this.j=e,this.m=n,this.U=r||1,this.S=new Uc(this),this.O=Qne,this.T=new qf(t=RD?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new bL}function bL(){this.i=null,this.g="",this.h=!1}kt(XD,qt),kt(JD,qt),kt(Qf,ZD),Qf.prototype.g=function(){return new XMLHttpRequest},Qf.prototype.i=function(){return{}},eb=new Qf;var Qne=45e3,tb={},Yf={};function nb(t,e,n){t.K=1,t.v=ep(ui(e)),t.s=n,t.P=!0,CL(t,null)}function CL(t,e){t.F=Date.now(),Hc(t),t.A=ui(t.v);var n=t.A,r=t.U;Array.isArray(r)||(r=[String(r)]),PL(n.i,"t",r),t.C=0,n=t.l.H,t.h=new bL,t.g=sV(t.l,n?e:null,!t.s),0<t.N&&(t.L=new Hne(Ht(t.La,t,t.g),t.N)),gL(t.S,t.g,"readystatechange",t.ib),e=t.H?nL(t.H):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.da(t.A,t.u,t.s,e)):(t.u="GET",t.g.da(t.A,t.u,null,e)),Bc(),function qne(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),u=0;u<a.length;u++){var c=a[u].split("=");if(1<c.length){var l=c[0];c=c[1];var d=l.split("_");o=2<=d.length&&"type"==d[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+o})}(t.j,t.u,t.A,t.m,t.U,t.s)}function TL(t){return!!t.g&&"GET"==t.u&&2!=t.K&&t.l.Da}function SL(t,e,n){let i,r=!0;for(;!t.I&&t.C<n.length;){if(i=Yne(t,n),i==Yf){4==e&&(t.o=4,an(14),r=!1),ya(t.j,t.m,null,"[Incomplete Response]");break}if(i==tb){t.o=4,an(15),ya(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}ya(t.j,t.m,i,null),rb(t,i)}TL(t)&&i!=Yf&&i!=tb&&(t.h.g="",t.C=0),4!=e||0!=n.length||t.h.h||(t.o=1,an(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.$&&(t.$=!0,(e=t.l).g==t&&e.$&&!e.K&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+n.length),db(e),e.K=!0,an(11))):(ya(t.j,t.m,n,"[Invalid Chunked Response]"),Os(t),qc(t))}function Yne(t,e){var n=t.C,r=e.indexOf("\n",n);return-1==r?Yf:(n=Number(e.substring(n,r)),isNaN(n)?tb:(r+=1)+n>e.length?Yf:(e=e.substr(r,n),t.C=r+n,e))}function Hc(t){t.V=Date.now()+t.O,AL(t,t.O)}function AL(t,e){if(null!=t.B)throw Error("WatchDog timer not null");t.B=$c(Ht(t.gb,t),e)}function Zf(t){t.B&&(Q.clearTimeout(t.B),t.B=null)}function qc(t){0==t.l.G||t.I||tV(t.l,t)}function Os(t){Zf(t);var e=t.L;e&&"function"==typeof e.na&&e.na(),t.L=null,QD(t.T),mL(t.S),t.g&&(e=t.g,t.g=null,e.abort(),e.na())}function rb(t,e){try{var n=t.l;if(0!=n.G&&(n.g==t||ib(n.h,t)))if(!t.J&&ib(n.h,t)&&3==n.G){try{var r=n.Fa.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<t.F))break e;op(n),ip(n)}lb(n),an(18)}}else n.Ba=i[1],0<n.Ba-n.T&&37500>i[2]&&n.L&&0==n.A&&!n.v&&(n.v=$c(Ht(n.cb,n),6e3));if(1>=VL(n.h)&&n.ja){try{n.ja()}catch{}n.ja=void 0}}else Fs(n,11)}else if((t.J||n.g==t)&&op(n),!Uf(e))for(i=n.Fa.g.parse(e),e=0;e<i.length;e++){let c=i[e];if(n.T=c[0],c=c[1],2==n.G)if("c"==c[0]){n.I=c[1],n.ka=c[2];const l=c[3];null!=l&&(n.ma=l,n.j.info("VER="+n.ma));const d=c[4];null!=d&&(n.Ca=d,n.j.info("SVER="+n.Ca));const h=c[5];null!=h&&"number"==typeof h&&0<h&&(n.J=r=1.5*h,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;const f=t.g;if(f){const p=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(p){var s=r.h;s.g||-1==p.indexOf("spdy")&&-1==p.indexOf("quic")&&-1==p.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(sb(s,s.h),s.h=null))}if(r.D){const g=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;g&&(r.za=g,Re(r.F,r.D,g))}}n.G=3,n.l&&n.l.xa(),n.$&&(n.P=Date.now()-t.F,n.j.info("Handshake RTT: "+n.P+"ms"));var o=t;if((r=n).sa=iV(r,r.H?r.ka:null,r.V),o.J){UL(r.h,o);var a=o,u=r.J;u&&a.setTimeout(u),a.B&&(Zf(a),Hc(a)),r.g=o}else JL(r);0<n.i.length&&sp(n)}else"stop"!=c[0]&&"close"!=c[0]||Fs(n,7);else 3==n.G&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?Fs(n,7):cb(n):"noop"!=c[0]&&n.l&&n.l.wa(c),n.A=0)}Bc()}catch{}}function xL(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(Lf(t)||"string"==typeof t)Array.prototype.forEach.call(t,e,void 0);else for(var n=function Xne(t){if(t.oa&&"function"==typeof t.oa)return t.oa();if(!t.W||"function"!=typeof t.W){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(Lf(t)||"string"==typeof t){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}(t),r=function Zne(t){if(t.W&&"function"==typeof t.W)return t.W();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if("string"==typeof t)return t.split("");if(Lf(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}(F=Gc.prototype).setTimeout=function(t){this.O=t},F.ib=function(t){t=t.target;const e=this.L;e&&3==ci(t)?e.l():this.La(t)},F.La=function(t){try{if(t==this.g)e:{const l=ci(this.g);var e=this.g.Ea();if(this.g.aa(),!(3>l)&&(3!=l||RD||this.g&&(this.h.h||this.g.fa()||WL(this.g)))){this.I||4!=l||7==e||Bc(),Zf(this);var n=this.g.aa();this.Y=n;t:if(TL(this)){var r=WL(this.g);t="";var i=r.length,s=4==ci(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Os(this),qc(this);var o="";break t}this.h.i=new Q.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.fa();if(this.i=200==n,function zne(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+s+" "+o})}(this.j,this.u,this.A,this.m,this.U,l,n),this.i){if(this.Z&&!this.J){t:{if(this.g){var a,u=this.g;if((a=u.g?u.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Uf(a)){var c=a;break t}}c=null}if(!(n=c)){this.i=!1,this.o=3,an(12),Os(this),qc(this);break e}ya(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,rb(this,n)}this.P?(SL(this,l,o),RD&&this.i&&3==l&&(gL(this.S,this.T,"tick",this.hb),this.T.start())):(ya(this.j,this.m,o,null),rb(this,o)),4==l&&Os(this),this.i&&!this.I&&(4==l?tV(this.l,this):(this.i=!1,Hc(this)))}else 400==n&&0<o.indexOf("Unknown SID")?(this.o=3,an(12)):(this.o=0,an(13)),Os(this),qc(this)}}}catch{}},F.hb=function(){if(this.g){var t=ci(this.g),e=this.g.fa();this.C<e.length&&(Zf(this),SL(this,t,e),this.i&&4!=t&&Hc(this))}},F.cancel=function(){this.I=!0,Os(this)},F.gb=function(){this.B=null;const t=Date.now();0<=t-this.V?(function Wne(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(Bc(),an(17)),Os(this),this.o=2,qc(this)):AL(this,this.V-t)};var ML=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ps(t,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof Ps){this.h=void 0!==e?e:t.h,Xf(this,t.j),this.s=t.s,this.g=t.g,Jf(this,t.m),this.l=t.l,e=t.i;var n=new Kc;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),kL(this,n),this.o=t.o}else t&&(n=String(t).match(ML))?(this.h=!!e,Xf(this,n[1]||"",!0),this.s=zc(n[2]||""),this.g=zc(n[3]||"",!0),Jf(this,n[4]),this.l=zc(n[5]||"",!0),kL(this,n[6]||"",!0),this.o=zc(n[7]||"")):(this.h=!!e,this.i=new Kc(null,this.h))}function ui(t){return new Ps(t)}function Xf(t,e,n){t.j=n?zc(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Jf(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function kL(t,e,n){e instanceof Kc?(t.i=e,function sre(t,e){e&&!t.j&&(ki(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(NL(this,r),PL(this,i,n))},t)),t.j=e}(t.i,t.h)):(n||(e=Wc(e,rre)),t.i=new Kc(e,t.h))}function Re(t,e,n){t.i.set(e,n)}function ep(t){return Re(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function zc(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Wc(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,ere),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function ere(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Ps.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Wc(e,RL,!0),":");var n=this.g;return(n||"file"==e)&&(t.push("//"),(e=this.s)&&t.push(Wc(e,RL,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&t.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&t.push("/"),t.push(Wc(n,"/"==n.charAt(0)?nre:tre,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Wc(n,ire)),t.join("")};var RL=/[#\/\?@]/g,tre=/[#\?:]/g,nre=/[#\?]/g,rre=/[#\?@]/g,ire=/#/g;function Kc(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function ki(t){t.g||(t.g=new Map,t.h=0,t.i&&function Jne(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function NL(t,e){ki(t),e=_a(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function OL(t,e){return ki(t),e=_a(t,e),t.g.has(e)}function PL(t,e,n){NL(t,e),0<n.length&&(t.i=null,t.g.set(_a(t,e),xD(n)),t.h+=n.length)}function _a(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function FL(t){this.l=t||are,t=Q.PerformanceNavigationTiming?0<(t=Q.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(Q.g&&Q.g.Ga&&Q.g.Ga()&&Q.g.Ga().$b),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(F=Kc.prototype).add=function(t,e){ki(this),this.i=null,t=_a(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this},F.forEach=function(t,e){ki(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)},F.oa=function(){ki(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let s=0;s<i.length;s++)n.push(e[r])}return n},F.W=function(t){ki(this);let e=[];if("string"==typeof t)OL(this,t)&&(e=e.concat(this.g.get(_a(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e},F.set=function(t,e){return ki(this),this.i=null,OL(this,t=_a(this,t))&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this},F.get=function(t,e){return t&&0<(t=this.W(t)).length?String(t[0]):e},F.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const s=encodeURIComponent(String(r)),o=this.W(r);for(r=0;r<o.length;r++){var i=s;""!==o[r]&&(i+="="+encodeURIComponent(String(o[r]))),t.push(i)}}return this.i=t.join("&")};var are=10;function LL(t){return!!t.h||!!t.g&&t.g.size>=t.j}function VL(t){return t.h?1:t.g?t.g.size:0}function ib(t,e){return t.h?t.h==e:!!t.g&&t.g.has(e)}function sb(t,e){t.g?t.g.add(e):t.h=e}function UL(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}function BL(t){if(null!=t.h)return t.i.concat(t.h.D);if(null!=t.g&&0!==t.g.size){let e=t.i;for(const n of t.g.values())e=e.concat(n.D);return e}return xD(t.i)}function ob(){}function ure(){this.g=new ob}function cre(t,e,n){const r=n||"";try{xL(t,function(i,s){let o=i;Fc(i)&&(o=zD(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function tp(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function Qc(t){this.l=t.ac||null,this.j=t.jb||!1}function np(t,e){_t.call(this),this.D=t,this.u=e,this.m=void 0,this.readyState=ab,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}FL.prototype.cancel=function(){if(this.i=BL(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const t of this.g.values())t.cancel();this.g.clear()}},ob.prototype.stringify=function(t){return Q.JSON.stringify(t,void 0)},ob.prototype.parse=function(t){return Q.JSON.parse(t,void 0)},kt(Qc,ZD),Qc.prototype.g=function(){return new np(this.l,this.j)},Qc.prototype.i=function(t){return function(){return t}}({}),kt(np,_t);var ab=0;function $L(t){t.j.read().then(t.Ta.bind(t)).catch(t.ga.bind(t))}function Yc(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Zc(t)}function Zc(t){t.onreadystatechange&&t.onreadystatechange.call(t)}(F=np.prototype).open=function(t,e){if(this.readyState!=ab)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Zc(this)},F.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.D||Q).fetch(new Request(this.B,e)).then(this.Wa.bind(this),this.ga.bind(this))},F.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Yc(this)),this.readyState=ab},F.Wa=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Zc(this)),this.g&&(this.readyState=3,Zc(this),this.g)))if("arraybuffer"===this.responseType)t.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if(typeof Q.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;$L(this)}else t.text().then(this.Va.bind(this),this.ga.bind(this))},F.Ta=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Yc(this):Zc(this),3==this.readyState&&$L(this)}},F.Va=function(t){this.g&&(this.response=this.responseText=t,Yc(this))},F.Ua=function(t){this.g&&(this.response=t,Yc(this))},F.ga=function(){this.g&&Yc(this)},F.setRequestHeader=function(t,e){this.v.append(t,e)},F.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""},F.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)t.push((n=n.value)[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(np.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(t){this.m=t?"include":"same-origin"}});var dre=Q.JSON.parse;function He(t){_t.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=jL,this.K=this.L=!1}kt(He,_t);var jL="",hre=/^https?$/i,fre=["POST","PUT"];function GL(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,HL(t),rp(t)}function HL(t){t.D||(t.D=!0,Rt(t,"complete"),Rt(t,"error"))}function qL(t){if(t.h&&typeof SD<"u"&&(!t.C[1]||4!=ci(t)||2!=t.aa()))if(t.v&&4==ci(t))YD(t.Ha,0,t);else if(Rt(t,"readystatechange"),4==ci(t)){t.h=!1;try{const a=t.aa();e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=0===a){var i=String(t.H).match(ML)[1]||null;if(!i&&Q.self&&Q.self.location){var s=Q.self.location.protocol;i=s.substr(0,s.length-1)}r=!hre.test(i?i.toLowerCase():"")}n=r}if(n)Rt(t,"complete"),Rt(t,"success");else{t.m=6;try{var o=2<ci(t)?t.g.statusText:""}catch{o=""}t.j=o+" ["+t.aa()+"]",HL(t)}}finally{rp(t)}}}function rp(t,e){if(t.g){zL(t);const n=t.g,r=t.C[0]?Ff:null;t.g=null,t.C=null,e||Rt(t,"ready");try{n.onreadystatechange=r}catch{}}}function zL(t){t.g&&t.K&&(t.g.ontimeout=null),t.A&&(Q.clearTimeout(t.A),t.A=null)}function ci(t){return t.g?t.g.readyState:0}function WL(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.J){case jL:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function KL(t){let e="";return LD(t,function(n,r){e+=r,e+=":",e+=n,e+="\r\n"}),e}function ub(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=KL(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):Re(t,e,n))}function Xc(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function QL(t){this.Ca=0,this.i=[],this.j=new zf,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=Xc("failFast",!1,t),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=Xc("baseRetryDelayMs",5e3,t),this.bb=Xc("retryDelaySeedMs",1e4,t),this.$a=Xc("forwardChannelMaxRetries",2,t),this.ta=Xc("forwardChannelRequestTimeoutMs",2e4,t),this.ra=t&&t.xmlHttpFactory||void 0,this.Da=t&&t.Zb||!1,this.J=void 0,this.H=t&&t.supportsCrossDomainXhr||!1,this.I="",this.h=new FL(t&&t.concurrentRequestLimit),this.Fa=new ure,this.O=t&&t.fastHandshake||!1,this.N=t&&t.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=t&&t.Xb||!1,t&&t.Aa&&this.j.Aa(),t&&t.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&t&&t.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function cb(t){if(YL(t),3==t.G){var e=t.U++,n=ui(t.F);Re(n,"SID",t.I),Re(n,"RID",e),Re(n,"TYPE","terminate"),Jc(t,n),(e=new Gc(t,t.j,e,void 0)).K=2,e.v=ep(ui(n)),n=!1,Q.navigator&&Q.navigator.sendBeacon&&(n=Q.navigator.sendBeacon(e.v.toString(),"")),!n&&Q.Image&&((new Image).src=e.v,n=!0),n||(e.g=sV(e.l,null),e.g.da(e.v)),e.F=Date.now(),Hc(e)}rV(t)}function ip(t){t.g&&(db(t),t.g.cancel(),t.g=null)}function YL(t){ip(t),t.u&&(Q.clearTimeout(t.u),t.u=null),op(t),t.h.cancel(),t.m&&("number"==typeof t.m&&Q.clearTimeout(t.m),t.m=null)}function sp(t){LL(t.h)||t.m||(t.m=!0,dL(t.Ja,t),t.C=0)}function ZL(t,e){var n;n=e?e.m:t.U++;const r=ui(t.F);Re(r,"SID",t.I),Re(r,"RID",n),Re(r,"AID",t.T),Jc(t,r),t.o&&t.s&&ub(r,t.o,t.s),n=new Gc(t,t.j,n,t.C+1),null===t.o&&(n.H=t.s),e&&(t.i=e.D.concat(t.i)),e=XL(t,n,1e3),n.setTimeout(Math.round(.5*t.ta)+Math.round(.5*t.ta*Math.random())),sb(t.h,n),nb(n,r,e)}function Jc(t,e){t.ia&&LD(t.ia,function(n,r){Re(e,r,n)}),t.l&&xL({},function(n,r){Re(e,r,n)})}function XL(t,e,n){n=Math.min(t.i.length,n);var r=t.l?Ht(t.l.Ra,t.l,t):null;e:{var i=t.i;let s=-1;for(;;){const o=["count="+n];-1==s?0<n?(s=i[0].h,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let u=0;u<n;u++){let c=i[u].h;const l=i[u].g;if(c-=s,0>c)s=Math.max(0,i[u].h-100),a=!1;else try{cre(l,o,"req"+c+"_")}catch{r&&r(l)}}if(a){r=o.join("&");break e}}}return t=t.i.splice(0,n),e.D=t,r}function JL(t){t.g||t.u||(t.Z=1,dL(t.Ia,t),t.A=0)}function lb(t){return!(t.g||t.u||3<=t.A||(t.Z++,t.u=$c(Ht(t.Ia,t),nV(t,t.A)),t.A++,0))}function db(t){null!=t.B&&(Q.clearTimeout(t.B),t.B=null)}function eV(t){t.g=new Gc(t,t.j,"rpc",t.Z),null===t.o&&(t.g.H=t.s),t.g.N=0;var e=ui(t.sa);Re(e,"RID","rpc"),Re(e,"SID",t.I),Re(e,"CI",t.L?"0":"1"),Re(e,"AID",t.T),Re(e,"TYPE","xmlhttp"),Jc(t,e),t.o&&t.s&&ub(e,t.o,t.s),t.J&&t.g.setTimeout(t.J);var n=t.g;t=t.ka,n.K=1,n.v=ep(ui(e)),n.s=null,n.P=!0,CL(n,t)}function op(t){null!=t.v&&(Q.clearTimeout(t.v),t.v=null)}function tV(t,e){var n=null;if(t.g==e){op(t),db(t),t.g=null;var r=2}else{if(!ib(t.h,e))return;n=e.D,UL(t.h,e),r=1}if(0!=t.G)if(t.pa=e.Y,e.i)if(1==r){n=e.s?e.s.length:0,e=Date.now()-e.F;var i=t.C;Rt(r=Wf(),new wL(r,n)),sp(t)}else JL(t);else if(3==(i=e.o)||0==i&&0<t.pa||!(1==r&&function gre(t,e){return!(VL(t.h)>=t.h.j-(t.m?1:0)||(t.m?(t.i=e.D.concat(t.i),0):1==t.G||2==t.G||t.C>=(t.Za?0:t.$a)||(t.m=$c(Ht(t.Ja,t,e),nV(t,t.C)),t.C++,0)))}(t,e)||2==r&&lb(t)))switch(n&&0<n.length&&(e=t.h,e.i=e.i.concat(n)),i){case 1:Fs(t,5);break;case 4:Fs(t,10);break;case 3:Fs(t,6);break;default:Fs(t,2)}}function nV(t,e){let n=t.Xa+Math.floor(Math.random()*t.bb);return t.l||(n*=2),n*e}function Fs(t,e){if(t.j.info("Error code "+e),2==e){var n=null;t.l&&(n=null);var r=Ht(t.kb,t);n||(n=new Ps("//www.google.com/images/cleardot.gif"),Q.location&&"http"==Q.location.protocol||Xf(n,"https"),ep(n)),function lre(t,e){const n=new zf;if(Q.Image){const r=new Image;r.onload=Vf(tp,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Vf(tp,n,r,"TestLoadImage: error",!1,e),r.onabort=Vf(tp,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Vf(tp,n,r,"TestLoadImage: timeout",!1,e),Q.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(n.toString(),r)}else an(2);t.G=0,t.l&&t.l.va(e),rV(t),YL(t)}function rV(t){if(t.G=0,t.la=[],t.l){const e=BL(t.h);(0!=e.length||0!=t.i.length)&&(YF(t.la,e),YF(t.la,t.i),t.h.i.length=0,xD(t.i),t.i.length=0),t.l.ua()}}function iV(t,e,n){var r=n instanceof Ps?ui(n):new Ps(n,void 0);if(""!=r.g)e&&(r.g=e+"."+r.g),Jf(r,r.m);else{var i=Q.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new Ps(null,void 0);r&&Xf(s,r),e&&(s.g=e),i&&Jf(s,i),n&&(s.l=n),r=s}return e=t.za,(n=t.D)&&e&&Re(r,n,e),Re(r,"VER",t.ma),Jc(t,r),r}function sV(t,e,n){if(e&&!t.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new He(n&&t.Da&&!t.ra?new Qc({jb:!0}):t.ra)).Ka(t.H),e}function oV(){}function ap(){if(ma&&!(10<=Number(Rne)))throw Error("Environmental error: no available transport.")}function Nn(t,e){_t.call(this),this.g=new QL(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(t?t["X-WebChannel-Client-Profile"]=e.ya:t={"X-WebChannel-Client-Profile":e.ya}),this.g.S=t,(t=e&&e.Yb)&&!Uf(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Uf(e)&&(this.g.D=e,null!==(t=this.h)&&e in t&&e in(t=this.h)&&delete t[e]),this.j=new va(this)}function aV(t){XD.call(this);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=null!==e&&t in e?e[t]:void 0),this.data=e}else this.data=t}function uV(){JD.call(this),this.status=1}function va(t){this.g=t}(F=He.prototype).Ka=function(t){this.L=t},F.da=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+t);e=e?e.toUpperCase():"GET",this.H=t,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():eb.g(),this.C=function EL(t){return t.h||(t.h=t.i())}(this.u?this.u:eb),this.g.onreadystatechange=Ht(this.Ha,this);try{this.F=!0,this.g.open(e,String(t),!0),this.F=!1}catch(s){return void GL(this,s)}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const s of r.keys())n.set(s,r.get(s))}r=Array.from(n.keys()).find(s=>"content-type"==s.toLowerCase()),i=Q.FormData&&t instanceof Q.FormData,!(0<=QF(fre,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{zL(this),0<this.B&&((this.K=function pre(t){return ma&&function kne(){return function Sne(t){var e=Mne;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=t(9)}(function(){let t=0;const e=ZF(String($f)).split("."),n=ZF("9").split("."),r=Math.max(e.length,n.length);for(let o=0;0==t&&o<r;o++){var i=e[o]||"",s=n[o]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==i[0].length&&0==s[0].length)break;t=MD(0==i[1].length?0:parseInt(i[1],10),0==s[1].length?0:parseInt(s[1],10))||MD(0==i[2].length,0==s[2].length)||MD(i[2],s[2]),i=i[3],s=s[3]}while(0==t)}return 0<=t})}()&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Ht(this.qa,this)):this.A=YD(this.qa,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){GL(this,s)}},F.qa=function(){typeof SD<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Rt(this,"timeout"),this.abort(8))},F.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Rt(this,"complete"),Rt(this,"abort"),rp(this))},F.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),rp(this,!0)),He.X.M.call(this)},F.Ha=function(){this.s||(this.F||this.v||this.l?qL(this):this.fb())},F.fb=function(){qL(this)},F.aa=function(){try{return 2<ci(this)?this.g.status:-1}catch{return-1}},F.fa=function(){try{return this.g?this.g.responseText:""}catch{return""}},F.Sa=function(t){if(this.g){var e=this.g.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),dre(e)}},F.Ea=function(){return this.m},F.Oa=function(){return"string"==typeof this.j?this.j:String(this.j)},(F=QL.prototype).ma=8,F.G=1,F.Ja=function(t){if(this.m)if(this.m=null,1==this.G){if(!t){this.U=Math.floor(1e5*Math.random()),t=this.U++;const i=new Gc(this,this.j,t,void 0);let s=this.s;if(this.S&&(s?(s=nL(s),iL(s,this.S)):s=this.S),null!==this.o||this.N||(i.H=s,s=null),this.O)e:{for(var e=0,n=0;n<this.i.length;n++){var r=this.i[n];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=n;break e}if(4096===e||n===this.i.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=XL(this,i,e),Re(n=ui(this.F),"RID",t),Re(n,"CVER",22),this.D&&Re(n,"X-HTTP-Session-Id",this.D),Jc(this,n),s&&(this.N?e="headers="+encodeURIComponent(String(KL(s)))+"&"+e:this.o&&ub(n,this.o,s)),sb(this.h,i),this.Ya&&Re(n,"TYPE","init"),this.O?(Re(n,"$req",e),Re(n,"SID","null"),i.Z=!0,nb(i,n,null)):nb(i,n,e),this.G=2}}else 3==this.G&&(t?ZL(this,t):0==this.i.length||LL(this.h)||ZL(this))},F.Ia=function(){if(this.u=null,eV(this),this.$&&!(this.K||null==this.g||0>=this.P)){var t=2*this.P;this.j.info("BP detection timer enabled: "+t),this.B=$c(Ht(this.eb,this),t)}},F.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,an(10),ip(this),eV(this))},F.cb=function(){null!=this.v&&(this.v=null,ip(this),lb(this),an(19))},F.kb=function(t){t?(this.j.info("Successfully pinged google.com"),an(2)):(this.j.info("Failed to ping google.com"),an(1))},(F=oV.prototype).xa=function(){},F.wa=function(){},F.va=function(){},F.ua=function(){},F.Ra=function(){},ap.prototype.g=function(t,e){return new Nn(t,e)},kt(Nn,_t),Nn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var t=this.g,e=this.l,n=this.h||void 0;an(0),t.V=e,t.ia=n||{},t.L=t.Y,t.F=iV(t,null,t.V),sp(t)},Nn.prototype.close=function(){cb(this.g)},Nn.prototype.u=function(t){var e=this.g;if("string"==typeof t){var n={};n.__data__=t,t=n}else this.v&&((n={}).__data__=zD(t),t=n);e.i.push(new class{constructor(t,e){this.h=t,this.g=e}}(e.ab++,t)),3==e.G&&sp(e)},Nn.prototype.M=function(){this.g.l=null,delete this.j,cb(this.g),delete this.g,Nn.X.M.call(this)},kt(aV,XD),kt(uV,JD),kt(va,oV),va.prototype.xa=function(){Rt(this.g,"a")},va.prototype.wa=function(t){Rt(this.g,new aV(t))},va.prototype.va=function(t){Rt(this.g,new uV)},va.prototype.ua=function(){Rt(this.g,"b")},ap.prototype.createWebChannel=ap.prototype.g,Nn.prototype.send=Nn.prototype.u,Nn.prototype.open=Nn.prototype.m,Nn.prototype.close=Nn.prototype.close,Kf.NO_ERROR=0,Kf.TIMEOUT=8,Kf.HTTP_ERROR=6,IL.COMPLETE="complete",DL.EventType=jc,jc.OPEN="a",jc.CLOSE="b",jc.ERROR="c",jc.MESSAGE="d",_t.prototype.listen=_t.prototype.N,He.prototype.listenOnce=He.prototype.O,He.prototype.getLastError=He.prototype.Oa,He.prototype.getLastErrorCode=He.prototype.Ea,He.prototype.getStatus=He.prototype.aa,He.prototype.getResponseJson=He.prototype.Sa,He.prototype.getResponseText=He.prototype.fa,He.prototype.send=He.prototype.da,He.prototype.setWithCredentials=He.prototype.Ka;var mre=ai.createWebChannelTransport=function(){return new ap},yre=ai.getStatEventTarget=function(){return Wf()},hb=ai.ErrorCode=Kf,_re=ai.EventType=IL,vre=ai.Event=Ns,cV=ai.Stat={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},wre=ai.FetchXmlHttpFactory=Qc,up=ai.WebChannel=DL,Ire=ai.XhrIo=He;const lV="@firebase/firestore";class vt{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}vt.UNAUTHENTICATED=new vt(null),vt.GOOGLE_CREDENTIALS=new vt("google-credentials-uid"),vt.FIRST_PARTY=new vt("first-party-uid"),vt.MOCK_USER=new vt("mock-user");let wa="9.16.0";const Ri=new aa("@firebase/firestore");function fb(){return Ri.logLevel}function T(t,...e){if(Ri.logLevel<=he.DEBUG){const n=e.map(pb);Ri.debug(`Firestore (${wa}): ${t}`,...n)}}function Ye(t,...e){if(Ri.logLevel<=he.ERROR){const n=e.map(pb);Ri.error(`Firestore (${wa}): ${t}`,...n)}}function Ia(t,...e){if(Ri.logLevel<=he.WARN){const n=e.map(pb);Ri.warn(`Firestore (${wa}): ${t}`,...n)}}function pb(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch{return t}}function O(t="Unexpected state"){const e=`FIRESTORE (${wa}) INTERNAL ASSERTION FAILED: `+t;throw Ye(e),new Error(e)}function P(t,e){t||O()}function M(t,e){return t}const w={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class b extends or{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class pt{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}class dV{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Ere{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(vt.UNAUTHENTICATED))}shutdown(){}}class Dre{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class bre{constructor(e){this.t=e,this.currentUser=vt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){var r=this;let i=this.i;const s=c=>this.i!==i?(i=this.i,n(c)):Promise.resolve();let o=new pt;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new pt,e.enqueueRetryable(()=>s(this.currentUser))};const a=()=>{const c=o;e.enqueueRetryable(m(function*(){yield c.promise,yield s(r.currentUser)}))},u=c=>{T("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(c=>u(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?u(c):(T("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new pt)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(T("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(P("string"==typeof r.accessToken),new dV(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return P(null===e||"string"==typeof e),new vt(e)}}class Cre{constructor(e,n,r,i){this.h=e,this.l=n,this.m=r,this.g=i,this.type="FirstParty",this.user=vt.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(P(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class Tre{constructor(e,n,r,i){this.h=e,this.l=n,this.m=r,this.g=i}getToken(){return Promise.resolve(new Cre(this.h,this.l,this.m,this.g))}start(e,n){e.enqueueRetryable(()=>n(vt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class hV{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Sre{constructor(e){this.T=e,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(e,n){const r=s=>{null!=s.error&&T("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.A;return this.A=s.token,T("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{T("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.T.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.T.getImmediate({optional:!0});s?i(s):T("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(P("string"==typeof n.token),this.A=n.token,new hV(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Are(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}class fV{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=Are(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function Y(t,e){return t<e?-1:t>e?1:0}function Ea(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}class Ve{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new b(w.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new b(w.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new b(w.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new b(w.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Ve.fromMillis(Date.now())}static fromDate(e){return Ve.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Ve(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Y(this.nanoseconds,e.nanoseconds):Y(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class U{constructor(e){this.timestamp=e}static fromTimestamp(e){return new U(e)}static min(){return new U(new Ve(0,0))}static max(){return new U(new Ve(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class el{constructor(e,n,r){void 0===n?n=0:n>e.length&&O(),void 0===r?r=e.length-n:r>e.length-n&&O(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return 0===el.comparator(this,e)}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof el?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class fe extends el{construct(e,n,r){return new fe(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new b(w.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new fe(n)}static emptyPath(){return new fe([])}}const xre=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ze extends el{construct(e,n,r){return new Ze(e,n,r)}static isValidIdentifier(e){return xre.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ze.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Ze(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(0===r.length)throw new b(w.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if("\\"===a){if(i+1===e.length)throw new b(w.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new b(w.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===a?(o=!o,i++):"."!==a||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new b(w.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ze(n)}static emptyPath(){return new Ze([])}}class x{constructor(e){this.path=e}static fromPath(e){return new x(fe.fromString(e))}static fromName(e){return new x(fe.fromString(e).popFirst(5))}static empty(){return new x(fe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===fe.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,n){return fe.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new x(new fe(e.slice()))}}function mV(t){return new On(t.readTime,t.key,-1)}class On{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new On(U.min(),x.empty(),-1)}static max(){return new On(U.max(),x.empty(),-1)}}function mb(t,e){let n=t.readTime.compareTo(e.readTime);return 0!==n?n:(n=x.comparator(t.documentKey,e.documentKey),0!==n?n:Y(t.largestBatchId,e.largestBatchId))}const yV="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Rre{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Ni(t){return yb.apply(this,arguments)}function yb(){return yb=m(function*(t){if(t.code!==w.FAILED_PRECONDITION||t.message!==yV)throw t;T("LocalStore","Unexpectedly lost primary lease")}),yb.apply(this,arguments)}class _{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&O(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new _((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof _?n:_.resolve(n)}catch(n){return _.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):_.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):_.reject(n)}static resolve(e){return new _((n,r)=>{n(e)})}static reject(e){return new _((n,r)=>{r(e)})}static waitFor(e){return new _((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},u=>r(u))}),o=!0,s===i&&n()})}static or(e){let n=_.resolve(!1);for(const r of e)n=n.next(i=>i?_.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new _((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let u=0;u<s;u++){const c=u;n(e[c]).next(l=>{o[c]=l,++a,a===s&&r(o)},l=>i(l))}})}static doWhile(e,n){return new _((r,i)=>{const s=()=>{!0===e()?n().next(()=>{s()},i):r()};s()})}}function Oi(t){return"IndexedDbTransactionError"===t.name}let Pn=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.ut(i),this.ct=i=>r.writeSequenceNumber(i))}ut(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){const n=++this.previousValue;return this.ct&&this.ct(n),n}}return t.at=-1,t})();class Lre{constructor(e,n,r,i,s,o,a,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.useFetchStreams=u}}class Us{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Us("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Us&&e.projectId===this.projectId&&e.database===this.database}}function vV(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Bs(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function wV(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function rl(t){return null==t}function il(t){return 0===t&&1/t==-1/0}class gt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=atob(e);return new gt(n)}static fromUint8Array(e){const n=function(r){let i="";for(let s=0;s<r.length;++s)i+=String.fromCharCode(r[s]);return i}(e);return new gt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Y(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}gt.EMPTY_BYTE_STRING=new gt("");const Vre=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Pi(t){if(P(!!t),"string"==typeof t){let e=0;const n=Vre.exec(t);if(P(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:qe(t.seconds),nanos:qe(t.nanos)}}function qe(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function $s(t){return"string"==typeof t?gt.fromBase64String(t):gt.fromUint8Array(t)}function vb(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=t?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function EV(t){const e=t.mapValue.fields.__previous_value__;return vb(e)?EV(e):e}function sl(t){const e=Pi(t.mapValue.fields.__local_write_time__.timestampValue);return new Ve(e.seconds,e.nanos)}const Fi_mapValue={fields:{__type__:{stringValue:"__max__"}}};function js(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?vb(t)?4:TV(t)?9007199254740991:10:O()}function Sr(t,e){if(t===e)return!0;const n=js(t);if(n!==js(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return sl(t).isEqual(sl(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const s=Pi(r.timestampValue),o=Pi(i.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return i=e,$s(t.bytesValue).isEqual($s(i.bytesValue));case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,i){return qe(r.geoPointValue.latitude)===qe(i.geoPointValue.latitude)&&qe(r.geoPointValue.longitude)===qe(i.geoPointValue.longitude)}(t,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return qe(r.integerValue)===qe(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const s=qe(r.doubleValue),o=qe(i.doubleValue);return s===o?il(s)===il(o):isNaN(s)&&isNaN(o)}return!1}(t,e);case 9:return Ea(t.arrayValue.values||[],e.arrayValue.values||[],Sr);case 10:return function(r,i){const s=r.mapValue.fields||{},o=i.mapValue.fields||{};if(vV(s)!==vV(o))return!1;for(const a in s)if(s.hasOwnProperty(a)&&(void 0===o[a]||!Sr(s[a],o[a])))return!1;return!0}(t,e);default:return O()}var i}function ol(t,e){return void 0!==(t.values||[]).find(n=>Sr(n,e))}function Li(t,e){if(t===e)return 0;const n=js(t),r=js(e);if(n!==r)return Y(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Y(t.booleanValue,e.booleanValue);case 2:return function(i,s){const o=qe(i.integerValue||i.doubleValue),a=qe(s.integerValue||s.doubleValue);return o<a?-1:o>a?1:o===a?0:isNaN(o)?isNaN(a)?0:-1:1}(t,e);case 3:return DV(t.timestampValue,e.timestampValue);case 4:return DV(sl(t),sl(e));case 5:return Y(t.stringValue,e.stringValue);case 6:return function(i,s){const o=$s(i),a=$s(s);return o.compareTo(a)}(t.bytesValue,e.bytesValue);case 7:return function(i,s){const o=i.split("/"),a=s.split("/");for(let u=0;u<o.length&&u<a.length;u++){const c=Y(o[u],a[u]);if(0!==c)return c}return Y(o.length,a.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,s){const o=Y(qe(i.latitude),qe(s.latitude));return 0!==o?o:Y(qe(i.longitude),qe(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(i,s){const o=i.values||[],a=s.values||[];for(let u=0;u<o.length&&u<a.length;++u){const c=Li(o[u],a[u]);if(c)return c}return Y(o.length,a.length)}(t.arrayValue,e.arrayValue);case 10:return function(i,s){if(i===Fi_mapValue&&s===Fi_mapValue)return 0;if(i===Fi_mapValue)return 1;if(s===Fi_mapValue)return-1;const o=i.fields||{},a=Object.keys(o),u=s.fields||{},c=Object.keys(u);a.sort(),c.sort();for(let l=0;l<a.length&&l<c.length;++l){const d=Y(a[l],c[l]);if(0!==d)return d;const h=Li(o[a[l]],u[c[l]]);if(0!==h)return h}return Y(a.length,c.length)}(t.mapValue,e.mapValue);default:throw O()}}function DV(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return Y(t,e);const n=Pi(t),r=Pi(e),i=Y(n.seconds,r.seconds);return 0!==i?i:Y(n.nanos,r.nanos)}function Da(t){return wb(t)}function wb(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const i=Pi(r);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?$s(t.bytesValue).toBase64():"referenceValue"in t?x.fromName(t.referenceValue).toString():"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(r){let i="[",s=!0;for(const o of r.values||[])s?s=!1:i+=",",i+=wb(o);return i+"]"}(t.arrayValue):"mapValue"in t?function(r){const i=Object.keys(r.fields||{}).sort();let s="{",o=!0;for(const a of i)o?o=!1:s+=",",s+=`${a}:${wb(r.fields[a])}`;return s+"}"}(t.mapValue):O();var e}function Ib(t){return!!t&&"integerValue"in t}function al(t){return!!t&&"arrayValue"in t}function bV(t){return!!t&&"nullValue"in t}function CV(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function fp(t){return!!t&&"mapValue"in t}function ul(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&"object"==typeof t.timestampValue)return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Bs(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=ul(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=ul(t.arrayValue.values[n]);return e}return Object.assign({},t)}function TV(t){return"__max__"===(((t.mapValue||{}).fields||{}).__type__||{}).stringValue}class Vi{constructor(e,n){this.position=e,this.inclusive=n}}function xV(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(r=s.field.isKeyField()?x.comparator(x.fromName(o.referenceValue),n.key):Li(o,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function MV(t,e){if(null===t)return null===e;if(null===e||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Sr(t.position[n],e.position[n]))return!1;return!0}class kV{}class ue extends kV{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?"in"===n||"not-in"===n?this.createKeyFieldInFilter(e,n,r):new $re(e,n,r):"array-contains"===n?new Hre(e,r):"in"===n?new LV(e,r):"not-in"===n?new qre(e,r):"array-contains-any"===n?new zre(e,r):new ue(e,n,r)}static createKeyFieldInFilter(e,n,r){return"in"===n?new jre(e,r):new Gre(e,r)}matches(e){const n=e.data.field(this.field);return"!="===this.op?null!==n&&this.matchesComparison(Li(n,this.value)):null!==n&&js(this.value)===js(n)&&this.matchesComparison(Li(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return O()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class we extends kV{constructor(e,n){super(),this.filters=e,this.op=n,this.ht=null}static create(e,n){return new we(e,n)}matches(e){return ba(this)?void 0===this.filters.find(n=>!n.matches(e)):void 0!==this.filters.find(n=>n.matches(e))}getFlattenedFilters(){return null!==this.ht||(this.ht=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ht}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.lt(n=>n.isInequality());return null!==e?e.field:null}lt(e){for(const n of this.getFlattenedFilters())if(e(n))return n;return null}}function ba(t){return"and"===t.op}function Db(t){return function RV(t){for(const e of t.filters)if(e instanceof we)return!1;return!0}(t)&&ba(t)}function bb(t){if(t instanceof ue)return t.field.canonicalString()+t.op.toString()+Da(t.value);if(Db(t))return t.filters.map(e=>bb(e)).join(",");{const e=t.filters.map(n=>bb(n)).join(",");return`${t.op}(${e})`}}function NV(t,e){return t instanceof ue?(n=t,(r=e)instanceof ue&&n.op===r.op&&n.field.isEqual(r.field)&&Sr(n.value,r.value)):t instanceof we?function(n,r){return r instanceof we&&n.op===r.op&&n.filters.length===r.filters.length&&n.filters.reduce((i,s,o)=>i&&NV(s,r.filters[o]),!0)}(t,e):void O();var n,r}function PV(t){return t instanceof ue?function(e){return`${e.field.canonicalString()} ${e.op} ${Da(e.value)}`}(t):t instanceof we?function(e){return e.op.toString()+" {"+e.getFilters().map(PV).join(" ,")+"}"}(t):"Filter"}class $re extends ue{constructor(e,n,r){super(e,n,r),this.key=x.fromName(r.referenceValue)}matches(e){const n=x.comparator(e.key,this.key);return this.matchesComparison(n)}}class jre extends ue{constructor(e,n){super(e,"in",n),this.keys=FV(0,n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class Gre extends ue{constructor(e,n){super(e,"not-in",n),this.keys=FV(0,n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function FV(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(r=>x.fromName(r.referenceValue))}class Hre extends ue{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return al(n)&&ol(n.arrayValue,this.value)}}class LV extends ue{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return null!==n&&ol(this.value.arrayValue,n)}}class qre extends ue{constructor(e,n){super(e,"not-in",n)}matches(e){if(ol(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return null!==n&&!ol(this.value.arrayValue,n)}}class zre extends ue{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!al(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>ol(this.value.arrayValue,r))}}class Ca{constructor(e,n="asc"){this.field=e,this.dir=n}}function Wre(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class ze{constructor(e,n){this.comparator=e,this.root=n||Nt.EMPTY}insert(e,n){return new ze(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Nt.BLACK,null,null))}remove(e){return new ze(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Nt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new pp(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new pp(this.root,e,this.comparator,!1)}getReverseIterator(){return new pp(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new pp(this.root,e,this.comparator,!0)}}class pp{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(0===s){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Nt{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Nt.RED,this.left=i??Nt.EMPTY,this.right=s??Nt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new Nt(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):0===s?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Nt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return Nt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Nt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Nt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw O();const e=this.left.check();if(e!==this.right.check())throw O();return e+(this.isRed()?0:1)}}Nt.EMPTY=null,Nt.RED=!0,Nt.BLACK=!1,Nt.EMPTY=new class{constructor(){this.size=0}get key(){throw O()}get value(){throw O()}get color(){throw O()}get left(){throw O()}get right(){throw O()}copy(t,e,n,r,i){return this}insert(t,e,n){return new Nt(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ie{constructor(e){this.comparator=e,this.data=new ze(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=void 0!==n?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new VV(this.data.getIterator())}getIteratorFrom(e){return new VV(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Ie)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(0!==this.comparator(i,s))return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Ie(this.comparator);return n.data=e,n}}class VV{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class _n{constructor(e){this.fields=e,e.sort(Ze.comparator)}static empty(){return new _n([])}unionWith(e){let n=new Ie(Ze.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new _n(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ea(this.fields,e.fields,(n,r)=>n.isEqual(r))}}class Ot{constructor(e){this.value=e}static empty(){return new Ot({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!fp(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=ul(n)}setAll(e){let n=Ze.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=ul(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());fp(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Sr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];fp(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Bs(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Ot(ul(this.value))}}function UV(t){const e=[];return Bs(t.fields,(n,r)=>{const i=new Ze([n]);if(fp(r)){const s=UV(r.mapValue).fields;if(0===s.length)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new _n(e)}class xe{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new xe(e,0,U.min(),U.min(),U.min(),Ot.empty(),0)}static newFoundDocument(e,n,r,i){return new xe(e,1,n,U.min(),r,i,0)}static newNoDocument(e,n){return new xe(e,2,n,U.min(),U.min(),Ot.empty(),0)}static newUnknownDocument(e,n){return new xe(e,3,n,U.min(),U.min(),Ot.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(U.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ot.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ot.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=U.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof xe&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new xe(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Kre{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ft=null}}function Cb(t,e=null,n=[],r=[],i=null,s=null,o=null){return new Kre(t,e,n,r,i,s,o)}function Hs(t){const e=M(t);if(null===e.ft){let n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>bb(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),rl(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Da(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Da(r)).join(",")),e.ft=n}return e.ft}function cl(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!Wre(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!NV(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!MV(t.startAt,e.startAt)&&MV(t.endAt,e.endAt)}function gp(t){return x.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}class li{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=u,this.dt=null,this._t=null}}function Sa(t){return new li(t)}function GV(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}function qs(t){const e=M(t);if(null===e.dt){e.dt=[];const n=function yp(t){for(const e of t.filters){const n=e.getFirstInequalityField();if(null!==n)return n}return null}(e),r=function Tb(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}(e);if(null!==n&&null===r)n.isKeyField()||e.dt.push(new Ca(n)),e.dt.push(new Ca(Ze.keyField(),"asc"));else{let i=!1;for(const s of e.explicitOrderBy)e.dt.push(s),s.field.isKeyField()&&(i=!0);if(!i){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.dt.push(new Ca(Ze.keyField(),s))}}}return e.dt}function un(t){const e=M(t);if(!e._t)if("F"===e.limitType)e._t=Cb(e.path,e.collectionGroup,qs(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const s of qs(e))n.push(new Ca(s.field,"desc"===s.dir?"asc":"desc"));const r=e.endAt?new Vi(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new Vi(e.startAt.position,e.startAt.inclusive):null;e._t=Cb(e.path,e.collectionGroup,n,e.filters,e.limit,r,i)}return e._t}function _p(t,e,n){return new li(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function ll(t,e){return cl(un(t),un(e))&&t.limitType===e.limitType}function HV(t){return`${Hs(un(t))}|lt:${t.limitType}`}function xb(t){return`Query(target=${function(e){let n=e.path.canonicalString();return null!==e.collectionGroup&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=`, filters: [${e.filters.map(r=>PV(r)).join(", ")}]`),rl(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=`, orderBy: [${e.orderBy.map(r=>{return`${(i=r).field.canonicalString()} (${i.dir})`;var i}).join(", ")}]`),e.startAt&&(n+=", startAt: ",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Da(r)).join(",")),e.endAt&&(n+=", endAt: ",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Da(r)).join(",")),`Target(${n})`}(un(t))}; limitType=${t.limitType})`}function Mb(t,e){return e.isFoundDocument()&&function(n,r){const i=r.key.path;return null!==n.collectionGroup?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):x.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(t,e)&&function(n,r){for(const i of qs(n))if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(t,e)&&function(n,r){for(const i of n.filters)if(!i.matches(r))return!1;return!0}(t,e)&&(r=e,!((n=t).startAt&&!function(i,s,o){const a=xV(i,s,o);return i.inclusive?a<=0:a<0}(n.startAt,qs(n),r)||n.endAt&&!function(i,s,o){const a=xV(i,s,o);return i.inclusive?a>=0:a>0}(n.endAt,qs(n),r)));var n,r}function zV(t){return(e,n)=>{let r=!1;for(const i of qs(t)){const s=Qre(i,e,n);if(0!==s)return s;r=r||i.field.isKeyField()}return 0}}function Qre(t,e,n){const r=t.field.isKeyField()?x.comparator(e.key,n.key):function(i,s,o){const a=s.data.field(i),u=o.data.field(i);return null!==a&&null!==u?Li(a,u):O()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return O()}}function WV(t,e){if(t.wt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:il(e)?"-0":e}}function KV(t){return{integerValue:""+t}}function QV(t,e){return function IV(t){return"number"==typeof t&&Number.isInteger(t)&&!il(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}(e)?KV(e):WV(t,e)}class vp{constructor(){this._=void 0}}function Yre(t,e,n){return t instanceof Aa?function(r,i){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(s.fields.__previous_value__=i),{mapValue:s}}(n,e):t instanceof zs?ZV(t,e):t instanceof Ws?XV(t,e):function(r,i){const s=YV(r,i),o=JV(s)+JV(r.gt);return Ib(s)&&Ib(r.gt)?KV(o):WV(r.yt,o)}(t,e)}function Zre(t,e,n){return t instanceof zs?ZV(t,e):t instanceof Ws?XV(t,e):n}function YV(t,e){return t instanceof xa?Ib(n=e)||(r=n)&&"doubleValue"in r?e:{integerValue:0}:null;var r,n}class Aa extends vp{}class zs extends vp{constructor(e){super(),this.elements=e}}function ZV(t,e){const n=eU(e);for(const r of t.elements)n.some(i=>Sr(i,r))||n.push(r);return{arrayValue:{values:n}}}class Ws extends vp{constructor(e){super(),this.elements=e}}function XV(t,e){let n=eU(e);for(const r of t.elements)n=n.filter(i=>!Sr(i,r));return{arrayValue:{values:n}}}class xa extends vp{constructor(e,n){super(),this.yt=e,this.gt=n}}function JV(t){return qe(t.integerValue||t.doubleValue)}function eU(t){return al(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class Jre{constructor(e,n){this.version=e,this.transformResults=n}}class Ne{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Ne}static exists(e){return new Ne(void 0,e)}static updateTime(e){return new Ne(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function wp(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}class Ip{}function tU(t,e){if(!t.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return t.isNoDocument()?new ka(t.key,Ne.none()):new Ma(t.key,t.data,Ne.none());{const n=t.data,r=Ot.empty();let i=new Ie(Ze.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);null===o&&s.length>1&&(s=s.popLast(),o=n.field(s)),null===o?r.delete(s):r.set(s,o),i=i.add(s)}return new di(t.key,r,new _n(i.toArray()),Ne.none())}}function eie(t,e,n){t instanceof Ma?function(r,i,s){const o=r.value.clone(),a=iU(r.fieldTransforms,i,s.transformResults);o.setAll(a),i.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(t,e,n):t instanceof di?function(r,i,s){if(!wp(r.precondition,i))return void i.convertToUnknownDocument(s.version);const o=iU(r.fieldTransforms,i,s.transformResults),a=i.data;a.setAll(rU(r)),a.setAll(o),i.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):e.convertToNoDocument(n.version).setHasCommittedMutations()}function hl(t,e,n,r){return t instanceof Ma?function(i,s,o,a){if(!wp(i.precondition,s))return o;const u=i.value.clone(),c=sU(i.fieldTransforms,a,s);return u.setAll(c),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof di?function(i,s,o,a){if(!wp(i.precondition,s))return o;const u=sU(i.fieldTransforms,a,s),c=s.data;return c.setAll(rU(i)),c.setAll(u),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),null===o?null:o.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(l=>l.field))}(t,e,n,r):(o=n,wp(t.precondition,s=e)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):o);var s,o}function tie(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=YV(r.transform,i||null);null!=s&&(null===n&&(n=Ot.empty()),n.set(r.field,s))}return n||null}function nU(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(n=t.fieldTransforms)&&void 0===r||n&&r&&Ea(n,r,(i,s)=>function Xre(t,e){return t.field.isEqual(e.field)&&(r=e.transform,(n=t.transform)instanceof zs&&r instanceof zs||n instanceof Ws&&r instanceof Ws?Ea(n.elements,r.elements,Sr):n instanceof xa&&r instanceof xa?Sr(n.gt,r.gt):n instanceof Aa&&r instanceof Aa);var n,r}(i,s))))&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask));var n,r}class Ma extends Ip{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class di extends Ip{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function rU(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function iU(t,e,n){const r=new Map;P(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,Zre(o,a,n[i]))}return r}function sU(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,Yre(s,o,e))}return r}class ka extends Ip{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class kb extends Ip{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class nie{constructor(e){this.count=e}}var st,pe;function oU(t){switch(t){default:return O();case w.CANCELLED:case w.UNKNOWN:case w.DEADLINE_EXCEEDED:case w.RESOURCE_EXHAUSTED:case w.INTERNAL:case w.UNAVAILABLE:case w.UNAUTHENTICATED:return!1;case w.INVALID_ARGUMENT:case w.NOT_FOUND:case w.ALREADY_EXISTS:case w.PERMISSION_DENIED:case w.FAILED_PRECONDITION:case w.ABORTED:case w.OUT_OF_RANGE:case w.UNIMPLEMENTED:case w.DATA_LOSS:return!0}}function aU(t){if(void 0===t)return Ye("GRPC error has no .code"),w.UNKNOWN;switch(t){case st.OK:return w.OK;case st.CANCELLED:return w.CANCELLED;case st.UNKNOWN:return w.UNKNOWN;case st.DEADLINE_EXCEEDED:return w.DEADLINE_EXCEEDED;case st.RESOURCE_EXHAUSTED:return w.RESOURCE_EXHAUSTED;case st.INTERNAL:return w.INTERNAL;case st.UNAVAILABLE:return w.UNAVAILABLE;case st.UNAUTHENTICATED:return w.UNAUTHENTICATED;case st.INVALID_ARGUMENT:return w.INVALID_ARGUMENT;case st.NOT_FOUND:return w.NOT_FOUND;case st.ALREADY_EXISTS:return w.ALREADY_EXISTS;case st.PERMISSION_DENIED:return w.PERMISSION_DENIED;case st.FAILED_PRECONDITION:return w.FAILED_PRECONDITION;case st.ABORTED:return w.ABORTED;case st.OUT_OF_RANGE:return w.OUT_OF_RANGE;case st.UNIMPLEMENTED:return w.UNIMPLEMENTED;case st.DATA_LOSS:return w.DATA_LOSS;default:return O()}}(pe=st||(st={}))[pe.OK=0]="OK",pe[pe.CANCELLED=1]="CANCELLED",pe[pe.UNKNOWN=2]="UNKNOWN",pe[pe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",pe[pe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",pe[pe.NOT_FOUND=5]="NOT_FOUND",pe[pe.ALREADY_EXISTS=6]="ALREADY_EXISTS",pe[pe.PERMISSION_DENIED=7]="PERMISSION_DENIED",pe[pe.UNAUTHENTICATED=16]="UNAUTHENTICATED",pe[pe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",pe[pe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",pe[pe.ABORTED=10]="ABORTED",pe[pe.OUT_OF_RANGE=11]="OUT_OF_RANGE",pe[pe.UNIMPLEMENTED=12]="UNIMPLEMENTED",pe[pe.INTERNAL=13]="INTERNAL",pe[pe.UNAVAILABLE=14]="UNAVAILABLE",pe[pe.DATA_LOSS=15]="DATA_LOSS";class Ui{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r)for(const[i,s]of r)if(this.equalsFn(i,e))return s}has(e){return void 0!==this.get(e)}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Bs(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return wV(this.inner)}size(){return this.innerSize}}const rie=new ze(x.comparator);function vn(){return rie}const uU=new ze(x.comparator);function fl(...t){let e=uU;for(const n of t)e=e.insert(n.key,n);return e}function cU(t){let e=uU;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Ar(){return pl()}function lU(){return pl()}function pl(){return new Ui(t=>t.toString(),(t,e)=>t.isEqual(e))}const iie=new ze(x.comparator),sie=new Ie(x.comparator);function ee(...t){let e=sie;for(const n of t)e=e.add(n);return e}const oie=new Ie(Y);function Ep(){return oie}class gl{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,ml.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new gl(U.min(),i,Ep(),vn(),ee())}}class ml{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new ml(r,n,ee(),ee(),ee())}}class Dp{constructor(e,n,r,i){this.It=e,this.removedTargetIds=n,this.key=r,this.Tt=i}}class dU{constructor(e,n){this.targetId=e,this.Et=n}}class hU{constructor(e,n,r=gt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class fU{constructor(){this.At=0,this.Rt=gU(),this.bt=gt.EMPTY_BYTE_STRING,this.Pt=!1,this.vt=!0}get current(){return this.Pt}get resumeToken(){return this.bt}get Vt(){return 0!==this.At}get St(){return this.vt}Dt(e){e.approximateByteSize()>0&&(this.vt=!0,this.bt=e)}Ct(){let e=ee(),n=ee(),r=ee();return this.Rt.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:O()}}),new ml(this.bt,this.Pt,e,n,r)}xt(){this.vt=!1,this.Rt=gU()}Nt(e,n){this.vt=!0,this.Rt=this.Rt.insert(e,n)}kt(e){this.vt=!0,this.Rt=this.Rt.remove(e)}Ot(){this.At+=1}Mt(){this.At-=1}Ft(){this.vt=!0,this.Pt=!0}}class aie{constructor(e){this.$t=e,this.Bt=new Map,this.Lt=vn(),this.qt=pU(),this.Ut=new Ie(Y)}Kt(e){for(const n of e.It)e.Tt&&e.Tt.isFoundDocument()?this.Gt(n,e.Tt):this.Qt(n,e.key,e.Tt);for(const n of e.removedTargetIds)this.Qt(n,e.key,e.Tt)}jt(e){this.forEachTarget(e,n=>{const r=this.Wt(n);switch(e.state){case 0:this.zt(n)&&r.Dt(e.resumeToken);break;case 1:r.Mt(),r.Vt||r.xt(),r.Dt(e.resumeToken);break;case 2:r.Mt(),r.Vt||this.removeTarget(n);break;case 3:this.zt(n)&&(r.Ft(),r.Dt(e.resumeToken));break;case 4:this.zt(n)&&(this.Ht(n),r.Dt(e.resumeToken));break;default:O()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Bt.forEach((r,i)=>{this.zt(i)&&n(i)})}Jt(e){const n=e.targetId,r=e.Et.count,i=this.Yt(n);if(i){const s=i.target;if(gp(s))if(0===r){const o=new x(s.path);this.Qt(n,o,xe.newNoDocument(o,U.min()))}else P(1===r);else this.Xt(n)!==r&&(this.Ht(n),this.Ut=this.Ut.add(n))}}Zt(e){const n=new Map;this.Bt.forEach((s,o)=>{const a=this.Yt(o);if(a){if(s.current&&gp(a.target)){const u=new x(a.target.path);null!==this.Lt.get(u)||this.te(o,u)||this.Qt(o,u,xe.newNoDocument(u,e))}s.St&&(n.set(o,s.Ct()),s.xt())}});let r=ee();this.qt.forEach((s,o)=>{let a=!0;o.forEachWhile(u=>{const c=this.Yt(u);return!c||2===c.purpose||(a=!1,!1)}),a&&(r=r.add(s))}),this.Lt.forEach((s,o)=>o.setReadTime(e));const i=new gl(e,n,this.Ut,this.Lt,r);return this.Lt=vn(),this.qt=pU(),this.Ut=new Ie(Y),i}Gt(e,n){if(!this.zt(e))return;const r=this.te(e,n.key)?2:0;this.Wt(e).Nt(n.key,r),this.Lt=this.Lt.insert(n.key,n),this.qt=this.qt.insert(n.key,this.ee(n.key).add(e))}Qt(e,n,r){if(!this.zt(e))return;const i=this.Wt(e);this.te(e,n)?i.Nt(n,1):i.kt(n),this.qt=this.qt.insert(n,this.ee(n).delete(e)),r&&(this.Lt=this.Lt.insert(n,r))}removeTarget(e){this.Bt.delete(e)}Xt(e){const n=this.Wt(e).Ct();return this.$t.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ot(e){this.Wt(e).Ot()}Wt(e){let n=this.Bt.get(e);return n||(n=new fU,this.Bt.set(e,n)),n}ee(e){let n=this.qt.get(e);return n||(n=new Ie(Y),this.qt=this.qt.insert(e,n)),n}zt(e){const n=null!==this.Yt(e);return n||T("WatchChangeAggregator","Detected inactive target",e),n}Yt(e){const n=this.Bt.get(e);return n&&n.Vt?null:this.$t.ne(e)}Ht(e){this.Bt.set(e,new fU),this.$t.getRemoteKeysForTarget(e).forEach(n=>{this.Qt(e,n,null)})}te(e,n){return this.$t.getRemoteKeysForTarget(e).has(n)}}function pU(){return new ze(x.comparator)}function gU(){return new ze(x.comparator)}const uie={asc:"ASCENDING",desc:"DESCENDING"},cie={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},lie={and:"AND",or:"OR"};class die{constructor(e,n){this.databaseId=e,this.wt=n}}function Ra(t,e){return t.wt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function mU(t,e){return t.wt?e.toBase64():e.toUint8Array()}function hie(t,e){return Ra(t,e.toTimestamp())}function Xe(t){return P(!!t),U.fromTimestamp(function(e){const n=Pi(e);return new Ve(n.seconds,n.nanos)}(t))}function Rb(t,e){return(n=t,new fe(["projects",n.projectId,"databases",n.database])).child("documents").child(e).canonicalString();var n}function yU(t){const e=fe.fromString(t);return P(TU(e)),e}function yl(t,e){return Rb(t.databaseId,e.path)}function xr(t,e){const n=yU(e);if(n.get(1)!==t.databaseId.projectId)throw new b(w.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new b(w.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new x(vU(n))}function Nb(t,e){return Rb(t.databaseId,e)}function _l(t){return new fe(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function vU(t){return P(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function wU(t,e,n){return{name:yl(t,e),fields:n.value.mapValue.fields}}function EU(t,e){return{documents:[Nb(t,e.path)]}}function Pb(t,e){const n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=Nb(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=Nb(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(u){if(0!==u.length)return CU(we.create(u,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const s=function(u){if(0!==u.length)return u.map(c=>{return{field:Na((l=c).field),direction:yie(l.dir)};var l})}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const o=(c=e.limit,t.wt||rl(c)?c:{value:c});var c,a,u;return null!==o&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt={before:(a=e.startAt).inclusive,values:a.position}),e.endAt&&(n.structuredQuery.endAt={before:!(u=e.endAt).inclusive,values:u.position}),n}function DU(t){let e=function _U(t){const e=yU(t);return 4===e.length?fe.emptyPath():vU(e)}(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){P(1===r);const l=n.from[0];l.allDescendants?i=l.collectionId:e=e.child(l.collectionId)}let s=[];n.where&&(s=function(l){const d=bU(l);return d instanceof we&&Db(d)?d.getFilters():[d]}(n.where));let o=[];n.orderBy&&(o=n.orderBy.map(l=>{return new Ca(Oa((d=l).field),function(h){switch(h){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(d.direction));var d}));let a=null;n.limit&&(a=function(l){let d;return d="object"==typeof l?l.value:l,rl(d)?null:d}(n.limit));let u=null;var l;n.startAt&&(u=new Vi((l=n.startAt).values||[],!!l.before));let c=null;return n.endAt&&(c=function(l){return new Vi(l.values||[],!l.before)}(n.endAt)),function jV(t,e,n,r,i,s,o,a){return new li(t,e,n,r,i,s,o,a)}(e,i,o,s,a,"F",u,c)}function bU(t){return void 0!==t.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const n=Oa(e.unaryFilter.field);return ue.create(n,"==",{doubleValue:NaN});case"IS_NULL":const r=Oa(e.unaryFilter.field);return ue.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Oa(e.unaryFilter.field);return ue.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Oa(e.unaryFilter.field);return ue.create(s,"!=",{nullValue:"NULL_VALUE"});default:return O()}}(t):void 0!==t.fieldFilter?function(e){return ue.create(Oa(e.fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return O()}}(e.fieldFilter.op),e.fieldFilter.value)}(t):void 0!==t.compositeFilter?function(e){return we.create(e.compositeFilter.filters.map(n=>bU(n)),function(n){switch(n){case"AND":return"and";case"OR":return"or";default:return O()}}(e.compositeFilter.op))}(t):O()}function yie(t){return uie[t]}function _ie(t){return cie[t]}function vie(t){return lie[t]}function Na(t){return{fieldPath:t.canonicalString()}}function Oa(t){return Ze.fromServerFormat(t.fieldPath)}function CU(t){return t instanceof ue?function(e){if("=="===e.op){if(CV(e.value))return{unaryFilter:{field:Na(e.field),op:"IS_NAN"}};if(bV(e.value))return{unaryFilter:{field:Na(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(CV(e.value))return{unaryFilter:{field:Na(e.field),op:"IS_NOT_NAN"}};if(bV(e.value))return{unaryFilter:{field:Na(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Na(e.field),op:_ie(e.op),value:e.value}}}(t):t instanceof we?function(e){const n=e.getFilters().map(r=>CU(r));return 1===n.length?n[0]:{compositeFilter:{op:vie(e.op),filters:n}}}(t):O()}function wie(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function TU(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}class Lb{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&eie(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=hl(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=hl(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=lU();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const u=tU(o,a);null!==u&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(U.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ee())}isEqual(e){return this.batchId===e.batchId&&Ea(this.mutations,e.mutations,(n,r)=>nU(n,r))&&Ea(this.baseMutations,e.baseMutations,(n,r)=>nU(n,r))}}class Vb{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){P(e.mutations.length===r.length);let i=iie;const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new Vb(e,n,r,i)}}class Ub{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Bi{constructor(e,n,r,i,s=U.min(),o=U.min(),a=gt.EMPTY_BYTE_STRING){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a}withSequenceNumber(e){return new Bi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,n){return new Bi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new Bi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class NU{constructor(e){this.ie=e}}function Bb(t){const e=DU({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?_p(e,e.limit,"L"):e}class Zs{constructor(){}ue(e,n){this.ce(e,n),n.ae()}ce(e,n){if("nullValue"in e)this.he(n,5);else if("booleanValue"in e)this.he(n,10),n.le(e.booleanValue?1:0);else if("integerValue"in e)this.he(n,15),n.le(qe(e.integerValue));else if("doubleValue"in e){const r=qe(e.doubleValue);isNaN(r)?this.he(n,13):(this.he(n,15),il(r)?n.le(0):n.le(r))}else if("timestampValue"in e){const r=e.timestampValue;this.he(n,20),"string"==typeof r?n.fe(r):(n.fe(`${r.seconds||""}`),n.le(r.nanos||0))}else if("stringValue"in e)this.de(e.stringValue,n),this._e(n);else if("bytesValue"in e)this.he(n,30),n.we($s(e.bytesValue)),this._e(n);else if("referenceValue"in e)this.me(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.he(n,45),n.le(r.latitude||0),n.le(r.longitude||0)}else"mapValue"in e?TV(e)?this.he(n,Number.MAX_SAFE_INTEGER):(this.ge(e.mapValue,n),this._e(n)):"arrayValue"in e?(this.ye(e.arrayValue,n),this._e(n)):O()}de(e,n){this.he(n,25),this.pe(e,n)}pe(e,n){n.fe(e)}ge(e,n){const r=e.fields||{};this.he(n,55);for(const i of Object.keys(r))this.de(i,n),this.ce(r[i],n)}ye(e,n){const r=e.values||[];this.he(n,50);for(const i of r)this.ce(i,n)}me(e,n){this.he(n,37),x.fromName(e).path.forEach(r=>{this.he(n,60),this.pe(r,n)})}he(e,n){e.le(n)}_e(e){e.le(2)}}Zs.Ie=new Zs;class Wie{constructor(){this.Je=new zb}addToCollectionParentIndex(e,n){return this.Je.add(n),_.resolve()}getCollectionParents(e,n){return _.resolve(this.Je.getEntries(n))}addFieldIndex(e,n){return _.resolve()}deleteFieldIndex(e,n){return _.resolve()}getDocumentsMatchingTarget(e,n){return _.resolve(null)}getIndexType(e,n){return _.resolve(0)}getFieldIndexes(e,n){return _.resolve([])}getNextCollectionGroupToUpdate(e){return _.resolve(null)}getMinOffset(e,n){return _.resolve(On.min())}getMinOffsetFromCollectionGroup(e,n){return _.resolve(On.min())}updateCollectionGroup(e,n,r){return _.resolve()}updateIndexEntries(e,n){return _.resolve()}}class zb{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Ie(fe.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Ie(fe.comparator)).toArray()}}new Uint8Array(0);class wn{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new wn(e,wn.DEFAULT_COLLECTION_PERCENTILE,wn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}wn.DEFAULT_COLLECTION_PERCENTILE=10,wn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,wn.DEFAULT=new wn(41943040,wn.DEFAULT_COLLECTION_PERCENTILE,wn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),wn.DISABLED=new wn(-1,0,0);class Js{constructor(e){this.bn=e}next(){return this.bn+=2,this.bn}static Pn(){return new Js(0)}static vn(){return new Js(-1)}}class ese{constructor(){this.changes=new Ui(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,xe.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return void 0!==r?_.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class rse{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class rB{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(null!==r&&hl(r.mutation,i,_n.empty(),Ve.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ee()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ee()){const i=Ar();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=fl();return s.forEach((a,u)=>{o=o.insert(a,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Ar();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ee()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=vn();const o=pl(),a=pl();return n.forEach((u,c)=>{const l=r.get(c.key);i.has(c.key)&&(void 0===l||l.mutation instanceof di)?s=s.insert(c.key,c):void 0!==l?(o.set(c.key,l.mutation.getFieldMask()),hl(l.mutation,c,l.mutation.getFieldMask(),Ve.now())):o.set(c.key,_n.empty())}),this.recalculateAndSaveOverlays(e,s).next(u=>(u.forEach((c,l)=>o.set(c,l)),n.forEach((c,l)=>{var d;return a.set(c,new rse(l,null!==(d=o.get(c))&&void 0!==d?d:null))}),a))}recalculateAndSaveOverlays(e,n){const r=pl();let i=new ze((o,a)=>o-a),s=ee();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(u=>{const c=n.get(u);if(null===c)return;let l=r.get(u)||_n.empty();l=a.applyToLocalView(c,l),r.set(u,l);const d=(i.get(a.batchId)||ee()).add(u);i=i.insert(a.batchId,d)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const u=a.getNext(),c=u.key,l=u.value,d=lU();l.forEach(h=>{if(!s.has(h)){const f=tU(n.get(h),r.get(h));null!==f&&d.set(h,f),s=s.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,d))}return _.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r){return x.isDocumentKey((i=n).path)&&null===i.collectionGroup&&0===i.filters.length?this.getDocumentsMatchingDocumentQuery(e,n.path):function Sb(t){return null!==t.collectionGroup}(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r):this.getDocumentsMatchingCollectionQuery(e,n,r);var i}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):_.resolve(Ar());let a=-1,u=s;return o.next(c=>_.forEach(c,(l,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(l)?_.resolve():this.remoteDocumentCache.getEntry(e,l).next(h=>{u=u.insert(l,h)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,u,c,ee())).next(l=>({batchId:a,changes:cU(l)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new x(n)).next(r=>{let i=fl();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r){const i=n.collectionGroup;let s=fl();return this.indexManager.getCollectionParents(e,i).next(o=>_.forEach(o,a=>{const u=(c=n,l=a.child(i),new li(l,null,c.explicitOrderBy.slice(),c.filters.slice(),c.limit,c.limitType,c.startAt,c.endAt));var c,l;return this.getDocumentsMatchingCollectionQuery(e,u,r).next(c=>{c.forEach((l,d)=>{s=s.insert(l,d)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r){let i;return this.remoteDocumentCache.getAllFromCollection(e,n.path,r).next(s=>(i=s,this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId))).next(s=>{s.forEach((a,u)=>{const c=u.getKey();null===i.get(c)&&(i=i.insert(c,xe.newInvalidDocument(c)))});let o=fl();return i.forEach((a,u)=>{const c=s.get(a);void 0!==c&&hl(c.mutation,u,_n.empty(),Ve.now()),Mb(n,u)&&(o=o.insert(a,u))}),o})}}class ise{constructor(e){this.yt=e,this.Zn=new Map,this.ts=new Map}getBundleMetadata(e,n){return _.resolve(this.Zn.get(n))}saveBundleMetadata(e,n){var r;return this.Zn.set(n.id,{id:(r=n).id,version:r.version,createTime:Xe(r.createTime)}),_.resolve()}getNamedQuery(e,n){return _.resolve(this.ts.get(n))}saveNamedQuery(e,n){return this.ts.set(n.name,{name:(r=n).name,query:Bb(r.bundledQuery),readTime:Xe(r.readTime)}),_.resolve();var r}}class sse{constructor(){this.overlays=new ze(x.comparator),this.es=new Map}getOverlay(e,n){return _.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Ar();return _.forEach(n,i=>this.getOverlay(e,i).next(s=>{null!==s&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.oe(e,n,s)}),_.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.es.get(r);return void 0!==i&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.es.delete(r)),_.resolve()}getOverlaysForCollection(e,n,r){const i=Ar(),s=n.length+1,o=new x(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const u=a.getNext().value,c=u.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===s&&u.largestBatchId>r&&i.set(u.getKey(),u)}return _.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new ze((c,l)=>c-l);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let l=s.get(c.largestBatchId);null===l&&(l=Ar(),s=s.insert(c.largestBatchId,l)),l.set(c.getKey(),c)}}const a=Ar(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((c,l)=>a.set(c,l)),!(a.size()>=i)););return _.resolve(a)}oe(e,n,r){const i=this.overlays.get(r.key);if(null!==i){const o=this.es.get(i.largestBatchId).delete(r.key);this.es.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new Ub(n,r));let s=this.es.get(n);void 0===s&&(s=ee(),this.es.set(n,s)),this.es.set(n,s.add(r.key))}}class Wb{constructor(){this.ns=new Ie(It.ss),this.rs=new Ie(It.os)}isEmpty(){return this.ns.isEmpty()}addReference(e,n){const r=new It(e,n);this.ns=this.ns.add(r),this.rs=this.rs.add(r)}us(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.cs(new It(e,n))}hs(e,n){e.forEach(r=>this.removeReference(r,n))}ls(e){const n=new x(new fe([])),r=new It(n,e),i=new It(n,e+1),s=[];return this.rs.forEachInRange([r,i],o=>{this.cs(o),s.push(o.key)}),s}fs(){this.ns.forEach(e=>this.cs(e))}cs(e){this.ns=this.ns.delete(e),this.rs=this.rs.delete(e)}ds(e){const n=new x(new fe([])),r=new It(n,e),i=new It(n,e+1);let s=ee();return this.rs.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new It(e,0),r=this.ns.firstAfterOrEqual(n);return null!==r&&e.isEqual(r.key)}}class It{constructor(e,n){this.key=e,this._s=n}static ss(e,n){return x.comparator(e.key,n.key)||Y(e._s,n._s)}static os(e,n){return Y(e._s,n._s)||x.comparator(e.key,n.key)}}class ose{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.ws=1,this.gs=new Ie(It.ss)}checkEmpty(e){return _.resolve(0===this.mutationQueue.length)}addMutationBatch(e,n,r,i){const s=this.ws;this.ws++;const o=new Lb(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.gs=this.gs.add(new It(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return _.resolve(o)}lookupMutationBatch(e,n){return _.resolve(this.ys(n))}getNextMutationBatchAfterBatchId(e,n){const i=this.ps(n+1),s=i<0?0:i;return _.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return _.resolve(0===this.mutationQueue.length?-1:this.ws-1)}getAllMutationBatches(e){return _.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new It(n,0),i=new It(n,Number.POSITIVE_INFINITY),s=[];return this.gs.forEachInRange([r,i],o=>{const a=this.ys(o._s);s.push(a)}),_.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Ie(Y);return n.forEach(i=>{const s=new It(i,0),o=new It(i,Number.POSITIVE_INFINITY);this.gs.forEachInRange([s,o],a=>{r=r.add(a._s)})}),_.resolve(this.Is(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;x.isDocumentKey(s)||(s=s.child(""));const o=new It(new x(s),0);let a=new Ie(Y);return this.gs.forEachWhile(u=>{const c=u.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(u._s)),!0)},o),_.resolve(this.Is(a))}Is(e){const n=[];return e.forEach(r=>{const i=this.ys(r);null!==i&&n.push(i)}),n}removeMutationBatch(e,n){P(0===this.Ts(n.batchId,"removed")),this.mutationQueue.shift();let r=this.gs;return _.forEach(n.mutations,i=>{const s=new It(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.gs=r})}An(e){}containsKey(e,n){const r=new It(n,0),i=this.gs.firstAfterOrEqual(r);return _.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return _.resolve()}Ts(e,n){return this.ps(e)}ps(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}ys(e){const n=this.ps(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class ase{constructor(e){this.Es=e,this.docs=new ze(x.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Es(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return _.resolve(r?r.document.mutableCopy():xe.newInvalidDocument(n))}getEntries(e,n){let r=vn();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():xe.newInvalidDocument(i))}),_.resolve(r)}getAllFromCollection(e,n,r){let i=vn();const s=new x(n.child("")),o=this.docs.getIteratorFrom(s);for(;o.hasNext();){const{key:a,value:{document:u}}=o.getNext();if(!n.isPrefixOf(a.path))break;a.path.length>n.length+1||mb(mV(u),r)<=0||(i=i.insert(u.key,u.mutableCopy()))}return _.resolve(i)}getAllFromCollectionGroup(e,n,r,i){O()}As(e,n){return _.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new use(this)}getSize(e){return _.resolve(this.size)}}class use extends ese{constructor(e){super(),this.Yn=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Yn.addEntry(e,i)):this.Yn.removeEntry(r)}),_.waitFor(n)}getFromCache(e,n){return this.Yn.getEntry(e,n)}getAllFromCache(e,n){return this.Yn.getEntries(e,n)}}class cse{constructor(e){this.persistence=e,this.Rs=new Ui(n=>Hs(n),cl),this.lastRemoteSnapshotVersion=U.min(),this.highestTargetId=0,this.bs=0,this.Ps=new Wb,this.targetCount=0,this.vs=Js.Pn()}forEachTarget(e,n){return this.Rs.forEach((r,i)=>n(i)),_.resolve()}getLastRemoteSnapshotVersion(e){return _.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return _.resolve(this.bs)}allocateTargetId(e){return this.highestTargetId=this.vs.next(),_.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.bs&&(this.bs=n),_.resolve()}Dn(e){this.Rs.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.vs=new Js(n),this.highestTargetId=n),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}addTargetData(e,n){return this.Dn(n),this.targetCount+=1,_.resolve()}updateTargetData(e,n){return this.Dn(n),_.resolve()}removeTargetData(e,n){return this.Rs.delete(n.target),this.Ps.ls(n.targetId),this.targetCount-=1,_.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Rs.forEach((o,a)=>{a.sequenceNumber<=n&&null===r.get(a.targetId)&&(this.Rs.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),_.waitFor(s).next(()=>i)}getTargetCount(e){return _.resolve(this.targetCount)}getTargetData(e,n){const r=this.Rs.get(n)||null;return _.resolve(r)}addMatchingKeys(e,n,r){return this.Ps.us(n,r),_.resolve()}removeMatchingKeys(e,n,r){this.Ps.hs(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),_.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Ps.ls(n),_.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Ps.ds(n);return _.resolve(r)}containsKey(e,n){return _.resolve(this.Ps.containsKey(n))}}class iB{constructor(e,n){this.Vs={},this.overlays={},this.Ss=new Pn(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=e(this),this.Cs=new cse(this),this.indexManager=new Wie,this.remoteDocumentCache=new ase(r=>this.referenceDelegate.xs(r)),this.yt=new NU(n),this.Ns=new ise(this.yt)}start(){return Promise.resolve()}shutdown(){return this.Ds=!1,Promise.resolve()}get started(){return this.Ds}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new sse,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Vs[e.toKey()];return r||(r=new ose(n,this.referenceDelegate),this.Vs[e.toKey()]=r),r}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ns}runTransaction(e,n,r){T("MemoryPersistence","Starting transaction:",e);const i=new lse(this.Ss.next());return this.referenceDelegate.ks(),r(i).next(s=>this.referenceDelegate.Os(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Ms(e,n){return _.or(Object.values(this.Vs).map(r=>()=>r.containsKey(e,n)))}}class lse extends Rre{constructor(e){super(),this.currentSequenceNumber=e}}class Np{constructor(e){this.persistence=e,this.Fs=new Wb,this.$s=null}static Bs(e){return new Np(e)}get Ls(){if(this.$s)return this.$s;throw O()}addReference(e,n,r){return this.Fs.addReference(r,n),this.Ls.delete(r.toString()),_.resolve()}removeReference(e,n,r){return this.Fs.removeReference(r,n),this.Ls.add(r.toString()),_.resolve()}markPotentiallyOrphaned(e,n){return this.Ls.add(n.toString()),_.resolve()}removeTarget(e,n){this.Fs.ls(n.targetId).forEach(i=>this.Ls.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Ls.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}ks(){this.$s=new Set}Os(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return _.forEach(this.Ls,r=>{const i=x.fromPath(r);return this.qs(e,i).next(s=>{s||n.removeEntry(i,U.min())})}).next(()=>(this.$s=null,n.apply(e)))}updateLimboDocument(e,n){return this.qs(e,n).next(r=>{r?this.Ls.delete(n.toString()):this.Ls.add(n.toString())})}xs(e){return 0}qs(e,n){return _.or([()=>_.resolve(this.Fs.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ms(e,n)])}}class Zb{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Si=r,this.Di=i}static Ci(e,n){let r=ee(),i=ee();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new Zb(e,n.fromCache,r,i)}}class oB{constructor(){this.xi=!1}initialize(e,n){this.Ni=e,this.indexManager=n,this.xi=!0}getDocumentsMatchingQuery(e,n,r,i){return this.ki(e,n).next(s=>s||this.Oi(e,n,i,r)).next(s=>s||this.Mi(e,n))}ki(e,n){if(GV(n))return _.resolve(null);let r=un(n);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==n.limit&&1===i&&(n=_p(n,null,"F"),r=un(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=ee(...s);return this.Ni.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{const c=this.Fi(n,a);return this.$i(n,c,o,u.readTime)?this.ki(e,_p(n,null,"F")):this.Bi(e,c,n,u)}))})))}Oi(e,n,r,i){return GV(n)||i.isEqual(U.min())?this.Mi(e,n):this.Ni.getDocuments(e,r).next(s=>{const o=this.Fi(n,s);return this.$i(n,o,r,i)?this.Mi(e,n):(fb()<=he.DEBUG&&T("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),xb(n)),this.Bi(e,o,n,function gV(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=U.fromTimestamp(1e9===r?new Ve(n+1,0):new Ve(n,r));return new On(i,x.empty(),e)}(i,-1)))})}Fi(e,n){let r=new Ie(zV(e));return n.forEach((i,s)=>{Mb(e,s)&&(r=r.add(s))}),r}$i(e,n,r,i){if(null===e.limit)return!1;if(r.size!==n.size)return!0;const s="F"===e.limitType?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Mi(e,n){return fb()<=he.DEBUG&&T("QueryEngine","Using full collection scan to execute query:",xb(n)),this.Ni.getDocumentsMatchingQuery(e,n,On.min())}Bi(e,n,r,i){return this.Ni.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}class hse{constructor(e,n,r,i){this.persistence=e,this.Li=n,this.yt=i,this.qi=new ze(Y),this.Ui=new Ui(s=>Hs(s),cl),this.Ki=new Map,this.Gi=e.getRemoteDocumentCache(),this.Cs=e.getTargetCache(),this.Ns=e.getBundleCache(),this.Qi(r)}Qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new rB(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.qi))}}function uB(t,e){return Xb.apply(this,arguments)}function Xb(){return Xb=m(function*(t,e){const n=M(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.Qi(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let u=ee();for(const c of i){o.push(c.batchId);for(const l of c.mutations)u=u.add(l.key)}for(const c of s){a.push(c.batchId);for(const l of c.mutations)u=u.add(l.key)}return n.localDocuments.getDocuments(r,u).next(c=>({ji:c,removedBatchIds:o,addedBatchIds:a}))})})}),Xb.apply(this,arguments)}function fse(t,e){const n=M(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.Gi.newChangeBuffer({trackRemovals:!0});return function(o,a,u,c){const l=u.batch,d=l.keys();let h=_.resolve();return d.forEach(f=>{h=h.next(()=>c.getEntry(a,f)).next(p=>{const g=u.docVersions.get(f);P(null!==g),p.version.compareTo(g)<0&&(l.applyToRemoteDocument(p,u),p.isValidDocument()&&(p.setReadTime(u.commitVersion),c.addEntry(p)))})}),h.next(()=>o.mutationQueue.removeMutationBatch(a,l))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(o){let a=ee();for(let u=0;u<o.mutationResults.length;++u)o.mutationResults[u].transformResults.length>0&&(a=a.add(o.batch.mutations[u].key));return a}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function cB(t){const e=M(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Cs.getLastRemoteSnapshotVersion(n))}function pse(t,e){const n=M(t),r=e.snapshotVersion;let i=n.qi;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.Gi.newChangeBuffer({trackRemovals:!0});i=n.qi;const a=[];e.targetChanges.forEach((l,d)=>{const h=i.get(d);if(!h)return;a.push(n.Cs.removeMatchingKeys(s,l.removedDocuments,d).next(()=>n.Cs.addMatchingKeys(s,l.addedDocuments,d)));let f=h.withSequenceNumber(s.currentSequenceNumber);var p,g,y;e.targetMismatches.has(d)?f=f.withResumeToken(gt.EMPTY_BYTE_STRING,U.min()).withLastLimboFreeSnapshotVersion(U.min()):l.resumeToken.approximateByteSize()>0&&(f=f.withResumeToken(l.resumeToken,r)),i=i.insert(d,f),g=f,y=l,(0===(p=h).resumeToken.approximateByteSize()||g.snapshotVersion.toMicroseconds()-p.snapshotVersion.toMicroseconds()>=3e8||y.addedDocuments.size+y.modifiedDocuments.size+y.removedDocuments.size>0)&&a.push(n.Cs.updateTargetData(s,f))});let u=vn(),c=ee();if(e.documentUpdates.forEach(l=>{e.resolvedLimboDocuments.has(l)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,l))}),a.push(function lB(t,e,n){let r=ee(),i=ee();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=vn();return n.forEach((a,u)=>{const c=s.get(a);u.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(U.min())?(e.removeEntry(a,u.readTime),o=o.insert(a,u)):!c.isValidDocument()||u.version.compareTo(c.version)>0||0===u.version.compareTo(c.version)&&c.hasPendingWrites?(e.addEntry(u),o=o.insert(a,u)):T("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",u.version)}),{Wi:o,zi:i}})}(s,o,e.documentUpdates).next(l=>{u=l.Wi,c=l.zi})),!r.isEqual(U.min())){const l=n.Cs.getLastRemoteSnapshotVersion(s).next(d=>n.Cs.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(l)}return _.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,u,c)).next(()=>u)}).then(s=>(n.qi=i,s))}function gse(t,e){const n=M(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function La(t,e){const n=M(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Cs.getTargetData(r,e).next(s=>s?(i=s,_.resolve(i)):n.Cs.allocateTargetId(r).next(o=>(i=new Bi(e,o,0,r.currentSequenceNumber),n.Cs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.qi.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.qi=n.qi.insert(r.targetId,r),n.Ui.set(e,r.targetId)),r})}function Va(t,e,n){return Jb.apply(this,arguments)}function Jb(){return Jb=m(function*(t,e,n){const r=M(t),i=r.qi.get(e),s=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!Oi(o))throw o;T("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.qi=r.qi.remove(e),r.Ui.delete(i.target)}),Jb.apply(this,arguments)}function Pp(t,e,n){const r=M(t);let i=U.min(),s=ee();return r.persistence.runTransaction("Execute query","readonly",o=>function(a,u,c){const l=M(a),d=l.Ui.get(c);return void 0!==d?_.resolve(l.qi.get(d)):l.Cs.getTargetData(u,c)}(r,o,un(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Cs.getMatchingKeysForTargetId(o,a.targetId).next(u=>{s=u})}).next(()=>r.Li.getDocumentsMatchingQuery(o,e,n?i:U.min(),n?s:ee())).next(a=>(function fB(t,e,n){let r=t.Ki.get(e)||U.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.Ki.set(e,r)}(r,function qV(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}(e),a),{documents:a,Hi:s})))}class iC{constructor(){this.activeTargetIds=Ep()}er(e){this.activeTargetIds=this.activeTargetIds.add(e)}nr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}tr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class mB{constructor(){this.Lr=new iC,this.qr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.Lr.er(e),this.qr[e]||"not-current"}updateQueryState(e,n,r){this.qr[e]=n}removeLocalQueryTarget(e){this.Lr.nr(e)}isLocalQueryTarget(e){return this.Lr.activeTargetIds.has(e)}clearQueryState(e){delete this.qr[e]}getAllActiveQueryTargets(){return this.Lr.activeTargetIds}isActiveQueryTarget(e){return this.Lr.activeTargetIds.has(e)}start(){return this.Lr=new iC,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class _se{Ur(e){}shutdown(){}}class yB{constructor(){this.Kr=()=>this.Gr(),this.Qr=()=>this.jr(),this.Wr=[],this.zr()}Ur(e){this.Wr.push(e)}shutdown(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}zr(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}Gr(){T("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Wr)e(0)}jr(){T("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Wr)e(1)}static C(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const vse={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class wse{constructor(e){this.Hr=e.Hr,this.Jr=e.Jr}Yr(e){this.Xr=e}Zr(e){this.eo=e}onMessage(e){this.no=e}close(){this.Jr()}send(e){this.Hr(e)}so(){this.Xr()}io(e){this.eo(e)}ro(e){this.no(e)}}class Ise extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.oo=(e.ssl?"https":"http")+"://"+e.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get co(){return!1}ao(e,n,r,i,s){const o=this.ho(e,n);T("RestConnection","Sending: ",o,r);const a={};return this.lo(a,i,s),this.fo(e,o,a,r).then(u=>(T("RestConnection","Received: ",u),u),u=>{throw Ia("RestConnection",`${e} failed with error: `,u,"url: ",o,"request:",r),u})}_o(e,n,r,i,s,o){return this.ao(e,n,r,i,s)}lo(e,n,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+wa,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}ho(e,n){return`${this.oo}/v1/${n}:${vse[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}fo(e,n,r,i){return new Promise((s,o)=>{const a=new Ire;a.setWithCredentials(!0),a.listenOnce(_re.COMPLETE,()=>{try{switch(a.getLastErrorCode()){case hb.NO_ERROR:const c=a.getResponseJson();T("Connection","XHR received:",JSON.stringify(c)),s(c);break;case hb.TIMEOUT:T("Connection",'RPC "'+e+'" timed out'),o(new b(w.DEADLINE_EXCEEDED,"Request time out"));break;case hb.HTTP_ERROR:const l=a.getStatus();if(T("Connection",'RPC "'+e+'" failed with status:',l,"response text:",a.getResponseText()),l>0){let d=a.getResponseJson();Array.isArray(d)&&(d=d[0]);const h=d?.error;if(h&&h.status&&h.message){const f=function(p){const g=p.toLowerCase().replace(/_/g,"-");return Object.values(w).indexOf(g)>=0?g:w.UNKNOWN}(h.status);o(new b(f,h.message))}else o(new b(w.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new b(w.UNAVAILABLE,"Connection failed."));break;default:O()}}finally{T("Connection",'RPC "'+e+'" completed.')}});const u=JSON.stringify(i);a.send(n,"POST",u,r,15)})}wo(e,n,r){const i=[this.oo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=mre(),o=yre(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(a.xmlHttpFactory=new wre({})),this.lo(a.initMessageHeaders,n,r),a.encodeInitMessageHeaders=!0;const u=i.join("");T("Connection","Creating WebChannel: "+u,a);const c=s.createWebChannel(u,a);let l=!1,d=!1;const h=new wse({Hr:p=>{d?T("Connection","Not sending because WebChannel is closed:",p):(l||(T("Connection","Opening WebChannel transport."),c.open(),l=!0),T("Connection","WebChannel sending:",p),c.send(p))},Jr:()=>c.close()}),f=(p,g,y)=>{p.listen(g,I=>{try{y(I)}catch(D){setTimeout(()=>{throw D},0)}})};return f(c,up.EventType.OPEN,()=>{d||T("Connection","WebChannel transport opened.")}),f(c,up.EventType.CLOSE,()=>{d||(d=!0,T("Connection","WebChannel transport closed"),h.io())}),f(c,up.EventType.ERROR,p=>{d||(d=!0,Ia("Connection","WebChannel transport errored:",p),h.io(new b(w.UNAVAILABLE,"The operation could not be completed")))}),f(c,up.EventType.MESSAGE,p=>{var g;if(!d){const y=p.data[0];P(!!y);const D=y.error||(null===(g=y[0])||void 0===g?void 0:g.error);if(D){T("Connection","WebChannel received error:",D);const v=D.status;let R=function(B){const et=st[B];if(void 0!==et)return aU(et)}(v),V=D.message;void 0===R&&(R=w.INTERNAL,V="Unknown error status: "+v+" with message "+D.message),d=!0,h.io(new b(R,V)),c.close()}else T("Connection","WebChannel received:",y),h.ro(y)}}),f(o,vre.STAT_EVENT,p=>{p.stat===cV.PROXY?T("Connection","Detected buffering proxy"):p.stat===cV.NOPROXY&&T("Connection","Detected no buffering proxy")}),setTimeout(()=>{h.so()},0),h}}function Vp(){return typeof document<"u"?document:null}function Al(t){return new die(t,!0)}class oC{constructor(e,n,r=1e3,i=1.5,s=6e4){this.Hs=e,this.timerId=n,this.mo=r,this.yo=i,this.po=s,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}reset(){this.Io=0}Ao(){this.Io=this.po}Ro(e){this.cancel();const n=Math.floor(this.Io+this.bo()),r=Math.max(0,Date.now()-this.Eo),i=Math.max(0,n-r);i>0&&T("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Io} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.To=this.Hs.enqueueAfterDelay(this.timerId,i,()=>(this.Eo=Date.now(),e())),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}Po(){null!==this.To&&(this.To.skipDelay(),this.To=null)}cancel(){null!==this.To&&(this.To.cancel(),this.To=null)}bo(){return(Math.random()-.5)*this.Io}}class vB{constructor(e,n,r,i,s,o,a,u){this.Hs=e,this.vo=r,this.Vo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new oC(e,n)}No(){return 1===this.state||5===this.state||this.ko()}ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Oo()}stop(){var e=this;return m(function*(){e.No()&&(yield e.close(0))})()}Mo(){this.state=0,this.xo.reset()}Fo(){this.ko()&&null===this.Do&&(this.Do=this.Hs.enqueueAfterDelay(this.vo,6e4,()=>this.$o()))}Bo(e){this.Lo(),this.stream.send(e)}$o(){var e=this;return m(function*(){if(e.ko())return e.close(0)})()}Lo(){this.Do&&(this.Do.cancel(),this.Do=null)}qo(){this.Co&&(this.Co.cancel(),this.Co=null)}close(e,n){var r=this;return m(function*(){r.Lo(),r.qo(),r.xo.cancel(),r.So++,4!==e?r.xo.reset():n&&n.code===w.RESOURCE_EXHAUSTED?(Ye(n.toString()),Ye("Using maximum backoff delay to prevent overloading the backend."),r.xo.Ao()):n&&n.code===w.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Uo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.Zr(n)})()}Uo(){}auth(){this.state=1;const e=this.Ko(this.So),n=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.So===n&&this.Go(r,i)},r=>{e(()=>{const i=new b(w.UNKNOWN,"Fetching auth token failed: "+r.message);return this.Qo(i)})})}Go(e,n){const r=this.Ko(this.So);this.stream=this.jo(e,n),this.stream.Yr(()=>{r(()=>(this.state=2,this.Co=this.Hs.enqueueAfterDelay(this.Vo,1e4,()=>(this.ko()&&(this.state=3),Promise.resolve())),this.listener.Yr()))}),this.stream.Zr(i=>{r(()=>this.Qo(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Oo(){var e=this;this.state=5,this.xo.Ro(m(function*(){e.state=0,e.start()}))}Qo(e){return T("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Ko(e){return n=>{this.Hs.enqueueAndForget(()=>this.So===e?n():(T("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Ese extends vB{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.yt=s}jo(e,n){return this.connection.wo("Listen",e,n)}onMessage(e){this.xo.reset();const n=function pie(t,e){let n;if("targetChange"in e){const r="NO_CHANGE"===(u=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===u?1:"REMOVE"===u?2:"CURRENT"===u?3:"RESET"===u?4:O(),i=e.targetChange.targetIds||[],s=function(u,c){return u.wt?(P(void 0===c||"string"==typeof c),gt.fromBase64String(c||"")):(P(void 0===c||c instanceof Uint8Array),gt.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const c=void 0===u.code?w.UNKNOWN:aU(u.code);return new b(c,u.message||"")}(o);n=new hU(r,i,s,a||null)}else if("documentChange"in e){const r=e.documentChange,i=xr(t,r.document.name),s=Xe(r.document.updateTime),o=r.document.createTime?Xe(r.document.createTime):U.min(),a=new Ot({mapValue:{fields:r.document.fields}}),u=xe.newFoundDocument(i,s,o,a);n=new Dp(r.targetIds||[],r.removedTargetIds||[],u.key,u)}else if("documentDelete"in e){const r=e.documentDelete,i=xr(t,r.document),s=r.readTime?Xe(r.readTime):U.min(),o=xe.newNoDocument(i,s);n=new Dp([],r.removedTargetIds||[],o.key,o)}else if("documentRemove"in e){const r=e.documentRemove,i=xr(t,r.document);n=new Dp([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return O();{const r=e.filter,s=new nie(r.count||0);n=new dU(r.targetId,s)}}var u;return n}(this.yt,e),r=function(i){if(!("targetChange"in i))return U.min();const s=i.targetChange;return s.targetIds&&s.targetIds.length?U.min():s.readTime?Xe(s.readTime):U.min()}(e);return this.listener.Wo(n,r)}zo(e){const n={};n.database=_l(this.yt),n.addTarget=function(i,s){let o;const a=s.target;return o=gp(a)?{documents:EU(i,a)}:{query:Pb(i,a)},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0?o.resumeToken=mU(i,s.resumeToken):s.snapshotVersion.compareTo(U.min())>0&&(o.readTime=Ra(i,s.snapshotVersion.toTimestamp())),o}(this.yt,e);const r=function mie(t,e){const n=function(r,i){switch(i){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return O()}}(0,e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,e);r&&(n.labels=r),this.Bo(n)}Ho(e){const n={};n.database=_l(this.yt),n.removeTarget=e,this.Bo(n)}}class Dse extends vB{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.yt=s,this.Jo=!1}get Yo(){return this.Jo}start(){this.Jo=!1,this.lastStreamToken=void 0,super.start()}Uo(){this.Jo&&this.Xo([])}jo(e,n){return this.connection.wo("Write",e,n)}onMessage(e){if(P(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Jo){this.xo.reset();const n=function gie(t,e){return t&&t.length>0?(P(void 0!==e),t.map(n=>function(r,i){let s=Xe(r.updateTime?r.updateTime:i);return s.isEqual(U.min())&&(s=Xe(i)),new Jre(s,r.transformResults||[])}(n,e))):[]}(e.writeResults,e.commitTime),r=Xe(e.commitTime);return this.listener.Zo(r,n)}return P(!e.writeResults||0===e.writeResults.length),this.Jo=!0,this.listener.tu()}eu(){const e={};e.database=_l(this.yt),this.Bo(e)}Xo(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>function vl(t,e){let n;if(e instanceof Ma)n={update:wU(t,e.key,e.value)};else if(e instanceof ka)n={delete:yl(t,e.key)};else if(e instanceof di)n={update:wU(t,e.key,e.data),updateMask:wie(e.fieldMask)};else{if(!(e instanceof kb))return O();n={verify:yl(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,s){const o=s.transform;if(o instanceof Aa)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof zs)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof Ws)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof xa)return{fieldPath:s.field.canonicalString(),increment:o.gt};throw O()}(0,r))),e.precondition.isNone||(n.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:hie(t,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:O()),n;var i}(this.yt,r))};this.Bo(n)}}class bse extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.yt=i,this.nu=!1}su(){if(this.nu)throw new b(w.FAILED_PRECONDITION,"The client has already been terminated.")}ao(e,n,r){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.ao(e,n,r,i,s)).catch(i=>{throw"FirebaseError"===i.name?(i.code===w.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new b(w.UNKNOWN,i.toString())})}_o(e,n,r,i){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection._o(e,n,r,s,o,i)).catch(s=>{throw"FirebaseError"===s.name?(s.code===w.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new b(w.UNKNOWN,s.toString())})}terminate(){this.nu=!0}}class Tse{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}uu(){0===this.iu&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ru=null,this.au("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve())))}hu(e){"Online"===this.state?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.cu("Offline")))}set(e){this.lu(),this.iu=0,"Online"===e&&(this.ou=!1),this.cu(e)}cu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}au(e){const n=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ou?(Ye(n),this.ou=!1):T("OnlineStateTracker",n)}lu(){null!==this.ru&&(this.ru.cancel(),this.ru=null)}}class Sse{constructor(e,n,r,i,s){var o=this;this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=s,this.mu.Ur(a=>{r.enqueueAndForget(m(function*(){var u;hi(o)&&(T("RemoteStore","Restarting streams for network reachability change."),yield(u=m(function*(c){const l=M(c);l._u.add(4),yield Ua(l),l.gu.set("Unknown"),l._u.delete(4),yield xl(l)}),function(c){return u.apply(this,arguments)})(o))}))}),this.gu=new Tse(r,i)}}function xl(t){return uC.apply(this,arguments)}function uC(){return uC=m(function*(t){if(hi(t))for(const e of t.wu)yield e(!0)}),uC.apply(this,arguments)}function Ua(t){return cC.apply(this,arguments)}function cC(){return cC=m(function*(t){for(const e of t.wu)yield e(!1)}),cC.apply(this,arguments)}function Up(t,e){const n=M(t);n.du.has(e.targetId)||(n.du.set(e.targetId,e),hC(n)?dC(n):$a(n).ko()&&lC(n,e))}function Ml(t,e){const n=M(t),r=$a(n);n.du.delete(e),r.ko()&&wB(n,e),0===n.du.size&&(r.ko()?r.Fo():hi(n)&&n.gu.set("Unknown"))}function lC(t,e){t.yu.Ot(e.targetId),$a(t).zo(e)}function wB(t,e){t.yu.Ot(e),$a(t).Ho(e)}function dC(t){t.yu=new aie({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ne:e=>t.du.get(e)||null}),$a(t).start(),t.gu.uu()}function hC(t){return hi(t)&&!$a(t).No()&&t.du.size>0}function hi(t){return 0===M(t)._u.size}function IB(t){t.yu=void 0}function Ase(t){return fC.apply(this,arguments)}function fC(){return fC=m(function*(t){t.du.forEach((e,n)=>{lC(t,e)})}),fC.apply(this,arguments)}function xse(t,e){return pC.apply(this,arguments)}function pC(){return pC=m(function*(t,e){IB(t),hC(t)?(t.gu.hu(e),dC(t)):t.gu.set("Unknown")}),pC.apply(this,arguments)}function Mse(t,e,n){return gC.apply(this,arguments)}function gC(){return gC=m(function*(t,e,n){if(t.gu.set("Online"),e instanceof hU&&2===e.state&&e.cause)try{yield(r=m(function*(i,s){const o=s.cause;for(const a of s.targetIds)i.du.has(a)&&(yield i.remoteSyncer.rejectListen(a,o),i.du.delete(a),i.yu.removeTarget(a))}),function(i,s){return r.apply(this,arguments)})(t,e)}catch(r){T("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield Bp(t,r)}else if(e instanceof Dp?t.yu.Kt(e):e instanceof dU?t.yu.Jt(e):t.yu.jt(e),!n.isEqual(U.min()))try{const r=yield cB(t.localStore);n.compareTo(r)>=0&&(yield function(i,s){const o=i.yu.Zt(s);return o.targetChanges.forEach((a,u)=>{if(a.resumeToken.approximateByteSize()>0){const c=i.du.get(u);c&&i.du.set(u,c.withResumeToken(a.resumeToken,s))}}),o.targetMismatches.forEach(a=>{const u=i.du.get(a);if(!u)return;i.du.set(a,u.withResumeToken(gt.EMPTY_BYTE_STRING,u.snapshotVersion)),wB(i,a);const c=new Bi(u.target,a,1,u.sequenceNumber);lC(i,c)}),i.remoteSyncer.applyRemoteEvent(o)}(t,n))}catch(r){T("RemoteStore","Failed to raise snapshot:",r),yield Bp(t,r)}var r}),gC.apply(this,arguments)}function Bp(t,e,n){return mC.apply(this,arguments)}function mC(){return mC=m(function*(t,e,n){if(!Oi(e))throw e;t._u.add(1),yield Ua(t),t.gu.set("Offline"),n||(n=()=>cB(t.localStore)),t.asyncQueue.enqueueRetryable(m(function*(){T("RemoteStore","Retrying IndexedDB access"),yield n(),t._u.delete(1),yield xl(t)}))}),mC.apply(this,arguments)}function EB(t,e){return e().catch(n=>Bp(t,n,e))}function Ba(t){return yC.apply(this,arguments)}function yC(){return yC=m(function*(t){const e=M(t),n=Hi(e);let r=e.fu.length>0?e.fu[e.fu.length-1].batchId:-1;for(;kse(e);)try{const i=yield gse(e.localStore,r);if(null===i){0===e.fu.length&&n.Fo();break}r=i.batchId,Rse(e,i)}catch(i){yield Bp(e,i)}DB(e)&&bB(e)}),yC.apply(this,arguments)}function kse(t){return hi(t)&&t.fu.length<10}function Rse(t,e){t.fu.push(e);const n=Hi(t);n.ko()&&n.Yo&&n.Xo(e.mutations)}function DB(t){return hi(t)&&!Hi(t).No()&&t.fu.length>0}function bB(t){Hi(t).start()}function Nse(t){return _C.apply(this,arguments)}function _C(){return _C=m(function*(t){Hi(t).eu()}),_C.apply(this,arguments)}function Ose(t){return vC.apply(this,arguments)}function vC(){return vC=m(function*(t){const e=Hi(t);for(const n of t.fu)e.Xo(n.mutations)}),vC.apply(this,arguments)}function Pse(t,e,n){return wC.apply(this,arguments)}function wC(){return wC=m(function*(t,e,n){const r=t.fu.shift(),i=Vb.from(r,e,n);yield EB(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield Ba(t)}),wC.apply(this,arguments)}function Fse(t,e){return IC.apply(this,arguments)}function IC(){return IC=m(function*(t,e){var n;e&&Hi(t).Yo&&(yield(n=m(function*(r,i){if(oU(s=i.code)&&s!==w.ABORTED){const o=r.fu.shift();Hi(r).Mo(),yield EB(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield Ba(r)}var s}),function(r,i){return n.apply(this,arguments)})(t,e)),DB(t)&&bB(t)}),IC.apply(this,arguments)}function CB(t,e){return EC.apply(this,arguments)}function EC(){return EC=m(function*(t,e){const n=M(t);n.asyncQueue.verifyOperationInProgress(),T("RemoteStore","RemoteStore received new credentials");const r=hi(n);n._u.add(3),yield Ua(n),r&&n.gu.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n._u.delete(3),yield xl(n)}),EC.apply(this,arguments)}function bC(){return bC=m(function*(t,e){const n=M(t);e?(n._u.delete(2),yield xl(n)):e||(n._u.add(2),yield Ua(n),n.gu.set("Unknown"))}),bC.apply(this,arguments)}function $a(t){return t.pu||(t.pu=function(e,n,r){const i=M(e);return i.su(),new Ese(n,i.connection,i.authCredentials,i.appCheckCredentials,i.yt,r)}(t.datastore,t.asyncQueue,{Yr:Ase.bind(null,t),Zr:xse.bind(null,t),Wo:Mse.bind(null,t)}),t.wu.push(function(){var e=m(function*(n){n?(t.pu.Mo(),hC(t)?dC(t):t.gu.set("Unknown")):(yield t.pu.stop(),IB(t))});return function(n){return e.apply(this,arguments)}}())),t.pu}function Hi(t){return t.Iu||(t.Iu=function(e,n,r){const i=M(e);return i.su(),new Dse(n,i.connection,i.authCredentials,i.appCheckCredentials,i.yt,r)}(t.datastore,t.asyncQueue,{Yr:Nse.bind(null,t),Zr:Fse.bind(null,t),tu:Ose.bind(null,t),Zo:Pse.bind(null,t)}),t.wu.push(function(){var e=m(function*(n){n?(t.Iu.Mo(),yield Ba(t)):(yield t.Iu.stop(),t.fu.length>0&&(T("RemoteStore",`Stopping write stream with ${t.fu.length} pending writes`),t.fu=[]))});return function(n){return e.apply(this,arguments)}}())),t.Iu}class CC{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new pt,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new CC(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new b(w.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ja(t,e){if(Ye("AsyncQueue",`${e}: ${t}`),Oi(t))return new b(w.UNAVAILABLE,`${e}: ${t}`);throw t}class Ga{constructor(e){this.comparator=e?(n,r)=>e(n,r)||x.comparator(n.key,r.key):(n,r)=>x.comparator(n.key,r.key),this.keyedMap=fl(),this.sortedSet=new ze(this.comparator)}static emptySet(e){return new Ga(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Ga)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,n){const r=new Ga;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class TB{constructor(){this.Tu=new ze(x.comparator)}track(e){const n=e.doc.key,r=this.Tu.get(n);r?0!==e.type&&3===r.type?this.Tu=this.Tu.insert(n,e):3===e.type&&1!==r.type?this.Tu=this.Tu.insert(n,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Tu=this.Tu.insert(n,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Tu=this.Tu.insert(n,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Tu=this.Tu.remove(n):1===e.type&&2===r.type?this.Tu=this.Tu.insert(n,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Tu=this.Tu.insert(n,{type:2,doc:e.doc}):O():this.Tu=this.Tu.insert(n,e)}Eu(){const e=[];return this.Tu.inorderTraversal((n,r)=>{e.push(r)}),e}}class Ha{constructor(e,n,r,i,s,o,a,u,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Ha(e,n,Ga.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ll(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}class Lse{constructor(){this.Au=void 0,this.listeners=[]}}class Vse{constructor(){this.queries=new Ui(e=>HV(e),ll),this.onlineState="Unknown",this.Ru=new Set}}function SC(){return SC=m(function*(t,e){const n=M(t),r=e.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new Lse),i)try{s.Au=yield n.onListen(r)}catch(o){const a=ja(o,`Initialization of query '${xb(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,s),s.listeners.push(e),e.bu(n.onlineState),s.Au&&e.Pu(s.Au)&&MC(n)}),SC.apply(this,arguments)}function xC(){return xC=m(function*(t,e){const n=M(t),r=e.query;let i=!1;const s=n.queries.get(r);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=0===s.listeners.length)}if(i)return n.queries.delete(r),n.onUnlisten(r)}),xC.apply(this,arguments)}function Use(t,e){const n=M(t);let r=!1;for(const i of e){const o=n.queries.get(i.query);if(o){for(const a of o.listeners)a.Pu(i)&&(r=!0);o.Au=i}}r&&MC(n)}function Bse(t,e,n){const r=M(t),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(e)}function MC(t){t.Ru.forEach(e=>{e.next()})}class kC{constructor(e,n,r){this.query=e,this.vu=n,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=r||{}}Pu(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new Ha(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Vu?this.Du(e)&&(this.vu.next(e),n=!0):this.Cu(e,this.onlineState)&&(this.xu(e),n=!0),this.Su=e,n}onError(e){this.vu.error(e)}bu(e){this.onlineState=e;let n=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,e)&&(this.xu(this.Su),n=!0),n}Cu(e,n){return!e.fromCache||(!this.options.Nu||!("Offline"!==n))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===n)}Du(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Su&&this.Su.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}xu(e){e=Ha.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Vu=!0,this.vu.next(e)}}class xB{constructor(e){this.key=e}}class MB{constructor(e){this.key=e}}class kB{constructor(e,n){this.query=e,this.qu=n,this.Uu=null,this.hasCachedResults=!1,this.current=!1,this.Ku=ee(),this.mutatedKeys=ee(),this.Gu=zV(e),this.Qu=new Ga(this.Gu)}get ju(){return this.qu}Wu(e,n){const r=n?n.zu:new TB,i=n?n.Qu:this.Qu;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const u="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,c="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((l,d)=>{const h=i.get(l),f=Mb(this.query,d)?d:null,p=!!h&&this.mutatedKeys.has(h.key),g=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations);let y=!1;h&&f?h.data.isEqual(f.data)?p!==g&&(r.track({type:3,doc:f}),y=!0):this.Hu(h,f)||(r.track({type:2,doc:f}),y=!0,(u&&this.Gu(f,u)>0||c&&this.Gu(f,c)<0)&&(a=!0)):!h&&f?(r.track({type:0,doc:f}),y=!0):h&&!f&&(r.track({type:1,doc:h}),y=!0,(u||c)&&(a=!0)),y&&(f?(o=o.add(f),s=g?s.add(l):s.delete(l)):(o=o.delete(l),s=s.delete(l)))}),null!==this.query.limit)for(;o.size>this.query.limit;){const l="F"===this.query.limitType?o.last():o.first();o=o.delete(l.key),s=s.delete(l.key),r.track({type:1,doc:l})}return{Qu:o,zu:r,$i:a,mutatedKeys:s}}Hu(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const i=this.Qu;this.Qu=e.Qu,this.mutatedKeys=e.mutatedKeys;const s=e.zu.Eu();s.sort((c,l)=>function(d,h){const f=p=>{switch(p){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return O()}};return f(d)-f(h)}(c.type,l.type)||this.Gu(c.doc,l.doc)),this.Ju(r);const o=n?this.Yu():[],a=0===this.Ku.size&&this.current?1:0,u=a!==this.Uu;return this.Uu=a,0!==s.length||u?{snapshot:new Ha(this.query,e.Qu,i,s,e.mutatedKeys,0===a,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),Xu:o}:{Xu:o}}bu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new TB,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Xu:[]}}Zu(e){return!this.qu.has(e)&&!!this.Qu.has(e)&&!this.Qu.get(e).hasLocalMutations}Ju(e){e&&(e.addedDocuments.forEach(n=>this.qu=this.qu.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.qu=this.qu.delete(n)),this.current=e.current)}Yu(){if(!this.current)return[];const e=this.Ku;this.Ku=ee(),this.Qu.forEach(r=>{this.Zu(r.key)&&(this.Ku=this.Ku.add(r.key))});const n=[];return e.forEach(r=>{this.Ku.has(r)||n.push(new MB(r))}),this.Ku.forEach(r=>{e.has(r)||n.push(new xB(r))}),n}tc(e){this.qu=e.Hi,this.Ku=ee();const n=this.Wu(e.documents);return this.applyChanges(n,!0)}ec(){return Ha.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,0===this.Uu,this.hasCachedResults)}}class Gse{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class Hse{constructor(e){this.key=e,this.nc=!1}}class qse{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.sc={},this.ic=new Ui(a=>HV(a),ll),this.rc=new Map,this.oc=new Set,this.uc=new ze(x.comparator),this.cc=new Map,this.ac=new Wb,this.hc={},this.lc=new Map,this.fc=Js.vn(),this.onlineState="Unknown",this.dc=void 0}get isPrimaryClient(){return!0===this.dc}}function zse(t,e){return RC.apply(this,arguments)}function RC(){return RC=m(function*(t,e){const n=tT(t);let r,i;const s=n.ic.get(e);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.ec();else{const o=yield La(n.localStore,un(e));n.isPrimaryClient&&Up(n.remoteStore,o);const a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=yield NC(n,e,r,"current"===a,o.resumeToken)}return i}),RC.apply(this,arguments)}function NC(t,e,n,r,i){return OC.apply(this,arguments)}function OC(){return OC=m(function*(t,e,n,r,i){t._c=(d,h,f)=>{return(p=m(function*(g,y,I,D){let v=y.view.Wu(I);v.$i&&(v=yield Pp(g.localStore,y.query,!1).then(({documents:B})=>y.view.Wu(B,v)));const R=D&&D.targetChanges.get(y.targetId),V=y.view.applyChanges(v,g.isPrimaryClient,R);return HC(g,y.targetId,V.Xu),V.snapshot}),function(g,y,I,D){return p.apply(this,arguments)})(t,d,h,f);var p};const s=yield Pp(t.localStore,e,!0),o=new kB(e,s.Hi),a=o.Wu(s.documents),u=ml.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState,i),c=o.applyChanges(a,t.isPrimaryClient,u);HC(t,n,c.Xu);const l=new Gse(e,n,o);return t.ic.set(e,l),t.rc.has(n)?t.rc.get(n).push(e):t.rc.set(n,[e]),c.snapshot}),OC.apply(this,arguments)}function Wse(t,e){return PC.apply(this,arguments)}function PC(){return PC=m(function*(t,e){const n=M(t),r=n.ic.get(e),i=n.rc.get(r.targetId);if(i.length>1)return n.rc.set(r.targetId,i.filter(s=>!ll(s,e))),void n.ic.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||(yield Va(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),Ml(n.remoteStore,r.targetId),qa(n,r.targetId)}).catch(Ni))):(qa(n,r.targetId),yield Va(n.localStore,r.targetId,!0))}),PC.apply(this,arguments)}function FC(){return FC=m(function*(t,e,n){const r=nT(t);try{const i=yield function(s,o){const a=M(s),u=Ve.now(),c=o.reduce((h,f)=>h.add(f.key),ee());let l,d;return a.persistence.runTransaction("Locally write mutations","readwrite",h=>{let f=vn(),p=ee();return a.Gi.getEntries(h,c).next(g=>{f=g,f.forEach((y,I)=>{I.isValidDocument()||(p=p.add(y))})}).next(()=>a.localDocuments.getOverlayedDocuments(h,f)).next(g=>{l=g;const y=[];for(const I of o){const D=tie(I,l.get(I.key).overlayedDocument);null!=D&&y.push(new di(I.key,D,UV(D.value.mapValue),Ne.exists(!0)))}return a.mutationQueue.addMutationBatch(h,u,y,o)}).next(g=>{d=g;const y=g.applyToLocalDocumentSet(l,p);return a.documentOverlayCache.saveOverlays(h,g.batchId,y)})}).then(()=>({batchId:d.batchId,changes:cU(l)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,o,a){let u=s.hc[s.currentUser.toKey()];u||(u=new ze(Y)),u=u.insert(o,a),s.hc[s.currentUser.toKey()]=u}(r,i.batchId,n),yield fi(r,i.changes),yield Ba(r.remoteStore)}catch(i){const s=ja(i,"Failed to persist write");n.reject(s)}}),FC.apply(this,arguments)}function RB(t,e){return LC.apply(this,arguments)}function LC(){return LC=m(function*(t,e){const n=M(t);try{const r=yield pse(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.cc.get(s);o&&(P(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.nc=!0:i.modifiedDocuments.size>0?P(o.nc):i.removedDocuments.size>0&&(P(o.nc),o.nc=!1))}),yield fi(n,r,e)}catch(r){yield Ni(r)}}),LC.apply(this,arguments)}function NB(t,e,n){const r=M(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const i=[];r.ic.forEach((s,o)=>{const a=o.view.bu(e);a.snapshot&&i.push(a.snapshot)}),function(s,o){const a=M(s);a.onlineState=o;let u=!1;a.queries.forEach((c,l)=>{for(const d of l.listeners)d.bu(o)&&(u=!0)}),u&&MC(a)}(r.eventManager,e),i.length&&r.sc.Wo(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function Qse(t,e,n){return VC.apply(this,arguments)}function VC(){return VC=m(function*(t,e,n){const r=M(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.cc.get(e),s=i&&i.key;if(s){let o=new ze(x.comparator);o=o.insert(s,xe.newNoDocument(s,U.min()));const a=ee().add(s),u=new gl(U.min(),new Map,new Ie(Y),o,a);yield RB(r,u),r.uc=r.uc.remove(s),r.cc.delete(e),qC(r)}else yield Va(r.localStore,e,!1).then(()=>qa(r,e,n)).catch(Ni)}),VC.apply(this,arguments)}function Yse(t,e){return UC.apply(this,arguments)}function UC(){return UC=m(function*(t,e){const n=M(t),r=e.batch.batchId;try{const i=yield fse(n.localStore,e);GC(n,r,null),jC(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield fi(n,i)}catch(i){yield Ni(i)}}),UC.apply(this,arguments)}function Zse(t,e,n){return BC.apply(this,arguments)}function BC(){return BC=m(function*(t,e,n){const r=M(t);try{const i=yield function(s,o){const a=M(s);return a.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let c;return a.mutationQueue.lookupMutationBatch(u,o).next(l=>(P(null!==l),c=l.keys(),a.mutationQueue.removeMutationBatch(u,l))).next(()=>a.mutationQueue.performConsistencyCheck(u)).next(()=>a.documentOverlayCache.removeOverlaysForBatchId(u,c,o)).next(()=>a.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,c)).next(()=>a.localDocuments.getDocuments(u,c))})}(r.localStore,e);GC(r,e,n),jC(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield fi(r,i)}catch(i){yield Ni(i)}}),BC.apply(this,arguments)}function jC(t,e){(t.lc.get(e)||[]).forEach(n=>{n.resolve()}),t.lc.delete(e)}function GC(t,e,n){const r=M(t);let i=r.hc[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.hc[r.currentUser.toKey()]=i}}function qa(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.rc.get(e))t.ic.delete(r),n&&t.sc.wc(r,n);t.rc.delete(e),t.isPrimaryClient&&t.ac.ls(e).forEach(r=>{t.ac.containsKey(r)||OB(t,r)})}function OB(t,e){t.oc.delete(e.path.canonicalString());const n=t.uc.get(e);null!==n&&(Ml(t.remoteStore,n),t.uc=t.uc.remove(e),t.cc.delete(n),qC(t))}function HC(t,e,n){for(const r of n)r instanceof xB?(t.ac.addReference(r.key,e),Jse(t,r)):r instanceof MB?(T("SyncEngine","Document no longer in limbo: "+r.key),t.ac.removeReference(r.key,e),t.ac.containsKey(r.key)||OB(t,r.key)):O()}function Jse(t,e){const n=e.key,r=n.path.canonicalString();t.uc.get(n)||t.oc.has(r)||(T("SyncEngine","New document in limbo: "+n),t.oc.add(r),qC(t))}function qC(t){for(;t.oc.size>0&&t.uc.size<t.maxConcurrentLimboResolutions;){const e=t.oc.values().next().value;t.oc.delete(e);const n=new x(fe.fromString(e)),r=t.fc.next();t.cc.set(r,new Hse(n)),t.uc=t.uc.insert(n,r),Up(t.remoteStore,new Bi(un(Sa(n.path)),r,2,Pn.at))}}function fi(t,e,n){return zC.apply(this,arguments)}function zC(){return zC=m(function*(t,e,n){const r=M(t),i=[],s=[],o=[];var a;r.ic.isEmpty()||(r.ic.forEach((a,u)=>{o.push(r._c(u,e,n).then(c=>{if((c||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(u.targetId,c?.fromCache?"not-current":"current"),c){i.push(c);const l=Zb.Ci(u.targetId,c);s.push(l)}}))}),yield Promise.all(o),r.sc.Wo(i),yield(a=m(function*(u,c){const l=M(u);try{yield l.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>_.forEach(c,h=>_.forEach(h.Si,f=>l.persistence.referenceDelegate.addReference(d,h.targetId,f)).next(()=>_.forEach(h.Di,f=>l.persistence.referenceDelegate.removeReference(d,h.targetId,f)))))}catch(d){if(!Oi(d))throw d;T("LocalStore","Failed to update sequence numbers: "+d)}for(const d of c){const h=d.targetId;if(!d.fromCache){const f=l.qi.get(h),g=f.withLastLimboFreeSnapshotVersion(f.snapshotVersion);l.qi=l.qi.insert(h,g)}}}),function(u,c){return a.apply(this,arguments)})(r.localStore,s))}),zC.apply(this,arguments)}function eoe(t,e){return WC.apply(this,arguments)}function WC(){return WC=m(function*(t,e){const n=M(t);if(!n.currentUser.isEqual(e)){T("SyncEngine","User change. New user:",e.toKey());const r=yield uB(n.localStore,e);n.currentUser=e,(i=n).lc.forEach(o=>{o.forEach(a=>{a.reject(new b(w.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.lc.clear(),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield fi(n,r.ji)}var i}),WC.apply(this,arguments)}function toe(t,e){const n=M(t),r=n.cc.get(e);if(r&&r.nc)return ee().add(r.key);{let i=ee();const s=n.rc.get(e);if(!s)return i;for(const o of s){const a=n.ic.get(o);i=i.unionWith(a.view.ju)}return i}}function tT(t){const e=M(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=RB.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=toe.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Qse.bind(null,e),e.sc.Wo=Use.bind(null,e.eventManager),e.sc.wc=Bse.bind(null,e.eventManager),e}function nT(t){const e=M(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Yse.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Zse.bind(null,e),e}class loe{constructor(){this.synchronizeTabs=!1}initialize(e){var n=this;return m(function*(){n.yt=Al(e.databaseInfo.databaseId),n.sharedClientState=n.gc(e),n.persistence=n.yc(e),yield n.persistence.start(),n.localStore=n.Ic(e),n.gcScheduler=n.Tc(e,n.localStore),n.indexBackfillerScheduler=n.Ec(e,n.localStore)})()}Tc(e,n){return null}Ec(e,n){return null}Ic(e){return function aB(t,e,n,r){return new hse(t,e,n,r)}(this.persistence,new oB,e.initialUser,this.yt)}yc(e){return new iB(Np.Bs,this.yt)}gc(e){return new mB}terminate(){var e=this;return m(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class rT{initialize(e,n){var r=this;return m(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(n),r.remoteStore=r.createRemoteStore(n),r.eventManager=r.createEventManager(n),r.syncEngine=r.createSyncEngine(n,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>NB(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=eoe.bind(null,r.syncEngine),yield function DC(t,e){return bC.apply(this,arguments)}(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new Vse}createDatastore(e){const n=Al(e.databaseInfo.databaseId),r=new Ise(e.databaseInfo);return new bse(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return n=this.localStore,r=this.datastore,i=e.asyncQueue,s=a=>NB(this.syncEngine,a,0),o=yB.C()?new yB:new _se,new Sse(n,r,i,s,o);var n,r,i,s,o}createSyncEngine(e,n){return function(r,i,s,o,a,u,c){const l=new qse(r,i,s,o,a,u);return c&&(l.dc=!0),l}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return function(){var e=m(function*(n){const r=M(n);T("RemoteStore","RemoteStore shutting down."),r._u.add(5),yield Ua(r),r.mu.shutdown(),r.gu.set("Unknown")});return function(n){return e.apply(this,arguments)}}()(this.remoteStore)}}function iT(t,e,n){if(!n)throw new b(w.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function LB(t){if(!x.isDocumentKey(t))throw new b(w.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function VB(t){if(x.isDocumentKey(t))throw new b(w.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function $p(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";{const e=(n=t).constructor?n.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var n;return"function"==typeof t?"a function":O()}function ce(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new b(w.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=$p(t);throw new b(w.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}const BB=new Map;class $B{constructor(e){var n;if(void 0===e.host){if(void 0!==e.ssl)throw new b(w.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(n=e.ssl)||void 0===n||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new b(w.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,function foe(t,e,n,r){if(!0===e&&!0===r)throw new b(w.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class kl{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new $B({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new b(w.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new b(w.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new $B(e),void 0!==e.credentials&&(this._authCredentials=function(n){if(!n)return new Ere;switch(n.type){case"gapi":return new Tre(n.client,n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new b(w.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=BB.get(e);n&&(T("ComponentProvider","Removing Datastore"),BB.delete(e),n.terminate())}(this),Promise.resolve()}}class Je{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new kr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Je(this.firestore,e,this._key)}}class Pt{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Pt(this.firestore,e,this._query)}}class kr extends Pt{constructor(e,n,r){super(e,n,Sa(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Je(this.firestore,null,new x(e))}withConverter(e){return new kr(this.firestore,e,this._path)}}function jB(t,e,...n){if(t=qn(t),iT("collection","path",e),t instanceof kl){const r=fe.fromString(e,...n);return VB(r),new kr(t,null,r)}{if(!(t instanceof Je||t instanceof kr))throw new b(w.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(fe.fromString(e,...n));return VB(r),new kr(t.firestore,null,r)}}function GB(t,e,...n){if(t=qn(t),1===arguments.length&&(e=fV.R()),iT("doc","path",e),t instanceof kl){const r=fe.fromString(e,...n);return LB(r),new Je(t,null,new x(r))}{if(!(t instanceof Je||t instanceof kr))throw new b(w.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(fe.fromString(e,...n));return LB(r),new Je(t.firestore,t instanceof kr?t.converter:null,new x(r))}}class jp{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Rc(this.observer.next,e)}error(e){this.observer.error?this.Rc(this.observer.error,e):Ye("Uncaught Error in snapshot listener:",e.toString())}bc(){this.muted=!0}Rc(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}class woe{constructor(e,n,r,i){var s=this;this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=vt.UNAUTHENTICATED,this.clientId=fV.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var o=m(function*(a){T("FirestoreClient","Received user=",a.uid),yield s.authCredentialListener(a),s.user=a});return function(a){return o.apply(this,arguments)}}()),this.appCheckCredentials.start(r,o=>(T("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}getConfiguration(){var e=this;return m(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new b(w.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const n=new pt;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(m(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),n.resolve()}catch(r){const i=ja(r,"Failed to shutdown persistence");n.reject(i)}})),n.promise}}function zB(t,e){return sT.apply(this,arguments)}function sT(){return sT=m(function*(t,e){t.asyncQueue.verifyOperationInProgress(),T("FirestoreClient","Initializing OfflineComponentProvider");const n=yield t.getConfiguration();yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(function(){var i=m(function*(s){r.isEqual(s)||(yield uB(e.localStore,s),r=s)});return function(s){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t.offlineComponents=e}),sT.apply(this,arguments)}function WB(t,e){return oT.apply(this,arguments)}function oT(){return oT=m(function*(t,e){t.asyncQueue.verifyOperationInProgress();const n=yield aT(t);T("FirestoreClient","Initializing OnlineComponentProvider");const r=yield t.getConfiguration();yield e.initialize(n,r),t.setCredentialChangeListener(i=>CB(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,s)=>CB(e.remoteStore,s)),t.onlineComponents=e}),oT.apply(this,arguments)}function aT(t){return uT.apply(this,arguments)}function uT(){return uT=m(function*(t){return t.offlineComponents||(T("FirestoreClient","Using default OfflineComponentProvider"),yield zB(t,new loe)),t.offlineComponents}),uT.apply(this,arguments)}function Gp(t){return cT.apply(this,arguments)}function cT(){return cT=m(function*(t){return t.onlineComponents||(T("FirestoreClient","Using default OnlineComponentProvider"),yield WB(t,new rT)),t.onlineComponents}),cT.apply(this,arguments)}function za(t){return hT.apply(this,arguments)}function hT(){return hT=m(function*(t){const e=yield Gp(t),n=e.eventManager;return n.onListen=zse.bind(null,e.syncEngine),n.onUnlisten=Wse.bind(null,e.syncEngine),n}),hT.apply(this,arguments)}class Aoe{constructor(){this.Bc=Promise.resolve(),this.Lc=[],this.qc=!1,this.Uc=[],this.Kc=null,this.Gc=!1,this.Qc=!1,this.jc=[],this.xo=new oC(this,"async_queue_retry"),this.Wc=()=>{const n=Vp();n&&T("AsyncQueue","Visibility state changed to "+n.visibilityState),this.xo.Po()};const e=Vp();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Wc)}get isShuttingDown(){return this.qc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.zc(),this.Hc(e)}enterRestrictedMode(e){if(!this.qc){this.qc=!0,this.Qc=e||!1;const n=Vp();n&&"function"==typeof n.removeEventListener&&n.removeEventListener("visibilitychange",this.Wc)}}enqueue(e){if(this.zc(),this.qc)return new Promise(()=>{});const n=new pt;return this.Hc(()=>this.qc&&this.Qc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Lc.push(e),this.Jc()))}Jc(){var e=this;return m(function*(){if(0!==e.Lc.length){try{yield e.Lc[0](),e.Lc.shift(),e.xo.reset()}catch(n){if(!Oi(n))throw n;T("AsyncQueue","Operation failed with retryable error: "+n)}e.Lc.length>0&&e.xo.Ro(()=>e.Jc())}})()}Hc(e){const n=this.Bc.then(()=>(this.Gc=!0,e().catch(r=>{throw this.Kc=r,this.Gc=!1,Ye("INTERNAL UNHANDLED ERROR: ",function(s){let o=s.message||"";return s.stack&&(o=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),o}(r)),r}).then(r=>(this.Gc=!1,r))));return this.Bc=n,n}enqueueAfterDelay(e,n,r){this.zc(),this.jc.indexOf(e)>-1&&(n=0);const i=CC.createAndSchedule(this,e,n,r,s=>this.Yc(s));return this.Uc.push(i),i}zc(){this.Kc&&O()}verifyOperationInProgress(){}Xc(){var e=this;return m(function*(){let n;do{n=e.Bc,yield n}while(n!==e.Bc)})()}Zc(e){for(const n of this.Uc)if(n.timerId===e)return!0;return!1}ta(e){return this.Xc().then(()=>{this.Uc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Uc)if(n.skipDelay(),"all"!==e&&n.timerId===e)break;return this.Xc()})}ea(e){this.jc.push(e)}Yc(e){const n=this.Uc.indexOf(e);this.Uc.splice(n,1)}}function fT(t){return function(e,n){if("object"!=typeof e||null===e)return!1;const r=e;for(const i of["next","error","complete"])if(i in r&&"function"==typeof r[i])return!0;return!1}(t)}class Me extends kl{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new Aoe,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||XB(this),this._firestoreClient.terminate()}}function Moe(t,e){const r="string"==typeof t?t:e||"(default)",i=uf("object"==typeof t?t:_O(),"firestore").getImmediate({identifier:r});if(!i._initialized){const s=(t=>{const e=(t=>{var e,n;return null===(n=null===(e=ef())||void 0===e?void 0:e.emulatorHosts)||void 0===n?void 0:n[t]})(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return"["===e[0]?[e.substring(1,n-1),r]:[e.substring(0,n),r]})("firestore");s&&function poe(t,e,n,r={}){var i;const s=(t=ce(t,kl))._getSettings();if("firestore.googleapis.com"!==s.host&&s.host!==e&&Ia("Host has been set in both settings() and useEmulator(), emulator host will be used"),t._setSettings(Object.assign(Object.assign({},s),{host:`${e}:${n}`,ssl:!1})),r.mockUserToken){let o,a;if("string"==typeof r.mockUserToken)o=r.mockUserToken,a=vt.MOCK_USER;else{o=function Q9(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Xh(JSON.stringify({alg:"none",type:"JWT"})),Xh(JSON.stringify(o)),""].join(".")}(r.mockUserToken,null===(i=t._app)||void 0===i?void 0:i.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new b(w.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");a=new vt(u)}t._authCredentials=new Dre(new dV(o,a))}}(i,...s)}return i}function ot(t){return t._firestoreClient||XB(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function XB(t){var e;const n=t._freezeSettings(),r=(s=(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",new Lre(t._databaseId,s,t._persistenceKey,(a=n).host,a.ssl,a.experimentalForceLongPolling,a.experimentalAutoDetectLongPolling,a.useFetchStreams));var s,a;t._firestoreClient=new woe(t._authCredentials,t._appCheckCredentials,t._queue,r)}class to{constructor(e){this._byteString=e}static fromBase64String(e){try{return new to(gt.fromBase64String(e))}catch(n){throw new b(w.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new to(gt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Wa{constructor(...e){for(let n=0;n<e.length;++n)if(0===e[n].length)throw new b(w.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ze(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class t2{constructor(e){this._methodName=e}}class pT{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new b(w.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new b(w.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Y(this._lat,e._lat)||Y(this._long,e._long)}}const koe=/^__.*__$/;class Roe{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return null!==this.fieldMask?new di(e,this.data,this.fieldMask,n,this.fieldTransforms):new Ma(e,this.data,n,this.fieldTransforms)}}function r2(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw O()}}class qp{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.yt=r,this.ignoreUndefinedProperties=i,void 0===s&&this.na(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get sa(){return this.settings.sa}ia(e){return new qp(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.yt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ra(e){var n;const r=null===(n=this.path)||void 0===n?void 0:n.child(e),i=this.ia({path:r,oa:!1});return i.ua(e),i}ca(e){var n;const r=null===(n=this.path)||void 0===n?void 0:n.child(e),i=this.ia({path:r,oa:!1});return i.na(),i}aa(e){return this.ia({path:void 0,oa:!0})}ha(e){return Wp(e,this.settings.methodName,this.settings.la||!1,this.path,this.settings.fa)}contains(e){return void 0!==this.fieldMask.find(n=>e.isPrefixOf(n))||void 0!==this.fieldTransforms.find(n=>e.isPrefixOf(n.field))}na(){if(this.path)for(let e=0;e<this.path.length;e++)this.ua(this.path.get(e))}ua(e){if(0===e.length)throw this.ha("Document fields must not be empty");if(r2(this.sa)&&koe.test(e))throw this.ha('Document fields cannot begin and end with "__"')}}class Noe{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.yt=r||Al(e)}da(e,n,r,i=!1){return new qp({sa:e,methodName:n,fa:r,path:Ze.emptyPath(),oa:!1,la:i},this.databaseId,this.yt,this.ignoreUndefinedProperties)}}function Ka(t){const e=t._freezeSettings(),n=Al(t._databaseId);return new Noe(t._databaseId,!!e.ignoreUndefinedProperties,n)}function gT(t,e,n,r,i,s={}){const o=t.da(s.merge||s.mergeFields?2:0,e,n,i);yT("Data must be an object, but it was:",o,r);const a=u2(r,o);let u,c;if(s.merge)u=new _n(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const l=[];for(const d of s.mergeFields){const h=_T(e,d,n);if(!o.contains(h))throw new b(w.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);l2(l,h)||l.push(h)}u=new _n(l),c=o.fieldTransforms.filter(d=>u.covers(d.field))}else u=null,c=o.fieldTransforms;return new Roe(new Ot(a),u,c)}function no(t,e){if(c2(t=qn(t)))return yT("Unsupported field value:",e,t),u2(t,e);if(t instanceof t2)return function(n,r){if(!r2(r.sa))throw r.ha(`${n._methodName}() can only be used with update() and set()`);if(!r.path)throw r.ha(`${n._methodName}() is not currently supported inside arrays`);const i=n._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.oa&&4!==e.sa)throw e.ha("Nested arrays are not supported");return function(n,r){const i=[];let s=0;for(const o of n){let a=no(o,r.aa(s));null==a&&(a={nullValue:"NULL_VALUE"}),i.push(a),s++}return{arrayValue:{values:i}}}(t,e)}return function(n,r){if(null===(n=qn(n)))return{nullValue:"NULL_VALUE"};if("number"==typeof n)return QV(r.yt,n);if("boolean"==typeof n)return{booleanValue:n};if("string"==typeof n)return{stringValue:n};if(n instanceof Date){const i=Ve.fromDate(n);return{timestampValue:Ra(r.yt,i)}}if(n instanceof Ve){const i=new Ve(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:Ra(r.yt,i)}}if(n instanceof pT)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof to)return{bytesValue:mU(r.yt,n._byteString)};if(n instanceof Je){const i=r.databaseId,s=n.firestore._databaseId;if(!s.isEqual(i))throw r.ha(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:Rb(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r.ha(`Unsupported field value: ${$p(n)}`)}(t,e)}function u2(t,e){const n={};return wV(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Bs(t,(r,i)=>{const s=no(i,e.ra(r));null!=s&&(n[r]=s)}),{mapValue:{fields:n}}}function c2(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof Ve||t instanceof pT||t instanceof to||t instanceof Je||t instanceof t2)}function yT(t,e,n){if(!c2(n)||"object"!=typeof(r=n)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=$p(n);throw e.ha("an object"===r?t+" a custom object":t+" "+r)}var r}function _T(t,e,n){if((e=qn(e))instanceof Wa)return e._internalPath;if("string"==typeof e)return zp(t,e);throw Wp("Field path arguments must be of type string or ",t,!1,void 0,n)}const Loe=new RegExp("[~\\*/\\[\\]]");function zp(t,e,n){if(e.search(Loe)>=0)throw Wp(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Wa(...e.split("."))._internalPath}catch{throw Wp(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Wp(t,e,n,r,i){const s=r&&!r.isEmpty(),o=void 0!==i;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new b(w.INVALID_ARGUMENT,a+t+u)}function l2(t,e){return t.some(n=>n.isEqual(e))}class vT{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Je(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Voe(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Kp("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n)}}}class Voe extends vT{data(){return super.data()}}function Kp(t,e){return"string"==typeof e?zp(t,e):e instanceof Wa?e._internalPath:e._delegate._internalPath}class Boe{convertValue(e,n="none"){switch(js(e)){case 0:return null;case 1:return e.booleanValue;case 2:return qe(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes($s(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw O()}}convertObject(e,n){const r={};return Bs(e.fields,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new pT(qe(e.latitude),qe(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=EV(e);return null==r?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(sl(e));default:return null}}convertTimestamp(e){const n=Pi(e);return new Ve(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=fe.fromString(e);P(TU(r));const i=new Us(r.get(1),r.get(3)),s=new x(r.popFirst(5));return i.isEqual(n)||Ye(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}class ro{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ya extends vT{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Xp(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Kp("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Xp extends Ya{data(e={}){return super.data(e)}}class Za{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new ro(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Xp(this._firestore,this._userDataWriter,r.key,r,new ro(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new b(w.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(o=>({type:"added",doc:new Xp(r._firestore,r._userDataWriter,o.doc.key,o.doc,new ro(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:s++}))}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(o=>i||3!==o.type).map(o=>{const a=new Xp(r._firestore,r._userDataWriter,o.doc.key,o.doc,new ro(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);let u=-1,c=-1;return 0!==o.type&&(u=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),1!==o.type&&(s=s.add(o.doc),c=s.indexOf(o.doc.key)),{type:$oe(o.type),doc:a,oldIndex:u,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function $oe(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return O()}}class qi extends Boe{constructor(e){super(),this.firestore=e}convertBytes(e){return new to(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Je(this.firestore,null,n)}}function Ol(t,e){return function(n,r){const i=new pt;return n.asyncQueue.enqueueAndForget(m(function*(){return function Kse(t,e,n){return FC.apply(this,arguments)}(yield function dT(t){return Gp(t).then(e=>e.syncEngine)}(n),r,i)})),i.promise}(ot(t),e)}!function(t,e=!0){wa=cf,sn(new Gt("firestore",(n,{instanceIdentifier:r,options:i})=>{const s=n.getProvider("app").getImmediate(),o=new Me(new bre(n.getProvider("auth-internal")),new Sre(n.getProvider("app-check-internal")),function(a,u){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new b(w.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Us(a.options.projectId,u)}(s,r),s);return i=Object.assign({useFetchStreams:e},i),o._setSettings(i),o},"PUBLIC").setMultipleInstances(!0)),Qe(lV,"3.8.1",t),Qe(lV,"3.8.1","esm2017")}();var Koe={includeMetadataChanges:!1};function DT(t,e){return void 0===e&&(e=Koe),new Oe(function(n){var r=function Hoe(t,...e){var n,r,i;t=qn(t);let s={includeMetadataChanges:!1},o=0;"object"!=typeof e[o]||fT(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges};if(fT(e[o])){const d=e[o];e[o]=null===(n=d.next)||void 0===n?void 0:n.bind(d),e[o+1]=null===(r=d.error)||void 0===r?void 0:r.bind(d),e[o+2]=null===(i=d.complete)||void 0===i?void 0:i.bind(d)}let u,c,l;if(t instanceof Je)c=ce(t.firestore,Me),l=Sa(t._key.path),u={next:d=>{e[o]&&e[o](function ET(t,e,n){const r=n.docs.get(e._key),i=new qi(t);return new Ya(t,i,e._key,r,new ro(n.hasPendingWrites,n.fromCache),e.converter)}(c,t,d))},error:e[o+1],complete:e[o+2]};else{const d=ce(t,Pt);c=ce(d.firestore,Me),l=d._query;const h=new qi(c);u={next:f=>{e[o]&&e[o](new Za(c,h,d,f))},error:e[o+1],complete:e[o+2]},function d2(t){if("L"===t.limitType&&0===t.explicitOrderBy.length)throw new b(w.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(t._query)}return function(d,h,f,p){const g=new jp(p),y=new kC(h,g,f);return d.asyncQueue.enqueueAndForget(m(function*(){return function TC(t,e){return SC.apply(this,arguments)}(yield za(d),y)})),()=>{g.bc(),d.asyncQueue.enqueueAndForget(m(function*(){return function AC(t,e){return xC.apply(this,arguments)}(yield za(d),y)}))}}(ot(c),l,a,u)}(t,e,{next:n.next.bind(n),error:n.error.bind(n),complete:n.complete.bind(n)});return{unsubscribe:r}})}function tae(t,e){return void 0===e&&(e={}),function eae(t){return DT(t,{includeMetadataChanges:!0}).pipe(se(function(e){return e.docs}))}(t).pipe(se(function(n){return n.map(function(r){return function v2(t,e){void 0===e&&(e={});var n=t.data();return!t.exists()||"object"!=typeof n||null===n||e.idField&&(n[e.idField]=t.id),n}(r,e)})}))}class eg{constructor(e){return e}}const D2="firestore",TT=new L("angularfire2.firestore-instances");function iae(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new eg(r)}}const sae={provide:class nae{constructor(){return cI(D2)}},deps:[[new Zt,TT]]},oae={provide:eg,useFactory:function rae(t,e){const n=function uI(t,e,n){if(e){if(1===e.length)return e[0];const s=e.filter(o=>o.app===n);if(1===s.length)return s[0]}return n.container.getProvider(t).getImmediate({optional:!0})}(D2,t,e);return n&&new eg(n)},deps:[[new Zt,TT],ha]};let aae=(()=>{class t{constructor(){Qe("angularfire",eI.full,"fst")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=zt({type:t}),t.\u0275inj=Ft({providers:[oae,sae]}),t})();const cae=lI(tae,!0),lae=lI(Moe,!0);class io{constructor(e){this.firestore=e}addProduct(e){return function Goe(t,e){const n=ce(t.firestore,Me),r=GB(t),i=function IT(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}(t.converter,e);return Ol(n,[gT(Ka(t.firestore),"addDoc",r._key,i,null!==t.converter,{}).toMutation(r._key,Ne.exists(!1))]).then(()=>r)}(jB(this.firestore,"farmacia"),e)}getFarmacia(){const e=jB(this.firestore,"farmacia");return cae(e,{idField:"id"})}deleteFarmacia(e){return function joe(t){return Ol(ce(t.firestore,Me),[new ka(t._key,Ne.none())])}(GB(this.firestore,`farmacia/${e.id}`))}}io.\u0275fac=function(e){return new(e||io)($(eg))},io.\u0275prov=q({token:io,factory:io.\u0275fac,providedIn:"root"});class Xa{constructor(e,n){this.farmaciaService=e,this.router=n,this.formRegister=new qh({producto:new vc,costo:new vc,foto:new vc})}ngOnInit(){}onSubmit(){const e=this.farmaciaService.addProduct(this.formRegister.value);console.log(e),this.router.navigate(["/lista"])}}Xa.\u0275fac=function(e){return new(e||Xa)(C(io),C(nn))},Xa.\u0275cmp=Yi({type:Xa,selectors:[["app-registro"]],decls:25,vars:1,consts:[[1,"w-11/12","bg-slate-100","p-5","rounded-xl","mx-auto","mt-12","sm:w-4/5","md:w-4/6","lg:w-3/6","xl:w-2/5"],[3,"formGroup"],[1,"text-center","text-2xl"],[1,"p-6","my-4"],["for","producto"],["type","text","formControlName","producto","name","producto",1,"rounded-lg","border","border-solid","border-slate-500","px-4","py-2","w-full"],["for","costo"],["type","text","formControlName","costo","name","costo",1,"rounded-lg","border","border-solid","border-slate-500","px-4","py-2","w-full"],["for","foto"],["type","text","formControlName","foto","name","foto",1,"rounded-lg","border","border-solid","border-slate-500","px-4","py-2","w-full"],[1,"rounded-lg","bg-blue-500","text-white","px-4","py-2",3,"click"]],template:function(e,n){1&e&&(Be(0,"div",0)(1,"form",1)(2,"h1",2),Jt(3,"Registrar producto"),$e(),Be(4,"div",3)(5,"div")(6,"label",4),Jt(7,"Producto"),$e()(),Be(8,"div"),Hr(9,"input",5),$e()(),Be(10,"div",3)(11,"div")(12,"label",6),Jt(13,"Costo"),$e()(),Be(14,"div"),Hr(15,"input",7),$e()(),Be(16,"div",3)(17,"div")(18,"label",8),Jt(19,"Foto"),$e()(),Be(20,"div"),Hr(21,"input",9),$e()(),Be(22,"div")(23,"button",10),Xt("click",function(){return n.onSubmit()}),Jt(24,"Registrar"),$e()()()()),2&e&&(ko(1),Fd("formGroup",n.formRegister))},dependencies:[U1,Uh,b1,C1,Zh,nv]});class Pl{}function dae(t,e){if(1&t){const n=function ix(){return E()}();Be(0,"tr",6)(1,"td",7),Jt(2),$e(),Be(3,"td",7),Jt(4),$e(),Be(5,"td",7),Hr(6,"img",8),$e(),Be(7,"td",7)(8,"button",9),Xt("click",function(){const s=function C0(t){return X.lFrame.contextLView=t,t[8]}(n).$implicit;return function T0(t){return X.lFrame.contextLView=null,t}(lx().onClickDelete(s))}),Jt(9,"Eliminar"),$e()()()}if(2&t){const n=e.$implicit;ko(2),ty(n.producto),ko(2),Bd("S/. ",n.costo,""),ko(2),Qm("src",n.foto,gm)}}Pl.\u0275fac=function(e){return new(e||Pl)},Pl.\u0275cmp=Yi({type:Pl,selectors:[["app-home"]],decls:3,vars:0,template:function(e,n){1&e&&(Be(0,"p"),Jt(1,"home works!"),$e(),Hr(2,"app-registro"))},dependencies:[Xa]});class Fl{constructor(e,n){this.farmaService=e,this.router=n}ngOnInit(){this.farmaService.getFarmacia().subscribe(e=>{this.farmacia=e})}onClickDelete(e){const n=this.farmaService.deleteFarmacia(e);console.log(n)}onClickNuevo(){this.router.navigate(["/registro"])}}Fl.\u0275fac=function(e){return new(e||Fl)(C(io),C(nn))},Fl.\u0275cmp=Yi({type:Fl,selectors:[["app-lista"]],decls:16,vars:1,consts:[[1,"w-4/6","mx-auto","my-4"],[1,"bg-green-500","duration-300","tex-white","px-8","py-2","rounded-xl","text-white","hover:bg-green-600",3,"click"],[1,"table-auto","border-collapse","border","border-slate-400","w-4/6","mx-auto","text-center"],[1,"bg-black","text-white","text-lg"],[1,"border","border-slate-300","py-3"],["class","group/item hover:bg-blue-100",4,"ngFor","ngForOf"],[1,"group/item","hover:bg-blue-100"],[1,"border","border-slate-300"],["alt","","width","100",1,"mx-auto","my-1",3,"src"],[1,"bg-red-500","duration-300","tex-white","px-4","py-2","rounded-xl","text-white","hover:bg-red-700",3,"click"]],template:function(e,n){1&e&&(Be(0,"div",0)(1,"button",1),Xt("click",function(){return n.onClickNuevo()}),Jt(2,"Registrar producto nuevo"),$e()(),Be(3,"table",2)(4,"thead",3)(5,"tr")(6,"th",4),Jt(7,"Nombre"),$e(),Be(8,"th",4),Jt(9,"Precio"),$e(),Be(10,"th",4),Jt(11,"Imagen"),$e(),Be(12,"th",4),Jt(13,"Tools"),$e()()(),Be(14,"tbody"),function nx(t,e,n,r,i,s,o,a){const u=E(),c=de(),l=t+22,d=c.firstCreatePass?function Vq(t,e,n,r,i,s,o,a,u){const c=e.consts,l=No(e,t,4,o||null,mi(c,a));Fm(e,n,l,mi(c,u)),id(e,l);const d=l.tViews=Pm(2,l,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c);return null!==e.queries&&(e.queries.template(e,l),d.queries=e.queries.embeddedTView(l)),l}(l,c,u,e,n,r,i,s,o):c.data[l];dr(d,!1);const h=u[11].createComment("");_d(c,u,h,d),Bt(h,u),xd(u,u[l]=FA(h,u,h,d)),td(d)&&Nm(c,u,d),null!=o&&Om(u,d,a)}(15,dae,10,3,"tr",5),$e()()),2&e&&(ko(15),Fd("ngForOf",n.farmacia))},dependencies:[aR]});const hae=[{path:"",component:Pl},{path:"registro",component:Xa},{path:"lista",component:Fl},{path:"**",redirectTo:"",pathMatch:"full"}];class Ja{}Ja.\u0275fac=function(e){return new(e||Ja)},Ja.\u0275mod=zt({type:Ja}),Ja.\u0275inj=Ft({imports:[ZN.forRoot(hae),ZN]});class Ll{constructor(){this.title="actividad-24"}}Ll.\u0275fac=function(e){return new(e||Ll)},Ll.\u0275cmp=Yi({type:Ll,selectors:[["app-root"]],decls:1,vars:0,template:function(e,n){1&e&&Hr(0,"router-outlet")},dependencies:[S_]});const fae_firebase={projectId:"empezando2023",appId:"1:1080166802416:web:8a8aa398e1527a36767335",storageBucket:"empezando2023.appspot.com",apiKey:"AIzaSyAL6xs58PFztqdfRICKB401ZixZKW0J9sI",authDomain:"empezando2023.firebaseapp.com",messagingSenderId:"1080166802416"};class eu{}eu.\u0275fac=function(e){return new(e||eu)},eu.\u0275mod=zt({type:eu}),eu.\u0275inj=Ft({imports:[Jy,O9,P9]});class tu{}tu.\u0275fac=function(e){return new(e||tu)},tu.\u0275mod=zt({type:tu}),tu.\u0275inj=Ft({imports:[Jy]});class nu{}nu.\u0275fac=function(e){return new(e||nu)},nu.\u0275mod=zt({type:nu,bootstrap:[Ll]}),nu.\u0275inj=Ft({imports:[q6,Ja,function oJ(t,...e){return{ngModule:sJ,providers:[{provide:dI,useFactory:iJ(t),multi:!0,deps:[Fe,xn,DP,...e]}]}}(()=>aJ(fae_firebase)),function uae(t,...e){return{ngModule:aae,providers:[{provide:TT,useFactory:iae(t),multi:!0,deps:[Fe,xn,DP,bP,[new Zt,CF],[new Zt,KF],...e]}]}}(()=>lae()),eu,tu]}),H6().bootstrapModule(nu).catch(t=>console.error(t))}},De=>{De(De.s=596)}]);